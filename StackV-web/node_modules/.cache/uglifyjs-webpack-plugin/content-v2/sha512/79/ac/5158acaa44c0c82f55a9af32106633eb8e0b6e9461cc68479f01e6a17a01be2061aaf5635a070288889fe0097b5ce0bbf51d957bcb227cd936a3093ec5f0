{"code":"!function(e){function t(t){for(var n,i,o=t[0],a=t[1],s=0,c=[];s<o.length;s++)i=o[s],r[i]&&c.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(u&&u(t);c.length;)c.shift()()}var n={},r={4:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,i){n=r[e]=[t,i]});t.push(n[2]=o);var a,s=document.getElementsByTagName(\"head\")[0],u=document.createElement(\"script\");u.charset=\"utf-8\",u.timeout=120,i.nc&&u.setAttribute(\"nonce\",i.nc),u.src=function(e){return i.p+\"\"+({0:\"vendors~datamodel~serverdata~visualmodel\",1:\"datamodel~visualmodel\",2:\"visualmodel\",3:\"serverdata\"}[e]||e)+\".bundle.js\"}(e),a=function(t){u.onerror=u.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var i=t&&(\"load\"===t.type?\"missing\":t.type),o=t&&t.target&&t.target.src,a=new Error(\"Loading chunk \"+e+\" failed.\\n(\"+i+\": \"+o+\")\");a.type=i,a.request=o,n[1](a)}r[e]=void 0}};var c=setTimeout(function(){a({type:\"timeout\",target:u})},12e4);u.onerror=u.onload=a,s.appendChild(u)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"/StackV-web/js/\",i.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=a;i(i.s=24)}([,,,,,,,,,,,,,,function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},,,,,function(e,t){var n=e.exports={version:\"2.5.6\"};\"number\"==typeof __e&&(__e=n)},function(e,t,n){e.exports=n(237)},,,,function(e,t,n){\"use strict\";var r=n(14);Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadNavbar=g,t.verifyPageRoles=m,t.prettyPrintInfo=function(){var e=document.getElementById(\"profile-details-modal-text-area\").value,t=JSON.parse(e),n=(0,i.default)(t,void 0,4);document.getElementById(\"profile-details-modal-text-area\").value=n},t.checkInstance=function(e){var t=window.location.origin+\"/StackV-web/restapi/service/\"+e+\"/status\";o.default.ajax({url:t,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+v.token),e.setRequestHeader(\"Refresh\",v.refreshToken)},success:function(e){var t=document.getElementById(\"instance-status\");t.innerHTML=e}})},t.cancelInstance=function(e){var t=window.location.origin+\"/StackV-web/restapi/app/service/\"+e+\"/cancel\";o.default.ajax({url:t,type:\"PUT\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+v.token)},success:function(e){window.location.reload(!0)}})},t.forceCancelInstance=function(e){var t=window.location.origin+\"/StackV-web/restapi/app/service/\"+e+\"/force_cancel\";o.default.ajax({url:t,type:\"PUT\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+v.token)},success:function(e){window.location.reload(!0)}})},t.reinstateInstance=function(e){var t=window.location.origin+\"/StackV-web/restapi/app/service/\"+e+\"/reinstate\";o.default.ajax({url:t,type:\"PUT\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+v.token)},success:function(e){window.location.reload(!0)}})},t.forceReinstateInstance=function(e){var t=window.location.origin+\"/StackV-web/restapi/app/service/\"+e+\"/force_reinstate\";o.default.ajax({url:t,type:\"PUT\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+v.token)},success:function(e){window.location.reload(!0)}})},t.forceRetryInstance=function(e){var t=window.location.origin+\"/StackV-web/restapi/app/service/\"+e+\"/force_retry\";o.default.ajax({url:t,type:\"PUT\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+v.token)},success:function(e){window.location.reload(!0)}})},t.modifyInstance=function(e){var t=window.location.origin+\"/StackV-web/restapi/app/service/\"+e+\"/modify\";o.default.ajax({url:t,type:\"PUT\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+v.token)},success:function(e){window.location.reload(!0)}})},t.forceModifyInstance=function(e){var t=window.location.origin+\"/StackV-web/restapi/app/service/\"+e+\"/force_modify\";o.default.ajax({url:t,type:\"PUT\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+v.token)},success:function(e){window.location.reload(!0)}})},t.verifyInstance=function(e){var t=window.location.origin+\"/StackV-web/restapi/app/service/\"+e+\"/verify\";o.default.ajax({url:t,type:\"PUT\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+v.token),e.setRequestHeader(\"Refresh\",v.refreshToken)},success:function(e){window.location.reload(!0)}})},t.deleteInstance=function(e){var t=window.location.origin+\"/StackV-web/restapi/app/service/\"+e+\"/delete\";o.default.ajax({url:t,type:\"PUT\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+v.token)},success:function(e){console.log(\"DELETION SUCCESSFUL\"),window.location.replace(\"/StackV-web/\")}})},t.getURLParameter=y,t.getTitle=function(e){return e.match(\"<title>(.*)?</title>\")[1]},t.clearCounters=b,t.reloadPage=function(){window.location.reload(!0)},t.reloadPanel=function(e){(0,o.default)(\"#\"+e).load(document.URL+\" #\"+e)},t.emptyElement=function(e){(0,o.default)(\"#\"+e).empty()},t.createCORSRequest=function(e,t){var n=new XMLHttpRequest;\"withCredentials\"in n?n.open(e,t,!0):\"undefined\"!=typeof XDomainRequest?(n=new XDomainRequest).open(e,t):n=null;return n},t.enableLoading=function(){(0,o.default)(\"#main-pane\").addClass(\"loading\")},t.disableLoading=function(){(0,o.default)(\"#main-pane\").removeClass(\"loading\")},t.keycloak=t.page=void 0;var i=r(n(20)),o=r(n(141));n(236);var a,s=n(187),u=n(210),c=n(192),l=n(135),f=n(190),d=n(189),h=n(188);t.page=a;var p,v=Keycloak({realm:\"StackV\",\"realm-public-key\":\"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAukpMOpeNbu+lfAdcKJRk00Fxln6lvA3RGoEv+BE/cjbbjvg6Rsr1p94XFKuHifx3Kmngtd00XEnyDxg5ODHFrtXi+z1DYbx4m3ajkZSVaWXwkOqnPPC327PHvTgd2Tf475lW0yR01iZMDLyjjERbkps3guiqB6gnMSiuqtEBFSekCXCtkxYrFl8RFFAVfzAW5lRXvySO50gQHGUvV/FevtpgNU6HS3sIa9uitSd+WgqCotZW6u9C3FygnuKt8VNqvNv7MP7hVt0rlMo/yP1OgYB0jBpHf1tvwYMFvz6kEauk1HfbYZCvTT1Yr7AHM5i8NZzwGeK444QAyLrBhT2oNQIDAQAB\",\"auth-server-url\":\"https://k152.maxgigapop.net:8543/auth\",\"ssl-required\":\"external\",clientId:\"StackV\",credentials:{secret:\"ae53fbea-8812-4c13-918f-0065a1550b7c\"},\"use-resource-role-mappings\":!0});t.keycloak=v;function g(){(0,o.default)(\"#nav\").load(\"/StackV-web/nav/navbar.html\",function(){switch(m(),a){case\"catalog\":(0,o.default)(\"li#catalog-tab\").addClass(\"active\");break;case\"admin\":(0,o.default)(\"li#admin-tab\").addClass(\"active\");break;case\"acl\":(0,o.default)(\"li#acl-tab\").addClass(\"active\");break;case\"driver\":(0,o.default)(\"li#driver-tab\").addClass(\"active\");break;case\"details\":(0,o.default)(\"li#details-tab\").addClass(\"active\");break;case\"visualization\":(0,o.default)(\"li#visualization-tab\").addClass(\"active\")}var e=window.location.origin+\"/StackV-web/restapi/app/logging/\";o.default.ajax({url:e,type:\"GET\",dataType:\"text\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+v.token)},success:function(e){(0,o.default)(\"#select-logging-level\").val(e)},error:function(e,t,n){console.log(e),console.log(t),console.log(n)}}),(0,o.default)(\"#logout-button\").click(function(e){v.logout(),e.preventDefault()}),(0,o.default)(\"#account-button\").click(function(e){v.accountManagement(),e.preventDefault()})})}function m(){if(v.tokenParsed.realm_access.roles.indexOf(\"A_Admin\")<=-1&&(0,o.default)(\".nav-admin\").hide(),v.tokenParsed.realm_access.roles.includes(\"F_Drivers-R\")||(0,o.default)(\"#driver-tab\").hide(),v.tokenParsed.realm_access.roles.includes(\"F_ACL-R\")||(0,o.default)(\"#acl-tab\").hide(),v.tokenParsed.realm_access.roles.includes(\"F_Visualization-R\")||(0,o.default)(\"#visualization-tab\").hide(),y(\"intent\"))var e=y(\"intent\").toUpperCase();switch(a){case\"acl\":-1===v.tokenParsed.realm_access.roles.indexOf(\"F_ACL-R\")&&(window.location.href=\"/StackV-web/portal/\");break;case\"admin\":-1===v.tokenParsed.realm_access.roles.indexOf(\"A_Admin\")&&(window.location.href=\"/StackV-web/portal/\");break;case\"details\":if(-1===v.tokenParsed.realm_access.roles.indexOf(\"A_Admin\")){var t=sessionStorage.getItem(\"instance-uuid\"),n=window.location.origin+\"/StackV-web/restapi/app/access/instances/\"+t;o.default.ajax({url:n,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+v.token)},success:function(e){\"false\"===e&&(sessionStorage.removeItem(\"instance-uuid\"),window.location.href=\"/StackV-web/portal/\")}})}break;case\"driver\":-1===v.tokenParsed.realm_access.roles.indexOf(\"F_Drivers-R\")&&(window.location.href=\"/StackV-web/portal/\");break;case\"intent\":-1===v.tokenParsed.realm_access.roles.indexOf(\"F_Services-\"+e)&&(window.location.href=\"/StackV-web/portal/\");break;case\"visualization\":-1===v.tokenParsed.realm_access.roles.indexOf(\"F_Visualization-R\")&&(window.location.href=\"/StackV-web/portal/\")}}function y(e){return decodeURIComponent((new RegExp(\"[?|&]\"+e+\"=([^&;]+?)(&|#|;|$)\").exec(location.search)||[null,\"\"])[1].replace(/\\+/g,\"%20\"))||null}function b(){0,1}(0,o.default)(function(){switch(o.default.ajaxSetup({cache:!1,timeout:6e4,beforeSend:function(e){void 0===v.token?(e.setRequestHeader(\"Authorization\",\"bearer \"+sessionStorage.getItem(\"token\")),e.setRequestHeader(\"Refresh\",sessionStorage.getItem(\"refresh\"))):(e.setRequestHeader(\"Authorization\",\"bearer \"+v.token),e.setRequestHeader(\"Refresh\",v.refreshToken))}}),window.location.pathname){case\"/StackV-web/portal/\":t.page=a=\"catalog\";break;case\"/StackV-web/portal/admin/\":t.page=a=\"admin\";break;case\"/StackV-web/portal/acl/\":t.page=a=\"acl\";break;case\"/StackV-web/portal/driver/\":t.page=a=\"driver\";break;case\"/StackV-web/portal/details/\":t.page=a=\"details\";break;case\"/StackV-web/portal/intent/\":t.page=a=\"intent\";break;case\"/StackV-web/visual/manifest/manifestPortal.jsp\":t.page=a=\"manifest\";break;case\"/StackV-web/visual/graphTest.jsp\":case\"/StackV-web/visual/\":t.page=a=\"visualization\"}(0,o.default)(\".hide-on-load\").addClass(\"hidden\"),setTimeout(function(){(0,o.default)(\".hide-on-load\").removeClass(\"hidden\"),(0,o.default)(\".hide-on-load\").removeClass(\"hide-on-load\")},2e3),v.init().success(function(e){if(e){v.isTokenExpired();p=!!e,sessionStorage.setItem(\"loggedIn\",p),p&&(sessionStorage.setItem(\"username\",v.tokenParsed.preferred_username),sessionStorage.setItem(\"subject\",v.tokenParsed.sub),sessionStorage.setItem(\"token\",v.token),sessionStorage.setItem(\"refresh\",v.refreshToken))}else v.login()}).error(function(){alert(\"failed to initialize\")}),v.onAuthSuccess=function(){switch(window.keycloak=v,g(),a){case\"catalog\":(0,o.default)(\"li#catalog-tab\").addClass(\"active\"),(0,l.loadCatalog)();break;case\"admin\":(0,o.default)(\"li#admin-tab\").addClass(\"active\"),(0,u.loadAdmin)();break;case\"acl\":(0,o.default)(\"li#acl-tab\").addClass(\"active\"),(0,c.loadACLPortal)();break;case\"driver\":(0,o.default)(\"li#driver-tab\").addClass(\"active\"),(0,d.loadDriverPortal)();break;case\"intent\":(0,h.loadIntent)(y(\"intent\"));break;case\"details\":(0,o.default)(\"li#details-tab\").addClass(\"active\"),sessionStorage.getItem(\"instance-uuid\")?(0,f.loadDetails)():(alert(\"No Service Instance Selected!\"),window.location.replace(\"/StackV-web/\"));break;case\"manifest\":break;case\"visualization\":Promise.resolve().then(n.t.bind(null,132,7)).then(function(e){e.default(\"#vis-panel\"),(0,o.default)(\"#vis-panel\").css(\"opacity\",\"1\")})}(0,s.loadClipbook)(),setInterval(function(){v.updateToken(70)},6e4)},v.onTokenExpire=function(){v.updateToken(20).success(function(){sessionStorage.setItem(\"username\",v.tokenParsed.preferred_username),sessionStorage.setItem(\"subject\",v.tokenParsed.sub),sessionStorage.setItem(\"token\",v.token),sessionStorage.setItem(\"refresh\",v.refreshToken)}).error(function(){})},(0,o.default)(\".clickable-row\").click(function(){sessionStorage.setItem(\"uuid\",(0,o.default)(this).data(\"href\")),window.document.location=\"/StackV-web/ops/details/templateDetails.jsp\"}),(0,o.default)(\".checkbox-level\").click(function(e){e.preventDefault()}),b()})},,,,,,,,,function(e,t,n){var r=n(91)(\"wks\"),i=n(68),o=n(34).Symbol,a=\"function\"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)(\"Symbol.\"+e))}).store=r},function(e,t){var n=e.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=n)},,,,function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(58),i=n(139),o=n(94),a=Object.defineProperty;t.f=n(40)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(61)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(e,t,n){var r=n(219),i=n(95);e.exports=function(e){return r(i(e))}},,,,,,,,,,,function(e,t,n){\"use strict\";var r=n(14);Object.defineProperty(t,\"__esModule\",{value:!0}),t.initRefresh=function(e){$(\"body\").on(\"change\",\"#sub-nav #refresh-timer\",function(){p(this)}),$(\"body\").on(\"click\",\"#sub-nav #refresh-button\",function(){m()}),v(e)},t.refreshSync=d,t.pauseRefresh=function(){clearInterval(i),clearInterval(a),document.getElementById(\"refresh-button\").innerHTML=\"Paused\",$(\"#refresh-timer\").attr(\"disabled\",!0)},t.resumeRefresh=h,t.timerChange=p,t.setRefresh=v,t.refreshCountdown=g,t.reloadDataManual=m,t.reloadData=y;var i,o,a,s=r(n(20)),u=n(24),c=n(60),l=n(135),f=n(132);function d(e,t){e&&(sessionStorage.setItem(\"token\",u.keycloak.token),sessionStorage.setItem(\"refresh\",u.keycloak.refreshToken));var n=!1;void 0===t&&(t=o),\"Manually Refresh Now\"===document.getElementById(\"refresh-button\").innerHTML&&(n=!0),!1===n?(o=t,$(\"#refresh-button\").html(\"Refresh in \"+o+\" seconds\")):$(\"#refresh-button\").html(\"Manually Refresh Now\")}function h(){var e=$(\"#refresh-timer\");e.attr(\"disabled\")&&(e.attr(\"disabled\",!1),\"off\"===e.val()?$(\"#refresh-button\").html(\"Manually Refresh Now\"):v(e.val()))}function p(e){clearInterval(i),clearInterval(a),\"off\"!==e.value?v(e.value):(document.getElementById(\"refresh-button\").innerHTML=\"Manually Refresh Now\",$(\".loading-prog\").css(\"width\",\"0%\"))}function v(e){o=e,a=setInterval(function(){g()},1e3),i=setInterval(function(){$(\".loading-prog\").css(\"width\",\"0%\"),y()},1e3*e)}function g(){$(\"#refresh-button\").html(\"Refresh in \"+(o-1)+\" seconds\"),o--;var e=$(\"#refresh-timer\").val(),t=(e-o+.5)/e;$(\".loading-prog\").css(\"width\",100*t+\"%\")}function m(){if($(\"#refresh-timer\").attr(\"disabled\"))c.openLogDetails=function(){throw new Error('\"openLogDetails\" is read-only.')}(),$(\"tr.shown\").each(function(){c.dataTable.row(this).child.hide(),$(this).removeClass(\"shown\")}),h();else{var e=document.getElementById(\"refresh-timer\");\"off\"!==e.value&&p(e),$(\".loading-prog\").css(\"width\",\"0%\"),y()}}function y(){u.keycloak.updateToken(90).error(function(){console.log(\"Error updating token!\")}).success(function(e){var t,n=$(\"#refresh-timer\").val();switch(u.page){case\"catalog\":setTimeout(function(){(0,c.reloadLogs)(),(0,l.reloadModals)()},500);break;case\"admin\":setTimeout(function(){(0,c.reloadLogs)()},500);break;case\"visualization\":(0,f.fetchNewData)()}t=window.location.origin+\"/StackV-web/restapi/service/ready\",$.ajax({url:t,type:\"GET\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+u.keycloak.token),e.setRequestHeader(\"Refresh\",u.keycloak.refreshToken)},success:function(e){!0===e?$(\"#system-health-span\").removeClass(\"fail\").removeClass(\"glyphicon-ban-circle\").addClass(\"pass\").addClass(\"glyphicon-ok-circle\"):$(\"#system-health-span\").removeClass(\"pass\").removeClass(\"glyphicon-ok-circle\").addClass(\"fail\").addClass(\"glyphicon-ban-circle\")},error:function(e){console.log(\"Error in system health check: \"+(0,s.default)(e))}}),d(e,n)})}},function(e,t,n){var r=n(39),i=n(67);e.exports=n(40)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},,,,,function(e,t,n){var r=n(59);e.exports=function(e){if(!r(e))throw TypeError(e+\" is not an object!\");return e}},function(e,t){e.exports=function(e){return\"object\"==typeof e?null!==e:\"function\"==typeof e}},function(e,t,n){\"use strict\";var r=n(14);Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadLoggingDataTable=function(e){u=\"logging\",t.dataTable=c=$(\"#loggingData\").DataTable({ajax:{url:e,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+o.keycloak.token)},data:function(e){f>0&&(e.start=l,f--)}},buttons:[\"csv\"],columns:[{className:\"details-control\",orderable:!1,data:null,defaultContent:\"\",width:\"20px\"},{data:\"timestamp\",width:\"150px\"},{data:\"level\",width:\"60px\"},{data:\"event\"},{data:\"referenceUUID\",width:\"275px\"},{data:\"message\",visible:!1,searchable:!1}],createdRow:function(e,t,n){$(e).addClass(\"row-\"+t.level.toLowerCase())},dom:\"Bfrtip\",initComplete:function(e,t){console.log(\"DataTables has finished its initialization.\")},order:[[1,\"asc\"]],ordering:!1,processing:!0,scroller:{displayBuffer:15},scrollX:!0,scrollY:\"calc(60vh - 130px)\",serverSide:!0}),$(\"#loggingData\").on(\"preXhr.dt\",function(){}),$(\"#loggingData\").on(\"draw.dt\",function(){}),$(\"#loggingData tbody\").on(\"click\",\"td.details-control\",function(){var e=$(this).closest(\"tr\"),n=c.row(e);n.child.isShown()?(t.openLogDetails=s-=1,n.child.hide(),e.removeClass(\"shown\"),0===s&&0===c.scroller.page().start&&(0,a.resumeRefresh)()):(t.openLogDetails=s+=1,n.child(function(e){var t='<table cellpadding=\"5\" cellspacing=\"0\" border=\"0\">';\"{}\"!==e.message&&(t+='<tr><td style=\"width:10%\">Message:</td><td style=\"white-space: normal\">'+e.message+\"</td></tr>\");\"\"!==e.exception&&(t+='<tr><td>Exception:</td><td><textarea class=\"dataTables-child\">'+e.exception+\"</textarea></td></tr>\");\"\"!==e.referenceUUID&&(t+=\"<tr><td>UUID:</td><td>\"+e.referenceUUID+\"</td></tr>\");return t+=\"<tr><td>Logger:</td><td>\"+e.logger+\"</td></tr></table>\"}(n.data())).show(),e.addClass(\"shown\"),(0,a.pauseRefresh)())}),$(\"div.dataTables_scrollBody\").scroll(function(){0===c.scroller.page().start&&0===s?(0,a.resumeRefresh)():(0,a.pauseRefresh)()}),c.on(\"draw\",function(){l=c.ajax.params().start}),setInterval(function(){!function(){d=new Date;var e=$(\"#log-time\"),t=(\"0\"+d.getHours()).slice(-2)+\":\"+(\"0\"+d.getMinutes()).slice(-2)+\":\"+(\"0\"+d.getSeconds()).slice(-2);e.text(t)}()},1e3);var n=sessionStorage.getItem(\"logging-level\");null!==n?$(\"#logging-filter-level\").val(n):(sessionStorage.setItem(\"logging-level\",\"INFO\"),$(\"#logging-filter-level\").val(\"INFO\"));$(\"#logging-filter-level\").change(function(){h()})},t.loadInstanceDataTable=function(e){u=\"instance\",t.dataTable=c=$(\"#loggingData\").DataTable({ajax:{url:e,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+o.keycloak.token)}},buttons:[\"csv\"],columns:[{data:\"alias\"},{data:\"type\",width:\"110px\"},{data:\"referenceUUID\",width:\"250px\"},{data:\"state\",width:\"125px\"}],createdRow:function(e,t,n){$(e).addClass(\"instance-row\"),$(e).attr(\"data-verification_state\",t.verification),$(e).attr(\"data-last_state\",t.lastState),$(e).attr(\"data-owner\",t.owner)},dom:\"Bfrtip\",initComplete:function(e,t){console.log(\"DataTables has finished its initialization.\")},ordering:!1,pageLength:6,scrollX:!0,scrollY:\"375px\"}),$(\"#loggingData tbody\").on(\"click\",\"tr.instance-row\",function(){sessionStorage.setItem(\"instance-uuid\",this.children[2].innerHTML),window.document.location=\"/StackV-web/portal/details/\"})},t.reloadLogs=function(){f=2,c&&\"logging\"===u&&null!==sessionStorage.getItem(\"logging-level\")?c.ajax.reload(h(),!1):c.ajax.reload(null,!1)},t.filterLogs=h,t.downloadLogs=function(){var e=[];if(c){var t=c.rows().data();for(var n in t){var r=t[n];e.push((0,i.default)(r))}}return e},t.dataTable=t.openLogDetails=void 0;var i=r(n(20)),o=n(24),a=n(52),s=0;t.openLogDetails=s;var u,c,l=0,f=0;t.dataTable=c;var d=new Date;function h(){var e=$(\"#logging-filter-level\").val();if(void 0!==e){sessionStorage.setItem(\"logging-level\",e);var t,n=c.ajax.url().split(/[?&]+/),r=n[0];for(var i in n)-1!==n[i].indexOf(\"refUUID\")&&(t=n[i]);r+=\"?level=\"+e,t&&(r+=\"&\"+t),c.ajax.url(r).load(null,!1)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},,,,function(e,t,n){var r=n(34),i=n(19),o=n(181),a=n(53),s=n(38),u=function(e,t,n){var c,l,f,d=e&u.F,h=e&u.G,p=e&u.S,v=e&u.P,g=e&u.B,m=e&u.W,y=h?i:i[t]||(i[t]={}),b=y.prototype,w=h?r:p?r[t]:(r[t]||{}).prototype;for(c in h&&(n=t),n)(l=!d&&w&&void 0!==w[c])&&s(y,c)||(f=l?w[c]:n[c],y[c]=h&&\"function\"!=typeof w[c]?n[c]:g&&l?o(f,r):m&&w[c]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):v&&\"function\"==typeof f?o(Function.call,f):f,v&&((y.virtual||(y.virtual={}))[c]=f,e&u.R&&b&&!b[c]&&a(b,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return\"Symbol(\".concat(void 0===e?\"\":e,\")_\",(++n+r).toString(36))}},function(e,t,n){var r=n(136),i=n(90);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=!0},,,,,,,,,,,,,,,,function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(34),i=n(19),o=n(70),a=n(88),s=n(39).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});\"_\"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(33)},function(e,t,n){var r=n(39).f,i=n(38),o=n(33)(\"toStringTag\");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t){e.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(e,t,n){var r=n(19),i=n(34),o=i[\"__core-js_shared__\"]||(i[\"__core-js_shared__\"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:r.version,mode:n(70)?\"pure\":\"global\",copyright:\"Â© 2018 Denis Pushkarev (zloirock.ru)\"})},function(e,t,n){var r=n(91)(\"keys\"),i=n(68);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(59);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&\"function\"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if(\"function\"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&\"function\"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError(\"Can't convert object to primitive value\")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError(\"Can't call method on  \"+e);return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(179),i=n(178);e.exports=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=i&&r?r(e,n):{};o.get||o.set?i(t,n,o):t[n]=e[n]}return t.default=e,t}},function(e,t,n){var r=n(209),i=n(207);function o(e){return(o=\"function\"==typeof i&&\"symbol\"==typeof r?function(e){return typeof e}:function(e){return e&&\"function\"==typeof i&&e.constructor===i&&e!==i.prototype?\"symbol\":typeof e})(e)}function a(t){return\"function\"==typeof i&&\"symbol\"===o(r)?e.exports=a=function(e){return o(e)}:e.exports=a=function(e){return e&&\"function\"==typeof i&&e.constructor===i&&e!==i.prototype?\"symbol\":o(e)},a(t)}e.exports=a},function(e,t,n){var r=n(86),i=n(67),o=n(41),a=n(94),s=n(38),u=n(139),c=Object.getOwnPropertyDescriptor;t.f=n(40)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){\"use strict\";var r=n(212)(!0);n(140)(String,\"String\",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(95);e.exports=function(e){return Object(r(e))}},function(e,t,n){e.exports=n(223)},function(e,t,n){var r=n(65),i=n(19),o=n(61);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),\"Object\",a)}},function(e,t,n){var r=n(58),i=n(216),o=n(90),a=n(92)(\"IE_PROTO\"),s=function(){},u=function(){var e,t=n(138)(\"iframe\"),r=o.length;for(t.style.display=\"none\",n(213).appendChild(t),t.src=\"javascript:\",(e=t.contentWindow.document).open(),e.write(\"<script>document.F=Object<\\/script>\"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){n(222);for(var r=n(34),i=n(53),o=n(66),a=n(33)(\"toStringTag\"),s=\"CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList\".split(\",\"),u=0;u<s.length;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(e,t,n){\"use strict\";var r=n(123),i=n(14);Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){(0,s.default)(\"#sub-nav\").load(\"/StackV-web/nav/catalog_navbar.html\",function(){(0,u.initRefresh)((0,s.default)(\"#refresh-timer\").val())}),l(),window.r=c.default,window.d3=a,Promise.all([n.e(0),n.e(3)]).then(n.t.bind(null,437,7)).then(function(e){window.server=e.default}),Promise.all([n.e(0),n.e(1)]).then(n.t.bind(null,438,7)).then(function(e){window.d=e.default}),Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.t.bind(null,439,7)).then(function(t){var n=t.default;window.v=n;var r=window.location.origin+\"/StackV-web/restapi/model/refresh/all\";s.default.ajax({url:r,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+keycloak.token),e.setRequestHeader(\"Refresh\",keycloak.refreshToken)},success:function(t){console.log(t);var r=new n(t,document.querySelector(e));window.data=r.dataModel,window.view=r,a.select(\"#reset-page\").on(\"click\",function(){r.restart()}),a.select(\"#del-state\").on(\"click\",function(){localStorage.clear(),window.location.reload()}),(0,s.default)(\"#refresh-test\").click(function(e){}),r.restart()}})})},t.fetchNewData=function(){l();var e,t=window.location.origin+\"/StackV-web/restapi/model/refresh\";s.default.ajax({url:t,type:\"POST\",async:!1,data:(0,o.default)(window.domainData),contentType:\"application/json; charset=utf-8\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+keycloak.token),e.setRequestHeader(\"Refresh\",keycloak.refreshToken)},success:function(t){console.log(t),e=t}}),window.view.update(e)};var o=i(n(20)),a=r(n(177)),s=i(n(141)),u=n(52),c=i(n(!function(){var e=new Error(\"Cannot find module './data.mock'\");throw e.code=\"MODULE_NOT_FOUND\",e}()));function l(){var e=[],t=window.location.origin+\"/StackV-web/restapi/driver\";s.default.ajax({url:t,type:\"GET\",async:!1,beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+keycloak.token),e.setRequestHeader(\"Refresh\",keycloak.refreshToken)},success:function(t){e.length=0;for(var n=2;n<t.length;n+=3)e.push(t[n])}});for(var n={},r=0;r<e.length;r++){n[e[r]]=\"null\"}window.domainData=n}},function(e,t,n){var r=n(136),i=n(90).concat(\"length\",\"prototype\");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){\"use strict\";var r=n(14);Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadCatalog=function(){$(\"#sub-nav\").load(\"/StackV-web/nav/catalog_navbar.html\",function(){(0,s.initRefresh)($(\"#refresh-timer\").val())}),e=window.location.origin+\"/StackV-web/restapi/app/logging/instances\",(0,u.loadInstanceDataTable)(e),function(){l.html('<div class=\"catalog-modal-body\"><p class=\"catalog-modal-body-header\">Select a service type:</p><div id=\"catalog-modal-service-meta\" class=\"list-group\" style=\"cursor: pointer;\"></div><hr><button class=\"button-catalog-modal-switch btn btn-primary\" data-izimodal-open=\"#profiles-modal\">Load Saved Profile</button></div>'),f.html('<div class=\"profiles-modal-body\"><p class=\"profiles-modal-body-header\">Select a saved service profile:</p><div id=\"profiles-modal-service-meta\" class=\"list-group\" style=\"cursor: pointer;\"></div><hr><button class=\"btn btn-primary\" data-izimodal-open=\"#catalog-modal\">Return to Service Catalog</button><button id=\"button-profile-blank-add\" class=\"btn btn-default hidden\" style=\"margin-left: 10px;\">Add Blank Profile</button><input class=\"form-control\" type=\"text\" id=\"profileBlankName\"></div>'),d.html('<div style=\"height: 80vh;\" class=\"profile-details-modal-body\"><div id=\"profile-details-modal-meta\"><div><div class=\"profile-details-modal-meta-name\"><input class=\"form-control hidden\" id=\"profileEditName\" placeholder=\"New Name\"><p class=\"profile-details-modal-meta-name-text\"></p><button class=\"btn btn-default btn-xs hidden button-profile-meta-edit\"><span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span></button></div><div class=\"profile-details-modal-meta-description\"><textarea class=\"form-control hidden\" id=\"profileEditDescription\" placeholder=\"New Description\"></textarea><p class=\"profile-details-modal-meta-description-text\"></p></div><p class=\"profile-details-modal-meta-author\"></p></div><hr><div style=\"padding-right:10px;\" class=\"panel-group profile-details-modal-meta-sharing hidden\"><div class=\"panel panel-default\"><div class=\"panel-heading\"><h4 class=\"panel-title\"><a data-toggle=\"collapse\" href=\"#sharing-collapse\" class=\"\" aria-expanded=\"true\">Profile Sharing</a></h4></div><div id=\"sharing-collapse\" class=\"panel-collapse collapse in\" aria-expanded=\"true\" style=\"\"><ul class=\"list-group profile-details-modal-meta-sharing-list\"></ul><div class=\"panel-footer\" style=\"height:85px;\"><button class=\"button-profile-license-new btn-sm btn btn-default\">Add New User</button><div><label class=\"profile-details-modal-meta-editable control-label\">Allow Editing<input type=\"checkbox\" style=\"margin-left: 10px;\" id=\"profileEditable\" checked=\"checked\" value=\"on\"></label></div></div></div></div></div><div style=\"padding-right:10px;\" class=\"panel-group profile-details-modal-meta-saving\"><div class=\"panel panel-default\"><div class=\"panel-heading\"><h4 class=\"panel-title\"><a data-toggle=\"collapse\" href=\"#saving-collapse\" class=\"\" aria-expanded=\"true\">Save As</a></h4></div><div id=\"saving-collapse\" class=\"panel-collapse collapse\" aria-expanded=\"false\" style=\"\"><form class=\"form-horizontal\"><input type=\"text\" class=\"form-control\" id=\"savingProfileName\" placeholder=\"Profile Name\" style=\"/* margin: auto; *//* width: 90%; *//* margin-top: 5px; *//* margin-bottom: 5px; */\"><input type=\"text\" class=\"form-control\" id=\"savingProfileDescription\" placeholder=\"Profile Description\" style=\"/* margin: auto; *//* width: 90%; *//* margin-top: 5px; *//* margin-bottom: 5px; */\"></form><div class=\"panel-footer\"><button class=\"button-profile-save-new btn-sm btn btn-default\">Save New Profile</button></div></div></div></div><div class=\"profile-details-modal-meta-buttons\"><p class=\"hidden read-only-flag\" style=\"color: #ff5f5f;font-size: 1.25em;padding-right: 50px;\">Read Only</p><button style=\"display: none;\" class=\"button-profile-delete btn btn-danger\">Delete</button><button class=\"button-profile-save btn btn-default\">Save</button><input id=\"profile-alias\" placeholder=\"Instance Alias\"><button class=\"button-profile-submit btn btn-default\">Submit</button></div></div><div id=\"profile-details-modal-text\"><textarea readonly id=\"profile-details-modal-text-area\"></textarea></div></div>'),h.html('<div id=\"profile-license-modal-body\" style=\"margin-bottom: 20px;padding: 15px;\"><form class=\"form-horizontal\"><div class=\"form-group profile-license-modal-username\"><label class=\"col-sm-2 control-label\">Username</label><div class=\"col-sm-10 profile-license-modal-username-div\"></div></div><div class=\"form-group\"><label for=\"licenseRemaining\" class=\"col-sm-2 control-label\">Licenses</label><div class=\"col-sm-4\"><input type=\"number\" class=\"form-control\" id=\"licenseRemaining\"  style=\"width: 80%;margin-left: 25px;\"></div></div><div class=\"form-group\"><label for=\"inputPassword\" class=\"col-sm-2 control-label\">Type</label><div class=\"col-sm-10\"><label class=\"radio-inline\" style=\"float: left;margin-left: 25px;\"><input type=\"radio\" name=\"licenseProfileType\" id=\"ticketRadio\" value=\"ticket\" checked=\"\">Tickets</label><label class=\"radio-inline\" style=\"float: left;\"><input type=\"radio\" name=\"licenseProfileType\" id=\"allocationRadio\" value=\"allocation\">Allocations</label></div></div><div class=\"form-group\"><button class=\"button-license-delete hidden btn btn-warning\" style=\"padding-right: 25;\">Remove</button><button class=\"button-license-update hidden btn btn-warning\" style=\"padding-right: 25;\">Update</button><button class=\"button-license-add hidden btn btn-warning\" style=\"padding-right: 25;\">Submit</button></div></form></div>'),l.iziModal(w),f.iziModal(x),p.iziModal(_),d.iziModal(k),h.iziModal(T);var e=window.location.origin+\"/StackV-web/restapi/app/panel/editor\";$.ajax({url:e,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n[0],o=n[1],a=n[2],s=$(\"<a></a>\");s.addClass(\"list-group-item list-group-item-action flex-column align-items-start\"),s.attr(\"data-tag\",a),s.append('<h4 style=\"display: inline-block;\">'+r+\"</h4>\"),o&&s.append(\"<p>\"+o+\"</p>\"),$(\"#catalog-modal-service-meta\").append(s),b++}$(\"#catalog-modal-service-meta\").on(\"click\",\"a\",function(e){window.location.href=\"/StackV-web/portal/intent?intent=\"+$(this).data(\"tag\")}),\"object\"===(0,i.default)(l.iziModal(\"getState\"))?b>0&&l.iziModal(w):0===b&&l.iziModal(\"destroy\")}}),e=window.location.origin+\"/StackV-web/restapi/app/panel/wizard\",$.ajax({url:e,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(e){a.keycloak.tokenParsed.realm_access.roles.includes(\"F_Profiles-W\")&&$(\"#button-profile-blank-add\").removeClass(\"hidden\");for(var t=0;t<e.length;t++){var n=e[t],r=n[0],i=n[1],u=n[2],c=n[3],l=n[4],v=n[5].split(\".\")[0],b=n[6];b&&(b=b.split(\".\")[0]);var w=$(\"<a></a>\");w.addClass(\"list-group-item list-group-item-action flex-column align-items-start\"),w.attr(\"data-id\",u),w.append('<h4 style=\"display: inline-block;\">'+r+\"</h4>\");var x=$(\"<small></small>\");c!==a.keycloak.tokenParsed.preferred_username&&(x.css({color:\"#777\",padding:\"5px\"}),x.text(\"created by \"+c+\" \"),w.append(x),\"0\"===l&&(w.css(\"box-shadow\",\"inset 0px 0px 2px 0px #ff5f5f\"),x.text(x.text()+\"(Read only)\")));var _=$(\"<small></small>\");_.css({float:\"right\",\"text-align\":\"right\",\"padding-top\":\"10px\"});var k=\"Created: \"+v;b&&(k+=\"<br>Last edited: \"+b),_.html(k),w.append(_),i&&w.append(\"<p>\"+i+\"</p>\"),$(\"#profiles-modal-service-meta\").append(w),0}$(\"#button-profile-blank-add\").click(function(){if($(\"#profileBlankName\").hasClass(\"opened\")){var e=window.location.origin+\"/StackV-web/restapi/app/profile/new\";$.ajax({url:e,type:\"PUT\",data:(0,o.default)({name:$(\"#profileBlankName\").val(),username:a.keycloak.tokenParsed.preferred_username,data:{}}),beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(){$(\"#profileBlankName\").removeClass(\"opened\"),$(\"#button-profile-blank-add\").text(\"Add Blank Profile\"),S()}})}else $(\"#profileBlankName\").addClass(\"opened\"),$(this).text(\"Submit\")}),$(\"#profiles-modal-service-meta\").on(\"click\",\"a\",function(e){var t=$(this).data(\"id\");f.attr(\"data-profile-id\",t);var n=window.location.origin+\"/StackV-web/restapi/app/profile/\"+t;$.ajax({url:n,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(e){clearTimeout(y),$(\".button-profile-meta-edit\").addClass(\"hidden\"),$(\".profile-details-modal-meta-saving\").addClass(\"hidden\"),$(\".profile-details-modal-meta-sharing\").addClass(\"hidden\"),$(\".profile-details-modal-meta-sharing-list\").empty(),$(\"#info-panel-share-edit :not(:disabled)\").remove(),$(\".profile-details-modal-meta-author\").removeClass(\"invalid\"),$(\".button-profile-submit\").removeAttr(\"disabled\"),$(\"#profile-alias\").val(null),$(\"#profile-details-modal-text-area\").val(null),$(\"#info-panel-share-remaining\").val(null),$(\"#savingProfileName\").val(null),$(\"#savingProfileDescription\").val(null),f.removeData(\"profile-id\"),$(\"#profileEditable\").prop(\"checked\",!1),$(\"#profile-details-modal-meta-text\").html(null),$(\".profile-details-modal-meta-name-text\").text(null),$(\".profile-details-modal-meta-description-text\").text(null),$(\".profile-details-modal-meta-author\").text(null),$(\".profile-details-modal-meta-editable\").hide(),$(\"#info-panel-management\").hide(),$(\".button-profile-delete\").hide();var n=$(\"#profile-details-modal-text-area\");if($(\".profile-details-modal-meta-name-text\").text(e.name),$(\".profile-details-modal-meta-description-text\").text(e.description),e.owner===a.keycloak.tokenParsed.preferred_username||\"1\"===e.editable?($(\".profile-details-modal-meta-saving\").removeClass(\"hidden\"),n.removeAttr(\"readonly\"),$(\".button-profile-save\").removeAttr(\"disabled\"),$(\".button-profile-save-as\").removeAttr(\"disabled\"),$(\".read-only-flag\").addClass(\"hidden\")):(n.attr(\"readonly\",!0),$(\".button-profile-save\").attr(\"disabled\",!0),$(\".button-profile-save-as\").attr(\"disabled\",!0),$(\".read-only-flag\").removeClass(\"hidden\")),n.val(e.wizard_json),e.wizard_json,$(\".button-profile-save\").attr(\"id\",t),$(\".button-profile-save-as\").attr(\"id\",t),$(\".button-profile-submit\").attr(\"id\",t),e.owner===a.keycloak.tokenParsed.preferred_username){for(var r in $(\".button-profile-meta-edit\").removeClass(\"hidden\"),$(\".profile-details-modal-meta-sharing\").removeClass(\"hidden\"),e.licenses){var i=e.licenses[r];if(\"ticket\"===i.type){var o=$('<li class=\"list-group-item license-'+i.type+'\"><p style=\"display: inline;\">'+i.username+'</p><p style=\"display: inline;float: right;color: #777777;font-size: .9em;\" data-remaining=\"'+i.remaining+'\">'+i.remaining+\" use(s)</p></li>\");$(\".profile-details-modal-meta-sharing-list\").append(o)}else{var s=window.location.origin+\"/StackV-web/restapi/app/profile/\"+t+\"/uses/\"+i.username;$.ajax({url:s,type:\"GET\",async:!1,contentType:\"application/json; charset=utf-8\",success:function(e){var t=$('<li class=\"list-group-item license-'+i.type+'\"><p style=\"display: inline;\">'+i.username+'</p><p id=\"'+i.username+'-slots-used\" style=\"display: inline;float: right;color: #777777;font-size: .9em;\" data-remaining=\"'+i.remaining+'\">'+e+\"/\"+i.remaining+\" slot(s)</p></li>\");$(\".profile-details-modal-meta-sharing-list\").append(t)}})}}$(\".button-profile-delete\").show(),$(\".profile-details-modal-meta-editable\").show(),\"1\"===e.editable&&$(\"#profileEditable\").prop(\"checked\",!0)}else{$(\".profile-details-modal-meta-sharing\").addClass(\"hidden\");var u=1,c=\"ticket\";for(var l in e.licenses){var h=e.licenses[l];h.username===a.keycloak.tokenParsed.preferred_username&&(u=h.remaining,c=h.type)}var p=\"Created by \"+e.owner+\".<br>\";if(\"ticket\"===c)p+=u>1?u+\" uses remaining.\":u+\" use remaining.\",$(\".profile-details-modal-meta-author\").html(p);else{var v=window.location.origin+\"/StackV-web/restapi/app/profile/\"+t+\"/uses/\"+a.keycloak.tokenParsed.preferred_username;$.ajax({url:v,type:\"GET\",contentType:\"application/json; charset=utf-8\",success:function(e){var t=e;p+=\"Using \"+t+\" out of \"+u+\" slots.\",t>=u&&($(\".button-profile-submit\").attr(\"disabled\",!0),$(\".profile-details-modal-meta-author\").addClass(\"invalid\")),$(\".profile-details-modal-meta-author\").html(p)}})}}(0,a.prettyPrintInfo)(),f.iziModal(\"close\"),d.iziModal(\"open\")},error:function(e,t){console.log(e),console.log(t)}}),e.preventDefault()}),$(\".button-profile-license-new\").click(function(e){C();var t=$('<select class=\"form-control\" id=\"licenseUsername\" style=\"width: 70%;margin-left: 25px;\"></select>'),n=window.location.origin+\"/StackV-web/restapi/app/keycloak/users\";$.ajax({url:n,type:\"GET\",contentType:\"application/json; charset=utf-8\",success:function(e){var n=$(\".profile-details-modal-meta-sharing-list li p:first-child\");for(var r in e){var i=!1,o=e[r][0];if(n.each(function(e,t){t.innerText===o&&(i=!0)}),!i){var a=$(\"<option>\");a.val(o).text(o),t.append(a)}}$(\".profile-license-modal-username-div\").append(t),$(\".button-license-add\").removeClass(\"hidden\"),h.iziModal(\"open\")}}),e.preventDefault()}),$(\".profile-details-modal-meta-sharing-list\").on(\"click\",\"li\",function(e){C(),$(\".profile-license-modal-username-div\").append('<p class=\"form-control-static\">'+$(this).children()[0].innerHTML+\"</p>\"),$(\"#licenseRemaining\").val($($(this).children()[1]).data(\"remaining\")),$(\".button-license-update\").removeClass(\"hidden\"),$(\".button-license-delete\").removeClass(\"hidden\"),$(this).hasClass(\"license-allocation\")?$(\"#allocationRadio\").prop(\"checked\",!0):$(\"#ticketRadio\").prop(\"checked\",!0),h.iziModal(\"open\"),e.preventDefault()}),$(\"#profile-details-modal-meta\").on(\"click\",\".button-profile-meta-edit\",function(){var e=$(this.children[0]);if(e.hasClass(\"glyphicon-pencil\"))g=$(\".profile-details-modal-meta-name-text\").text(),m=$(\".profile-details-modal-meta-description-text\").text(),$(\"#profileEditName\").val(g),$(\"#profileEditDescription\").val(m),$(\".profile-details-modal-meta-name-text\").text(null),$(\".profile-details-modal-meta-description-text\").text(null),$(\"#profileEditName\").removeClass(\"hidden\"),$(\"#profileEditDescription\").removeClass(\"hidden\"),e.removeClass(\"glyphicon-pencil\").addClass(\"glyphicon-ok\");else{var t=window.location.origin+\"/StackV-web/restapi/app/profile/\"+$(\".button-profile-save\").attr(\"id\")+\"/meta\";$.ajax({url:t,type:\"PUT\",data:(0,o.default)({name:$(\"#profileEditName\").val(),description:$(\"#profileEditDescription\").val()}),contentType:\"application/json; charset=utf-8\",success:function(){$(\".profile-details-modal-meta-name-text\").text($(\"#profileEditName\").val()),$(\".profile-details-modal-meta-description-text\").text($(\"#profileEditDescription\").val()),$(\"#profileEditName\").val(null),$(\"#profileEditDescription\").val(null),$(\"#profileEditName\").addClass(\"hidden\"),$(\"#profileEditDescription\").addClass(\"hidden\"),e.addClass(\"glyphicon-pencil\").removeClass(\"glyphicon-ok\")},error:function(){$(\".profile-details-modal-meta-name-text\").text(g),$(\".profile-details-modal-meta-description-text\").text(m),$(\"#profileEditName\").val(null),$(\"#profileEditDescription\").val(null),$(\"#profileEditName\").addClass(\"hidden\"),$(\"#profileEditDescription\").addClass(\"hidden\"),e.addClass(\"glyphicon-pencil\").removeClass(\"glyphicon-ok\")}})}}),$(\".button-license-add\").on(\"click\",function(e){var t=window.location.origin+\"/StackV-web/restapi/app/profile/\"+$(\".button-profile-save\").attr(\"id\")+\"/licenses\";$.ajax({url:t,type:\"POST\",data:(0,o.default)({username:$(\"#licenseUsername\").val(),type:$(\"input[name=licenseProfileType]:checked\").val(),remaining:$(\"#licenseRemaining\").val()}),contentType:\"application/json; charset=utf-8\",success:function(){S(),h.iziModal(\"close\")}}),e.preventDefault()}),$(\".button-license-update\").on(\"click\",function(e){var t=window.location.origin+\"/StackV-web/restapi/app/profile/\"+$(\".button-profile-save\").attr(\"id\")+\"/licenses\";$.ajax({url:t,type:\"PUT\",data:(0,o.default)({username:$(\".profile-license-modal-username-div p\")[0].innerHTML,type:$(\"input[name=licenseProfileType]:checked\").val(),remaining:$(\"#licenseRemaining\").val()}),contentType:\"application/json; charset=utf-8\",success:function(){S(),h.iziModal(\"close\")}}),e.preventDefault()}),$(\".button-license-delete\").on(\"click\",function(e){var t=window.location.origin+\"/StackV-web/restapi/app/profile/\"+$(\".button-profile-save\").attr(\"id\")+\"/licenses\";$.ajax({url:t,type:\"PUT\",data:(0,o.default)({username:$(\".profile-license-modal-username-div p\")[0].innerHTML,remaining:\"0\"}),contentType:\"application/json; charset=utf-8\",success:function(){S(),h.iziModal(\"close\")}}),e.preventDefault()}),$(\".button-profile-delete\").on(\"click\",function(e){swal(\"Confirm deletion?\",{buttons:{cancel:\"Cancel\",delete:{text:\"Delete\",value:!0}}}).then(function(e){if(e){var t=window.location.origin+\"/StackV-web/restapi/app/profile/\"+$(\".button-profile-save\").attr(\"id\");$.ajax({url:t,type:\"DELETE\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(){S(),d.iziModal(\"close\")},error:function(e,t){console.log(e),console.log(t)}})}}),e.preventDefault()}),$(\".button-profile-submit\").on(\"click\",function(e){if($(\"#profile-alias\").val()){var t=JSON.parse($(\"#profile-details-modal-text-area\").val());t.alias=$(\"#profile-alias\").val();var n=window.location.origin+\"/StackV-web/restapi/app/service/uuid\";$.ajax({url:n,async:!1,type:\"GET\",dataType:\"text\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token),e.setRequestHeader(\"Refresh\",a.keycloak.refreshToken)},success:function(e){var n=t;n.uuid=e,n.data.uuid=e,n.data.options=n.options,n.profileID=$(\".button-profile-submit\").attr(\"id\"),n.proceed=\"true\";var r=window.location.origin+\"/StackV-web/restapi/app/profile\";$.ajax({url:r,type:\"POST\",data:(0,o.default)(n),contentType:\"application/json; charset=utf-8\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token),e.setRequestHeader(\"Refresh\",a.keycloak.refreshToken)},success:function(e){f.iziModal(\"close\")},error:function(e,t,n){console.log(e.status+\" | \"+t+\" | \"+n),401===e.status&&(p.iziModal(\"setSubtitle\",\"You are not authorized for the service associated with this profile.\"),p.iziModal(\"setTop\",100),p.iziModal(\"open\"))}})}}),(0,s.reloadData)(),d.iziModal(\"close\"),e.preventDefault()}else $(\"#profile-alias\").addClass(\"invalid\"),$(\"#profile-alias\").change(function(){$(this).removeClass(\"invalid\")})}),$(\".button-profile-save-new\").on(\"click\",function(e){var t=$(\"#profile-details-modal-text-area\").val();if(E(t)){var n=window.location.origin+\"/StackV-web/restapi/app/profile/new\",r={name:$(\"#savingProfileName\").val(),username:a.keycloak.tokenParsed.preferred_username,description:$(\"#savingProfileDescription\").val(),data:JSON.parse($(\"#profile-details-modal-text-area\").val())};$.ajax({url:n,type:\"PUT\",data:(0,o.default)(r),contentType:\"application/json; charset=utf-8\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token),e.setRequestHeader(\"Refresh\",a.keycloak.refreshToken)},success:function(){(0,s.reloadData)(),d.iziModal(\"close\")},error:function(e,t){console.log(e),console.log(t)}}),e.preventDefault()}else swal(\"JSON Error\",\"Data submitted is not a valid JSON! Please correct and try again.\",\"error\")}),$(\".button-profile-save\").on(\"click\",function(e){var t=$(\"#profile-details-modal-text-area\").val();if(E(t)){var n=window.location.origin+\"/StackV-web/restapi/app/profile/\"+this.id+\"/edit\";$.ajax({url:n,type:\"PUT\",data:(0,o.default)({data:t,editable:$(\"#profileEditable\").prop(\"checked\")}),contentType:\"application/json; charset=utf-8\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token),e.setRequestHeader(\"Refresh\",a.keycloak.refreshToken)},success:function(){iziToast.success({timeout:3e3,title:\"OK\",message:\"Profile saved!\",position:\"topRight\",pauseOnHover:!1})},error:function(e,t){console.log(e),console.log(t)}}),$(\"#info-panel\").removeClass(\"active\"),e.preventDefault()}else swal(\"JSON Error\",\"Data submitted is not a valid JSON! Please correct and try again.\",\"error\")})}})}(),c.play(),$(\".button-service-create\").click(function(e){e.preventDefault(),v(\"catalog\")});var e},t.reloadModals=S;var i=r(n(124)),o=r(n(20)),a=n(24),s=n(52),u=n(60);$.ajaxSetup({cache:!1,timeout:6e4,beforeSend:function(e){void 0===a.keycloak.token?(e.setRequestHeader(\"Authorization\",\"bearer \"+sessionStorage.getItem(\"token\")),e.setRequestHeader(\"Refresh\",sessionStorage.getItem(\"refresh\"))):(e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token),e.setRequestHeader(\"Refresh\",a.keycloak.refreshToken))}});var c=new TweenLite(\"#instance-panel\",.75,{ease:Power2.easeInOut,paused:!0,autoAlpha:1}),l=$(\"#catalog-modal\"),f=$(\"#profiles-modal\"),d=$(\"#profile-details-modal\"),h=$(\"#profile-license-modal\"),p=$(\"#alert-modal\");function v(e){switch(e){case\"catalog\":switch(l.iziModal(\"getState\")){case\"opened\":l.iziModal(\"close\");break;case\"closed\":switch(f.iziModal(\"getState\")){case\"closed\":l.iziModal(\"open\");break;case\"opened\":f.iziModal(\"prev\")}break;case\"opening\":case\"closing\":break;default:switch(f.iziModal(\"getState\")){case\"closed\":f.iziModal(\"open\");break;case\"opened\":f.iziModal(\"close\")}}break;case\"profile\":switch(l.iziModal(\"getState\")){case\"opened\":l.iziModal(\"next\");break;case\"opening\":case\"closing\":break;case\"closed\":default:switch(f.iziModal(\"getState\")){case\"closed\":f.iziModal(\"open\");break;case\"opened\":f.iziModal(\"close\")}}}}Mousetrap.bind({\"shift+left\":function(){window.location.href=\"/StackV-web/orch/graphTest.jsp\"},\"shift+right\":function(){window.location.href=\"/StackV-web/portal/details/\"},space:function(){v(\"catalog\")},\"shift+space\":function(){v(\"profile\")}});var g,m,y=null,b=0,w={width:750,group:\"cat\"},x={width:750,group:\"cat\"},_={title:\"Error\",icon:\"icon-power_settings_new\",headerColor:\"#BD5B5B\",width:600,timeout:15e3,timeoutProgressbar:!0,transitionIn:\"fadeInDown\",transitionOut:\"fadeOutDown\",pauseOnHover:!0},k={width:800,headerColor:\"#85ac97\",onClosed:function(){f.iziModal(\"open\")}},T={width:400,headerColor:\"#e7c642\"};function C(){$(\".profile-license-modal-username-div\").empty(),$(\"#licenseRemaining\").val(null),h.find(\"button\").addClass(\"hidden\")}function S(){a.keycloak.tokenParsed.realm_access.roles.includes(\"F_Profiles-W\")||$(\"#button-profile-blank-add\").addClass(\"hidden\"),b=0,0;var e=window.location.origin+\"/StackV-web/restapi/app/panel/editor\";if($.ajax({url:e,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(e){$(\"#catalog-modal-service-meta\").empty();for(var t=0;t<e.length;t++){var n=e[t],r=n[0],i=n[1],o=n[2],a=$(\"<a></a>\");a.addClass(\"list-group-item list-group-item-action flex-column align-items-start\"),a.attr(\"data-tag\",o),a.append('<h4 style=\"display: inline-block;\">'+r+\"</h4>\"),i&&a.append(\"<p>\"+i+\"</p>\"),$(\"#catalog-modal-service-meta\").append(a),b++}}}),e=window.location.origin+\"/StackV-web/restapi/app/panel/wizard\",$.ajax({url:e,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(e){$(\"#profiles-modal-service-meta\").empty();for(var t=0;t<e.length;t++){var n=e[t],r=n[0],i=n[1],o=n[2],s=n[3],u=n[4],c=n[5].split(\".\")[0],l=n[6];l&&(l=l.split(\".\")[0]);var f=$(\"<a></a>\");f.addClass(\"list-group-item list-group-item-action flex-column align-items-start\"),f.attr(\"data-id\",o),f.append('<h4 style=\"display: inline-block;\">'+r+\"</h4>\");var d=$(\"<small></small>\");s!==a.keycloak.tokenParsed.preferred_username&&(d.css({color:\"#777\",padding:\"5px\"}),d.text(\"created by \"+s+\" \"),f.append(d),\"0\"===u&&(f.css(\"box-shadow\",\"inset 0px 0px 2px 0px #ff5f5f\"),d.text(d.text()+\"(Read only)\")));var h=$(\"<small></small>\");h.css({float:\"right\",\"text-align\":\"right\",\"padding-top\":\"10px\"});var p=\"Created: \"+c;l&&(p+=\"<br>Last edited: \"+l),h.html(p),f.append(h),i&&f.append(\"<p>\"+i+\"</p>\"),$(\"#profiles-modal-service-meta\").append(f),0}}}),f.data(\"profile-id\")){var t=f.data(\"profile-id\"),n=window.location.origin+\"/StackV-web/restapi/app/profile/\"+t;$.ajax({url:n,type:\"GET\",async:!1,beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(e){if(!$(\".profile-details-modal-meta-sharing\").hasClass(\"hidden\"))for(var n in $(\".profile-details-modal-meta-sharing-list\").empty(),e.licenses){var r=e.licenses[n];if(\"ticket\"===r.type){var i=$('<li class=\"list-group-item license-'+r.type+'\"><p style=\"display: inline;\">'+r.username+'</p><p style=\"display: inline;float: right;color: #777777;font-size: .9em;\" data-remaining=\"'+r.remaining+'\">'+r.remaining+\" use(s)</p></li>\");$(\".profile-details-modal-meta-sharing-list\").append(i)}else{var o=$('<li class=\"list-group-item license-'+r.type+'\"><p style=\"display: inline;\">'+r.username+'</p><p id=\"'+r.username+'-slots-used\" style=\"display: inline;float: right;color: #777777;font-size: .9em;\" data-remaining=\"'+r.remaining+'\">/'+r.remaining+\" slot(s)</p></li>\");$(\".profile-details-modal-meta-sharing-list\").append(o);var a=window.location.origin+\"/StackV-web/restapi/app/profile/\"+t+\"/uses/\"+r.username;$.ajax({url:a,type:\"GET\",async:!1,contentType:\"application/json; charset=utf-8\",success:function(e){var t=$(\"#\"+r.username+\"-slots-used\");t.text(e+t.text())}})}}},error:function(e,t){console.log(e),console.log(t)}})}}function E(e){try{return JSON.parse(e),!0}catch(e){return!1}}},function(e,t,n){var r=n(38),i=n(41),o=n(215)(!1),a=n(92)(\"IE_PROTO\");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){e.exports=n(53)},function(e,t,n){var r=n(59),i=n(34).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=!n(40)&&!n(61)(function(){return 7!=Object.defineProperty(n(138)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(e,t,n){\"use strict\";var r=n(70),i=n(65),o=n(137),a=n(53),s=n(66),u=n(217),c=n(89),l=n(180),f=n(33)(\"iterator\"),d=!([].keys&&\"next\"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,v,g,m){u(n,t,p);var y,b,w,x=function(e){if(!d&&e in C)return C[e];switch(e){case\"keys\":case\"values\":return function(){return new n(this,e)}}return function(){return new n(this,e)}},_=t+\" Iterator\",k=\"values\"==v,T=!1,C=e.prototype,$=C[f]||C[\"@@iterator\"]||v&&C[v],S=$||x(v),E=v?k?x(\"entries\"):S:void 0,A=\"Array\"==t&&C.entries||$;if(A&&(w=l(A.call(new e)))!==Object.prototype&&w.next&&(c(w,_,!0),r||\"function\"==typeof w[f]||a(w,f,h)),k&&$&&\"values\"!==$.name&&(T=!0,S=function(){return $.call(this)}),r&&!m||!d&&!T&&C[f]||a(C,f,S),s[t]=S,s[_]=h,v)if(y={values:k?S:x(\"values\"),keys:g?S:x(\"keys\"),entries:E},m)for(b in y)b in C||o(C,b,y[b]);else i(i.P+i.F*(d||T),t,y);return y}},function(e,t,n){var r;\n/*!\n * jQuery JavaScript Library v3.3.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2018-01-20T17:24Z\n */\n/*!\n * jQuery JavaScript Library v3.3.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2018-01-20T17:24Z\n */\n!function(t,n){\"use strict\";\"object\"==typeof e&&\"object\"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error(\"jQuery requires a window with a document\");return n(e)}:n(t)}(\"undefined\"!=typeof window?window:this,function(n,i){\"use strict\";var o=[],a=n.document,s=Object.getPrototypeOf,u=o.slice,c=o.concat,l=o.push,f=o.indexOf,d={},h=d.toString,p=d.hasOwnProperty,v=p.toString,g=v.call(Object),m={},y=function(e){return\"function\"==typeof e&&\"number\"!=typeof e.nodeType},b=function(e){return null!=e&&e===e.window},w={type:!0,src:!0,noModule:!0};function x(e,t,n){var r,i=(t=t||a).createElement(\"script\");if(i.text=e,n)for(r in w)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function _(e){return null==e?e+\"\":\"object\"==typeof e||\"function\"==typeof e?d[h.call(e)]||\"object\":typeof e}var k=function(e,t){return new k.fn.init(e,t)},T=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;function C(e){var t=!!e&&\"length\"in e&&e.length,n=_(e);return!y(e)&&!b(e)&&(\"array\"===n||0===t||\"number\"==typeof t&&t>0&&t-1 in e)}k.fn=k.prototype={jquery:\"3.3.1\",constructor:k,length:0,toArray:function(){return u.call(this)},get:function(e){return null==e?u.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for(\"boolean\"==typeof a&&(c=a,a=arguments[s]||{},s++),\"object\"==typeof a||y(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&k.isPlainObject(n)?n:{},a[t]=k.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:\"jQuery\"+(\"3.3.1\"+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||\"[object Object]\"!==h.call(e))&&(!(t=s(e))||\"function\"==typeof(n=p.call(t,\"constructor\")&&t.constructor)&&v.call(n)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){x(e)},each:function(e,t){var n,r=0;if(C(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?\"\":(e+\"\").replace(T,\"\")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?k.merge(n,\"string\"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:f.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(C(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return c.apply([],a)},guid:1,support:m}),\"function\"==typeof Symbol&&(k.fn[Symbol.iterator]=o[Symbol.iterator]),k.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),function(e,t){d[\"[object \"+t+\"]\"]=t.toLowerCase()});var $=\n/*!\n * Sizzle CSS Selector Engine v2.3.3\n * https://sizzlejs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2016-08-08\n */\nfunction(e){var t,n,r,i,o,a,s,u,c,l,f,d,h,p,v,g,m,y,b,w=\"sizzle\"+1*new Date,x=e.document,_=0,k=0,T=ae(),C=ae(),$=ae(),S=function(e,t){return e===t&&(f=!0),0},E={}.hasOwnProperty,A=[],M=A.pop,N=A.push,L=A.push,R=A.slice,D=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",H=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",I=\"(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+\",j=\"\\\\[\"+H+\"*(\"+I+\")(?:\"+H+\"*([*^$|!~]?=)\"+H+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+I+\"))|)\"+H+\"*\\\\]\",O=\":(\"+I+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+j+\")*)|.*)\\\\)|)\",z=new RegExp(H+\"+\",\"g\"),q=new RegExp(\"^\"+H+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+H+\"+$\",\"g\"),B=new RegExp(\"^\"+H+\"*,\"+H+\"*\"),U=new RegExp(\"^\"+H+\"*([>+~]|\"+H+\")\"+H+\"*\"),V=new RegExp(\"=\"+H+\"*([^\\\\]'\\\"]*?)\"+H+\"*\\\\]\",\"g\"),F=new RegExp(O),G=new RegExp(\"^\"+I+\"$\"),W={ID:new RegExp(\"^#(\"+I+\")\"),CLASS:new RegExp(\"^\\\\.(\"+I+\")\"),TAG:new RegExp(\"^(\"+I+\"|[*])\"),ATTR:new RegExp(\"^\"+j),PSEUDO:new RegExp(\"^\"+O),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+H+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+H+\"*(?:([+-]|)\"+H+\"*(\\\\d+)|))\"+H+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+P+\")$\",\"i\"),needsContext:new RegExp(\"^\"+H+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+H+\"*((?:-\\\\d)?\\\\d*)\"+H+\"*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/^(?:input|select|textarea|button)$/i,X=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,J=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,K=/[+~]/,Z=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+H+\"?|(\"+H+\")|.)\",\"ig\"),ee=function(e,t,n){var r=\"0x\"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,ne=function(e,t){return t?\"\\0\"===e?\"ï¿½\":e.slice(0,-1)+\"\\\\\"+e.charCodeAt(e.length-1).toString(16)+\" \":\"\\\\\"+e},re=function(){d()},ie=ye(function(e){return!0===e.disabled&&(\"form\"in e||\"label\"in e)},{dir:\"parentNode\",next:\"legend\"});try{L.apply(A=R.call(x.childNodes),x.childNodes),A[x.childNodes.length].nodeType}catch(e){L={apply:A.length?function(e,t){N.apply(e,R.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,r,i){var o,s,c,l,f,p,m,y=t&&t.ownerDocument,_=t?t.nodeType:9;if(r=r||[],\"string\"!=typeof e||!e||1!==_&&9!==_&&11!==_)return r;if(!i&&((t?t.ownerDocument||t:x)!==h&&d(t),t=t||h,v)){if(11!==_&&(f=J.exec(e)))if(o=f[1]){if(9===_){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(y&&(c=y.getElementById(o))&&b(t,c)&&c.id===o)return r.push(c),r}else{if(f[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!$[e+\" \"]&&(!g||!g.test(e))){if(1!==_)y=t,m=e;else if(\"object\"!==t.nodeName.toLowerCase()){for((l=t.getAttribute(\"id\"))?l=l.replace(te,ne):t.setAttribute(\"id\",l=w),s=(p=a(e)).length;s--;)p[s]=\"#\"+l+\" \"+me(p[s]);m=p.join(\",\"),y=K.test(e)&&ve(t.parentNode)||t}if(m)try{return L.apply(r,y.querySelectorAll(m)),r}catch(e){}finally{l===w&&t.removeAttribute(\"id\")}}}return u(e.replace(q,\"$1\"),t,r,i)}function ae(){var e=[];return function t(n,i){return e.push(n+\" \")>r.cacheLength&&delete t[e.shift()],t[n+\" \"]=i}}function se(e){return e[w]=!0,e}function ue(e){var t=h.createElement(\"fieldset\");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split(\"|\"),i=n.length;i--;)r.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return\"input\"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&t.type===e}}function he(e){return function(t){return\"form\"in t?t.parentNode&&!1===t.disabled?\"label\"in t?\"label\"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:\"label\"in t&&t.disabled===e}}function pe(e){return se(function(t){return t=+t,se(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&\"HTML\"!==t.nodeName},d=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:x;return a!==h&&9===a.nodeType&&a.documentElement?(p=(h=a).documentElement,v=!o(h),x!==h&&(i=h.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener(\"unload\",re,!1):i.attachEvent&&i.attachEvent(\"onunload\",re)),n.attributes=ue(function(e){return e.className=\"i\",!e.getAttribute(\"className\")}),n.getElementsByTagName=ue(function(e){return e.appendChild(h.createComment(\"\")),!e.getElementsByTagName(\"*\").length}),n.getElementsByClassName=Q.test(h.getElementsByClassName),n.getById=ue(function(e){return p.appendChild(e).id=w,!h.getElementsByName||!h.getElementsByName(w).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute(\"id\")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode(\"id\");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if(\"*\"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&v)return t.getElementsByClassName(e)},m=[],g=[],(n.qsa=Q.test(h.querySelectorAll))&&(ue(function(e){p.appendChild(e).innerHTML=\"<a id='\"+w+\"'></a><select id='\"+w+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",e.querySelectorAll(\"[msallowcapture^='']\").length&&g.push(\"[*^$]=\"+H+\"*(?:''|\\\"\\\")\"),e.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[\"+H+\"*(?:value|\"+P+\")\"),e.querySelectorAll(\"[id~=\"+w+\"-]\").length||g.push(\"~=\"),e.querySelectorAll(\":checked\").length||g.push(\":checked\"),e.querySelectorAll(\"a#\"+w+\"+*\").length||g.push(\".#.+[+~]\")}),ue(function(e){e.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var t=h.createElement(\"input\");t.setAttribute(\"type\",\"hidden\"),e.appendChild(t).setAttribute(\"name\",\"D\"),e.querySelectorAll(\"[name=d]\").length&&g.push(\"name\"+H+\"*[*^$|!~]?=\"),2!==e.querySelectorAll(\":enabled\").length&&g.push(\":enabled\",\":disabled\"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(\":disabled\").length&&g.push(\":enabled\",\":disabled\"),e.querySelectorAll(\"*,:x\"),g.push(\",.*:\")})),(n.matchesSelector=Q.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=y.call(e,\"*\"),y.call(e,\"[s!='']:x\"),m.push(\"!=\",O)}),g=g.length&&new RegExp(g.join(\"|\")),m=m.length&&new RegExp(m.join(\"|\")),t=Q.test(p.compareDocumentPosition),b=t||Q.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===h||e.ownerDocument===x&&b(x,e)?-1:t===h||t.ownerDocument===x&&b(x,t)?1:l?D(l,e)-D(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===h?-1:t===h?1:i?-1:o?1:l?D(l,e)-D(l,t):0;if(i===o)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?le(a[r],s[r]):a[r]===x?-1:s[r]===x?1:0},h):h},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&d(e),t=t.replace(V,\"='$1']\"),n.matchesSelector&&v&&!$[t+\" \"]&&(!m||!m.test(t))&&(!g||!g.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,h,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==h&&d(e),b(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==h&&d(e);var i=r.attrHandle[t.toLowerCase()],o=i&&E.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==o?o:n.attributes||!v?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+\"\").replace(te,ne)},oe.error=function(e){throw new Error(\"Syntax error, unrecognized expression: \"+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(S),f){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return l=null,e},i=oe.getText=function(e){var t,n=\"\",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:W,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||\"\").replace(Z,ee),\"~=\"===e[2]&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),\"nth\"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(\"even\"===e[3]||\"odd\"===e[3])),e[5]=+(e[7]+e[8]||\"odd\"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||\"\":n&&F.test(n)&&(t=a(n,!0))&&(t=n.indexOf(\")\",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return\"*\"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+\" \"];return t||(t=new RegExp(\"(^|\"+H+\")\"+e+\"(\"+H+\"|$)\"))&&T(e,function(e){return t.test(\"string\"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute(\"class\")||\"\")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?\"!=\"===t:!t||(i+=\"\",\"=\"===t?i===n:\"!=\"===t?i!==n:\"^=\"===t?n&&0===i.indexOf(n):\"*=\"===t?n&&i.indexOf(n)>-1:\"$=\"===t?n&&i.slice(-n.length)===n:\"~=\"===t?(\" \"+i.replace(z,\" \")+\" \").indexOf(n)>-1:\"|=\"===t&&(i===n||i.slice(0,n.length+1)===n+\"-\"))}},CHILD:function(e,t,n,r,i){var o=\"nth\"!==e.slice(0,3),a=\"last\"!==e.slice(-4),s=\"of-type\"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,d,h,p,v=o!==a?\"nextSibling\":\"previousSibling\",g=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(g){if(o){for(;v;){for(d=t;d=d[v];)if(s?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;p=v=\"only\"===e&&!p&&\"nextSibling\"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(b=(h=(c=(l=(f=(d=g)[w]||(d[w]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===_&&c[1])&&c[2],d=h&&g.childNodes[h];d=++h&&d&&d[v]||(b=h=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){l[e]=[_,h,b];break}}else if(y&&(b=h=(c=(l=(f=(d=t)[w]||(d[w]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===_&&c[1]),!1===b)for(;(d=++h&&d&&d[v]||(b=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++b||(y&&((l=(f=d[w]||(d[w]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[_,b]),d!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error(\"unsupported pseudo: \"+e);return i[w]?i(t):i.length>1?(n=[e,e,\"\",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=D(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(q,\"$1\"));return r[w]?se(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return G.test(e||\"\")||oe.error(\"unsupported lang: \"+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=v?t.lang:t.getAttribute(\"xml:lang\")||t.getAttribute(\"lang\"))return(n=n.toLowerCase())===e||0===n.indexOf(e+\"-\")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&!!e.checked||\"option\"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&\"button\"===e.type||\"button\"===t},text:function(e){var t;return\"input\"===e.nodeName.toLowerCase()&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:pe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=de(t);function ge(){}function me(e){for(var t=0,n=e.length,r=\"\";t<n;t++)r+=e[t].value;return r}function ye(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&\"parentNode\"===o,s=k++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var c,l,f,d=[_,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(l=(f=t[w]||(t[w]={}))[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[o])&&c[0]===_&&c[1]===s)return d[2]=c[2];if(l[o]=d,d[2]=e(t,n,u))return!0}return!1}}function be(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function we(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function xe(e,t,n,r,i,o){return r&&!r[w]&&(r=xe(r)),i&&!i[w]&&(i=xe(i,o)),se(function(o,a,s,u){var c,l,f,d=[],h=[],p=a.length,v=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}(t||\"*\",s.nodeType?[s]:s,[]),g=!e||!o&&t?v:we(v,d,e,s,u),m=n?i||(o?e:p||r)?[]:a:g;if(n&&n(g,m,s,u),r)for(c=we(m,h),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(m[h[l]]=!(g[h[l]]=f));if(o){if(i||e){if(i){for(c=[],l=m.length;l--;)(f=m[l])&&c.push(g[l]=f);i(null,m=[],c,u)}for(l=m.length;l--;)(f=m[l])&&(c=i?D(o,f):d[l])>-1&&(o[c]=!(a[c]=f))}}else m=we(m===a?m.splice(p,m.length):m),i?i(null,a,m,u):L.apply(a,m)})}function _e(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[\" \"],u=a?1:0,l=ye(function(e){return e===t},s,!0),f=ye(function(e){return D(t,e)>-1},s,!0),d=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?l(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])d=[ye(be(d),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[w]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return xe(u>1&&be(d),u>1&&me(e.slice(0,u-1).concat({value:\" \"===e[u-2].type?\"*\":\"\"})).replace(q,\"$1\"),n,u<i&&_e(e.slice(u,i)),i<o&&_e(e=e.slice(i)),i<o&&me(e))}d.push(n)}return be(d)}return ge.prototype=r.filters=r.pseudos,r.setFilters=new ge,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,c,l=C[e+\" \"];if(l)return t?0:l.slice(0);for(s=e,u=[],c=r.preFilter;s;){for(a in n&&!(i=B.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=U.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(q,\" \")}),s=s.slice(n.length)),r.filter)!(i=W[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):C(e,u).slice(0)},s=oe.compile=function(e,t){var n,i=[],o=[],s=$[e+\" \"];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=_e(t[n]))[w]?i.push(s):o.push(s);(s=$(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,l){var f,p,g,m=0,y=\"0\",b=o&&[],w=[],x=c,k=o||i&&r.find.TAG(\"*\",l),T=_+=null==x?1:Math.random()||.1,C=k.length;for(l&&(c=a===h||a||l);y!==C&&null!=(f=k[y]);y++){if(i&&f){for(p=0,a||f.ownerDocument===h||(d(f),s=!v);g=e[p++];)if(g(f,a||h,s)){u.push(f);break}l&&(_=T)}n&&((f=!g&&f)&&m--,o&&b.push(f))}if(m+=y,n&&y!==m){for(p=0;g=t[p++];)g(b,w,a,s);if(o){if(m>0)for(;y--;)b[y]||w[y]||(w[y]=M.call(u));w=we(w)}L.apply(u,w),l&&!o&&w.length>0&&m+t.length>1&&oe.uniqueSort(u)}return l&&(_=T,c=x),b};return n?se(o):o}(o,i))).selector=e}return s},u=oe.select=function(e,t,n,i){var o,u,c,l,f,d=\"function\"==typeof e&&e,h=!i&&a(e=d.selector||e);if(n=n||[],1===h.length){if((u=h[0]=h[0].slice(0)).length>2&&\"ID\"===(c=u[0]).type&&9===t.nodeType&&v&&r.relative[u[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(Z,ee),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=W.needsContext.test(e)?0:u.length;o--&&(c=u[o],!r.relative[l=c.type]);)if((f=r.find[l])&&(i=f(c.matches[0].replace(Z,ee),K.test(u[0].type)&&ve(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&me(u)))return L.apply(n,i),n;break}}return(d||s(e,h))(i,t,!v,n,!t||K.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split(\"\").sort(S).join(\"\")===w,n.detectDuplicates=!!f,d(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(h.createElement(\"fieldset\"))}),ue(function(e){return e.innerHTML=\"<a href='#'></a>\",\"#\"===e.firstChild.getAttribute(\"href\")})||ce(\"type|href|height|width\",function(e,t,n){if(!n)return e.getAttribute(t,\"type\"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML=\"<input/>\",e.firstChild.setAttribute(\"value\",\"\"),\"\"===e.firstChild.getAttribute(\"value\")})||ce(\"value\",function(e,t,n){if(!n&&\"input\"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute(\"disabled\")})||ce(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(n);k.find=$,k.expr=$.selectors,k.expr[\":\"]=k.expr.pseudos,k.uniqueSort=k.unique=$.uniqueSort,k.text=$.getText,k.isXMLDoc=$.isXML,k.contains=$.contains,k.escapeSelector=$.escape;var S=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},E=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=k.expr.match.needsContext;function M(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function L(e,t,n){return y(t)?k.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?k.grep(e,function(e){return e===t!==n}):\"string\"!=typeof t?k.grep(e,function(e){return f.call(t,e)>-1!==n}):k.filter(t,e,n)}k.filter=function(e,t,n){var r=t[0];return n&&(e=\":not(\"+e+\")\"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if(\"string\"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return r>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,\"string\"==typeof e&&A.test(e)?k(e):e||[],!1).length}});var R,D=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||R,\"string\"==typeof e){if(!(r=\"<\"===e[0]&&\">\"===e[e.length-1]&&e.length>=3?[null,e,null]:D.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),N.test(r[1])&&k.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=a.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,R=k(a);var P=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a=\"string\"!=typeof e&&k(e);if(!A.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(e){return e?\"string\"==typeof e?f.call(k(e),this[0]):f.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,\"parentNode\")},parentsUntil:function(e,t,n){return S(e,\"parentNode\",n)},next:function(e){return I(e,\"nextSibling\")},prev:function(e){return I(e,\"previousSibling\")},nextAll:function(e){return S(e,\"nextSibling\")},prevAll:function(e){return S(e,\"previousSibling\")},nextUntil:function(e,t,n){return S(e,\"nextSibling\",n)},prevUntil:function(e,t,n){return S(e,\"previousSibling\",n)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return M(e,\"iframe\")?e.contentDocument:(M(e,\"template\")&&(e=e.content||e),k.merge([],e.childNodes))}},function(e,t){k.fn[e]=function(n,r){var i=k.map(this,t,n);return\"Until\"!==e.slice(-5)&&(r=n),r&&\"string\"==typeof r&&(i=k.filter(r,i)),this.length>1&&(H[e]||k.uniqueSort(i),P.test(e)&&i.reverse()),this.pushStack(i)}});var j=/[^\\x20\\t\\r\\n\\f]+/g;function O(e){return e}function z(e){throw e}function q(e,t,n,r){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(n):e&&y(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){e=\"string\"==typeof e?function(e){var t={};return k.each(e.match(j)||[],function(e,n){t[n]=!0}),t}(e):k.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:\"\")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){k.each(n,function(n,r){y(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&\"string\"!==_(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return k.each(arguments,function(e,t){for(var n;(n=k.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?k.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n=\"\",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=\"\"),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},k.extend({Deferred:function(e){var t=[[\"notify\",\"progress\",k.Callbacks(\"memory\"),k.Callbacks(\"memory\"),2],[\"resolve\",\"done\",k.Callbacks(\"once memory\"),k.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",k.Callbacks(\"once memory\"),k.Callbacks(\"once memory\"),1,\"rejected\"]],r=\"pending\",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return k.Deferred(function(n){k.each(t,function(t,r){var i=y(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+\"With\"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,r,i){var o=0;function a(e,t,r,i){return function(){var s=this,u=arguments,c=function(){var n,c;if(!(e<o)){if((n=r.apply(s,u))===t.promise())throw new TypeError(\"Thenable self-resolution\");c=n&&(\"object\"==typeof n||\"function\"==typeof n)&&n.then,y(c)?i?c.call(n,a(o,t,O,i),a(o,t,z,i)):(o++,c.call(n,a(o,t,O,i),a(o,t,z,i),a(o,t,O,t.notifyWith))):(r!==O&&(s=void 0,u=[n]),(i||t.resolveWith)(s,u))}},l=i?c:function(){try{c()}catch(n){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(n,l.stackTrace),e+1>=o&&(r!==z&&(s=void 0,u=[n]),t.rejectWith(s,u))}};e?l():(k.Deferred.getStackHook&&(l.stackTrace=k.Deferred.getStackHook()),n.setTimeout(l))}}return k.Deferred(function(n){t[0][3].add(a(0,n,y(i)?i:O,n.notifyWith)),t[1][3].add(a(0,n,y(e)?e:O)),t[2][3].add(a(0,n,y(r)?r:z))}).promise()},promise:function(e){return null!=e?k.extend(e,i):i}},o={};return k.each(t,function(e,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){r=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+\"With\"](this===o?void 0:this,arguments),this},o[n[0]+\"With\"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=u.call(arguments),o=k.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?u.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(q(e,o.done(a(n)).resolve,o.reject,!t),\"pending\"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)q(i[n],a(n),o.reject);return o.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&B.test(e.name)&&n.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,t)},k.readyException=function(e){n.setTimeout(function(){throw e})};var U=k.Deferred();function V(){a.removeEventListener(\"DOMContentLoaded\",V),n.removeEventListener(\"load\",V),k.ready()}k.fn.ready=function(e){return U.then(e).catch(function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||U.resolveWith(a,[k]))}}),k.ready.then=U.then,\"complete\"===a.readyState||\"loading\"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(k.ready):(a.addEventListener(\"DOMContentLoaded\",V),n.addEventListener(\"load\",V));var F=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if(\"object\"===_(n))for(s in i=!0,n)F(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,y(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(k(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o},G=/^-ms-/,W=/-([a-z])/g;function Y(e,t){return t.toUpperCase()}function X(e){return e.replace(G,\"ms-\").replace(W,Y)}var Q=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=k.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if(\"string\"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&\"string\"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(j)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var K=new J,Z=new J,ee=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r=\"data-\"+t.replace(te,\"-$&\").toLowerCase(),\"string\"==typeof(n=e.getAttribute(r))){try{n=function(e){return\"true\"===e||\"false\"!==e&&(\"null\"===e?null:e===+e+\"\"?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return Z.hasData(e)||K.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return K.access(e,t,n)},_removeData:function(e,t){K.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Z.get(o),1===o.nodeType&&!K.get(o,\"hasDataAttrs\"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf(\"data-\")&&(r=X(r.slice(5)),ne(o,r,i[r]));K.set(o,\"hasDataAttrs\",!0)}return i}return\"object\"==typeof e?this.each(function(){Z.set(this,e)}):F(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=Z.get(o,e))?n:void 0!==(n=ne(o,e))?n:void 0;this.each(function(){Z.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Z.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||\"fx\")+\"queue\",r=K.get(e,t),n&&(!r||Array.isArray(n)?r=K.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||\"fx\";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);\"inprogress\"===i&&(i=n.shift(),r--),i&&(\"fx\"===t&&n.unshift(\"inprogress\"),delete o.stop,i.call(e,function(){k.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+\"queueHooks\";return K.get(e,n)||K.access(e,n,{empty:k.Callbacks(\"once memory\").add(function(){K.remove(e,[t+\"queue\",n])})})}}),k.fn.extend({queue:function(e,t){var n=2;return\"string\"!=typeof e&&(t=e,e=\"fx\",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each(function(){var n=k.queue(this,e,t);k._queueHooks(this,e),\"fx\"===e&&\"inprogress\"!==n[0]&&k.dequeue(this,e)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||\"fx\",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for(\"string\"!=typeof e&&(t=e,e=void 0),e=e||\"fx\";a--;)(n=K.get(o[a],e+\"queueHooks\"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,ie=new RegExp(\"^(?:([+-])=|)(\"+re+\")([a-z%]*)$\",\"i\"),oe=[\"Top\",\"Right\",\"Bottom\",\"Left\"],ae=function(e,t){return\"none\"===(e=t||e).style.display||\"\"===e.style.display&&k.contains(e.ownerDocument,e)&&\"none\"===k.css(e,\"display\")},se=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};function ue(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,\"\")},u=s(),c=n&&n[3]||(k.cssNumber[t]?\"\":\"px\"),l=(k.cssNumber[t]||\"px\"!==c&&+u)&&ie.exec(k.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)k.style(e,t,l+c),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),l/=o;l*=2,k.style(e,t,l+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var ce={};function le(e){var t,n=e.ownerDocument,r=e.nodeName,i=ce[r];return i||(t=n.body.appendChild(n.createElement(r)),i=k.css(t,\"display\"),t.parentNode.removeChild(t),\"none\"===i&&(i=\"block\"),ce[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?(\"none\"===n&&(i[o]=K.get(r,\"display\")||null,i[o]||(r.style.display=\"\")),\"\"===r.style.display&&ae(r)&&(i[o]=le(r))):\"none\"!==n&&(i[o]=\"none\",K.set(r,\"display\",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}k.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return\"boolean\"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?k(this).show():k(this).hide()})}});var de=/^(?:checkbox|radio)$/i,he=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]+)/i,pe=/^$|^module$|\\/(?:java|ecma)script/i,ve={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||\"*\"):void 0!==e.querySelectorAll?e.querySelectorAll(t||\"*\"):[],void 0===t||t&&M(e,t)?k.merge([e],n):n}function me(e,t){for(var n=0,r=e.length;n<r;n++)K.set(e[n],\"globalEval\",!t||K.get(t[n],\"globalEval\"))}ve.optgroup=ve.option,ve.tbody=ve.tfoot=ve.colgroup=ve.caption=ve.thead,ve.th=ve.td;var ye,be,we=/<|&#?\\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,c,l,f=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if((o=e[h])||0===o)if(\"object\"===_(o))k.merge(d,o.nodeType?[o]:o);else if(we.test(o)){for(a=a||f.appendChild(t.createElement(\"div\")),s=(he.exec(o)||[\"\",\"\"])[1].toLowerCase(),u=ve[s]||ve._default,a.innerHTML=u[1]+k.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;k.merge(d,a.childNodes),(a=f.firstChild).textContent=\"\"}else d.push(t.createTextNode(o));for(f.textContent=\"\",h=0;o=d[h++];)if(r&&k.inArray(o,r)>-1)i&&i.push(o);else if(c=k.contains(o.ownerDocument,o),a=ge(f.appendChild(o),\"script\"),c&&me(a),n)for(l=0;o=a[l++];)pe.test(o.type||\"\")&&n.push(o);return f}ye=a.createDocumentFragment().appendChild(a.createElement(\"div\")),(be=a.createElement(\"input\")).setAttribute(\"type\",\"radio\"),be.setAttribute(\"checked\",\"checked\"),be.setAttribute(\"name\",\"t\"),ye.appendChild(be),m.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML=\"<textarea>x</textarea>\",m.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var _e=a.documentElement,ke=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ce=/^([^.]*)(?:\\.(.+)|)/;function $e(){return!0}function Se(){return!1}function Ee(){try{return a.activeElement}catch(e){}}function Ae(e,t,n,r,i,o){var a,s;if(\"object\"==typeof t){for(s in\"string\"!=typeof n&&(r=r||n,n=void 0),t)Ae(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&(\"string\"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Se;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each(function(){k.event.add(this,t,i,r,n)})}k.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,f,d,h,p,v,g=K.get(e);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(_e,i),n.guid||(n.guid=k.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||\"\").match(j)||[\"\"]).length;c--;)h=v=(s=Ce.exec(t[c])||[])[1],p=(s[2]||\"\").split(\".\").sort(),h&&(f=k.event.special[h]||{},h=(i?f.delegateType:f.bindType)||h,f=k.event.special[h]||{},l=k.extend({type:h,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:p.join(\".\")},o),(d=u[h])||((d=u[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(h,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,l):d.push(l),k.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,f,d,h,p,v,g=K.hasData(e)&&K.get(e);if(g&&(u=g.events)){for(c=(t=(t||\"\").match(j)||[\"\"]).length;c--;)if(h=v=(s=Ce.exec(t[c])||[])[1],p=(s[2]||\"\").split(\".\").sort(),h){for(f=k.event.special[h]||{},d=u[h=(r?f.delegateType:f.bindType)||h]||[],s=s[2]&&new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),a=o=d.length;o--;)l=d[o],!i&&v!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&(\"**\"!==r||!l.selector)||(d.splice(o,1),l.selector&&d.delegateCount--,f.remove&&f.remove.call(e,l));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,p,g.handle)||k.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)k.event.remove(e,h+t[c],n,r,!0);k.isEmptyObject(u)&&K.remove(e,\"handle events\")}},dispatch:function(e){var t,n,r,i,o,a,s=k.event.fix(e),u=new Array(arguments.length),c=(K.get(this,\"events\")||{})[s.type]||[],l=k.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=k.event.handlers.call(this,s,c),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!(\"click\"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&(\"click\"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+\" \"]&&(a[i]=r.needsContext?k(i,this).index(c)>-1:k.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ee()&&this.focus)return this.focus(),!1},delegateType:\"focusin\"},blur:{trigger:function(){if(this===Ee()&&this.blur)return this.blur(),!1},delegateType:\"focusout\"},click:{trigger:function(){if(\"checkbox\"===this.type&&this.click&&M(this,\"input\"))return this.click(),!1},_default:function(e){return M(e.target,\"a\")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?$e:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=$e,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=$e,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=$e,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ke.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||k.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),k.fn.extend({on:function(e,t,n,r){return Ae(this,e,t,n,r)},one:function(e,t,n,r){return Ae(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+\".\"+r.namespace:r.origType,r.selector,r.handler),this;if(\"object\"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&\"function\"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each(function(){k.event.remove(this,e,n,t)})}});var Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,Ne=/<script|<style|<link/i,Le=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Re=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function De(e,t){return M(e,\"table\")&&M(11!==t.nodeType?t:t.firstChild,\"tr\")&&k(e).children(\"tbody\")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute(\"type\"))+\"/\"+e.type,e}function He(e){return\"true/\"===(e.type||\"\").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute(\"type\"),e}function Ie(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(K.hasData(e)&&(o=K.access(e),a=K.set(t,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;n<r;n++)k.event.add(t,i,c[i][n]);Z.hasData(e)&&(s=Z.access(e),u=k.extend({},s),Z.set(t,u))}}function je(e,t,n,r){t=c.apply([],t);var i,o,a,s,u,l,f=0,d=e.length,h=d-1,p=t[0],v=y(p);if(v||d>1&&\"string\"==typeof p&&!m.checkClone&&Le.test(p))return e.each(function(i){var o=e.eq(i);v&&(t[0]=p.call(this,i,o.html())),je(o,t,n,r)});if(d&&(o=(i=xe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=k.map(ge(i,\"script\"),Pe)).length;f<d;f++)u=i,f!==h&&(u=k.clone(u,!0,!0),s&&k.merge(a,ge(u,\"script\"))),n.call(e[f],u,f);if(s)for(l=a[a.length-1].ownerDocument,k.map(a,He),f=0;f<s;f++)u=a[f],pe.test(u.type||\"\")&&!K.access(u,\"globalEval\")&&k.contains(l,u)&&(u.src&&\"module\"!==(u.type||\"\").toLowerCase()?k._evalUrl&&k._evalUrl(u.src):x(u.textContent.replace(Re,\"\"),l,u))}return e}function Oe(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(ge(r)),r.parentNode&&(n&&k.contains(r.ownerDocument,r)&&me(ge(r,\"script\")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e.replace(Me,\"<$1></$2>\")},clone:function(e,t,n){var r,i,o,a,s,u,c,l=e.cloneNode(!0),f=k.contains(e.ownerDocument,e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=ge(l),r=0,i=(o=ge(e)).length;r<i;r++)s=o[r],u=a[r],void 0,\"input\"===(c=u.nodeName.toLowerCase())&&de.test(s.type)?u.checked=s.checked:\"input\"!==c&&\"textarea\"!==c||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ge(e),a=a||ge(l),r=0,i=o.length;r<i;r++)Ie(o[r],a[r]);else Ie(e,l);return(a=ge(l,\"script\")).length>0&&me(a,!f&&ge(e,\"script\")),l},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(Q(n)){if(t=n[K.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[K.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return F(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return je(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)})},prepend:function(){return je(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return je(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return je(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(ge(e,!1)),e.textContent=\"\");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return F(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if(\"string\"==typeof e&&!Ne.test(e)&&!ve[(he.exec(e)||[\"\",\"\"])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return je(this,arguments,function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(ge(this)),n&&n.replaceChild(t,this))},e)}}),k.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(e,t){k.fn[e]=function(e){for(var n,r=[],i=k(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),k(i[a])[t](n),l.apply(r,n.get());return this.pushStack(r)}});var ze=new RegExp(\"^(\"+re+\")(?!px)[a-z%]+$\",\"i\"),qe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Be=new RegExp(oe.join(\"|\"),\"i\");function Ue(e,t,n){var r,i,o,a,s=e.style;return(n=n||qe(e))&&(\"\"!==(a=n.getPropertyValue(t)||n[t])||k.contains(e.ownerDocument,e)||(a=k.style(e,t)),!m.pixelBoxStyles()&&ze.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+\"\":a}function Ve(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",l.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",_e.appendChild(c).appendChild(l);var e=n.getComputedStyle(l);r=\"1%\"!==e.top,u=12===t(e.marginLeft),l.style.right=\"60%\",s=36===t(e.right),i=36===t(e.width),l.style.position=\"absolute\",o=36===l.offsetWidth||\"absolute\",_e.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var r,i,o,s,u,c=a.createElement(\"div\"),l=a.createElement(\"div\");l.style&&(l.style.backgroundClip=\"content-box\",l.cloneNode(!0).style.backgroundClip=\"\",m.clearCloneStyle=\"content-box\"===l.style.backgroundClip,k.extend(m,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),o}}))}();var Fe=/^(none|table(?!-c[ea]).+)/,Ge=/^--/,We={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Ye={letterSpacing:\"0\",fontWeight:\"400\"},Xe=[\"Webkit\",\"Moz\",\"ms\"],Qe=a.createElement(\"div\").style;function Je(e){var t=k.cssProps[e];return t||(t=k.cssProps[e]=function(e){if(e in Qe)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Xe.length;n--;)if((e=Xe[n]+t)in Qe)return e}(e)||e),t}function Ke(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||\"px\"):t}function Ze(e,t,n,r,i,o){var a=\"width\"===t?1:0,s=0,u=0;if(n===(r?\"border\":\"content\"))return 0;for(;a<4;a+=2)\"margin\"===n&&(u+=k.css(e,n+oe[a],!0,i)),r?(\"content\"===n&&(u-=k.css(e,\"padding\"+oe[a],!0,i)),\"margin\"!==n&&(u-=k.css(e,\"border\"+oe[a]+\"Width\",!0,i))):(u+=k.css(e,\"padding\"+oe[a],!0,i),\"padding\"!==n?u+=k.css(e,\"border\"+oe[a]+\"Width\",!0,i):s+=k.css(e,\"border\"+oe[a]+\"Width\",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e[\"offset\"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function et(e,t,n){var r=qe(e),i=Ue(e,t,r),o=\"border-box\"===k.css(e,\"boxSizing\",!1,r),a=o;if(ze.test(i)){if(!n)return i;i=\"auto\"}return a=a&&(m.boxSizingReliable()||i===e.style[t]),(\"auto\"===i||!parseFloat(i)&&\"inline\"===k.css(e,\"display\",!1,r))&&(i=e[\"offset\"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ze(e,t,n||(o?\"border\":\"content\"),a,r,i)+\"px\"}function tt(e,t,n,r,i){return new tt.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ue(e,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Ge.test(t),c=e.style;if(u||(t=Je(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&\"get\"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];\"string\"===(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ue(e,t,i),o=\"number\"),null!=n&&n==n&&(\"number\"===o&&(n+=i&&i[3]||(k.cssNumber[s]?\"\":\"px\")),m.clearCloneStyle||\"\"!==n||0!==t.indexOf(\"background\")||(c[t]=\"inherit\"),a&&\"set\"in a&&void 0===(n=a.set(e,n,r))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Ge.test(t)||(t=Je(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&\"get\"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ue(e,t,r)),\"normal\"===i&&t in Ye&&(i=Ye[t]),\"\"===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each([\"height\",\"width\"],function(e,t){k.cssHooks[t]={get:function(e,n,r){if(n)return!Fe.test(k.css(e,\"display\"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):se(e,We,function(){return et(e,t,r)})},set:function(e,n,r){var i,o=qe(e),a=\"border-box\"===k.css(e,\"boxSizing\",!1,o),s=r&&Ze(e,t,r,a,o);return a&&m.scrollboxSize()===o.position&&(s-=Math.ceil(e[\"offset\"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,\"border\",!1,o)-.5)),s&&(i=ie.exec(n))&&\"px\"!==(i[3]||\"px\")&&(e.style[t]=n,n=k.css(e,t)),Ke(0,n,s)}}}),k.cssHooks.marginLeft=Ve(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ue(e,\"marginLeft\"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+\"px\"}),k.each({margin:\"\",padding:\"\",border:\"Width\"},function(e,t){k.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o=\"string\"==typeof n?n.split(\" \"):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},\"margin\"!==e&&(k.cssHooks[e+t].set=Ke)}),k.fn.extend({css:function(e,t){return F(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=qe(e),i=t.length;a<i;a++)o[t[a]]=k.css(e,t[a],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,arguments.length>1)}}),k.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?\"\":\"px\")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,\"\"))&&\"auto\"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[k.cssProps[e.prop]]&&!k.cssHooks[e.prop]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:\"swing\"},k.fx=tt.prototype.init,k.fx.step={};var nt,rt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){rt&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(at):n.setTimeout(at,k.fx.interval),k.fx.tick())}function st(){return n.setTimeout(function(){nt=void 0}),nt=Date.now()}function ut(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i[\"margin\"+(n=oe[r])]=i[\"padding\"+n]=e;return t&&(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners[\"*\"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(e,t,n){var r,i,o=0,a=lt.prefilters.length,s=k.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=nt||st(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=k.cssHooks[r])&&\"expand\"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);o<a;o++)if(r=lt.prefilters[o].call(c,e,l,c.opts))return y(r.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return k.map(l,ct,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(lt,{tweeners:{\"*\":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=[\"*\"]):e=e.match(j);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,c,l,f=\"width\"in t||\"height\"in t,d=this,h={},p=e.style,v=e.nodeType&&ae(e),g=K.get(e,\"fxshow\");for(r in n.queue||(null==(a=k._queueHooks(e,\"fx\")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,k.queue(e,\"fx\").length||a.empty.fire()})})),t)if(i=t[r],it.test(i)){if(delete t[r],o=o||\"toggle\"===i,i===(v?\"hide\":\"show\")){if(\"show\"!==i||!g||void 0===g[r])continue;v=!0}h[r]=g&&g[r]||k.style(e,r)}if((u=!k.isEmptyObject(t))||!k.isEmptyObject(h))for(r in f&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=K.get(e,\"display\")),\"none\"===(l=k.css(e,\"display\"))&&(c?l=c:(fe([e],!0),c=e.style.display||c,l=k.css(e,\"display\"),fe([e]))),(\"inline\"===l||\"inline-block\"===l&&null!=c)&&\"none\"===k.css(e,\"float\")&&(u||(d.done(function(){p.display=c}),null==c&&(l=p.display,c=\"none\"===l?\"\":l)),p.display=\"inline-block\")),n.overflow&&(p.overflow=\"hidden\",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,h)u||(g?\"hidden\"in g&&(v=g.hidden):g=K.access(e,\"fxshow\",{display:c}),o&&(g.hidden=!v),v&&fe([e],!0),d.done(function(){for(r in v||fe([e]),K.remove(e,\"fxshow\"),h)k.style(e,r,h[r])})),u=ct(v?g[r]:0,r,d),r in g||(g[r]=u.start,v&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&\"object\"==typeof e?k.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return k.fx.off?r.duration=0:\"number\"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue=\"fx\"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css(\"opacity\",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=k.isEmptyObject(e),o=k.speed(t,n,r),a=function(){var t=lt(this,k.extend({},e),o);(i||K.get(this,\"finish\"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return\"string\"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||\"fx\",[]),this.each(function(){var t=!0,i=null!=e&&e+\"queueHooks\",o=k.timers,a=K.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ot.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||k.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||\"fx\"),this.each(function(){var t,n=K.get(this),r=n[e+\"queue\"],i=n[e+\"queueHooks\"],o=k.timers,a=r?r.length:0;for(n.finish=!0,k.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),k.each([\"toggle\",\"show\",\"hide\"],function(e,t){var n=k.fn[t];k.fn[t]=function(e,r,i){return null==e||\"boolean\"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,r,i)}}),k.each({slideDown:ut(\"show\"),slideUp:ut(\"hide\"),slideToggle:ut(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(e,t){k.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),nt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){rt||(rt=!0,at())},k.fx.stop=function(){rt=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||\"fx\",this.queue(t,function(t,r){var i=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(i)}})},function(){var e=a.createElement(\"input\"),t=a.createElement(\"select\").appendChild(a.createElement(\"option\"));e.type=\"checkbox\",m.checkOn=\"\"!==e.value,m.optSelected=t.selected,(e=a.createElement(\"input\")).value=\"t\",e.type=\"radio\",m.radioValue=\"t\"===e.value}();var ft,dt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return F(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ft:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&\"set\"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+\"\"),n):i&&\"get\"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&\"radio\"===t&&M(e,\"input\")){var n=e.value;return e.setAttribute(\"type\",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(j);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),ft={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\\w+/g),function(e,t){var n=dt[t]||k.find.attr;dt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=dt[a],dt[a]=i,i=null!=n(e,t,r)?a:null,dt[a]=o),i}});var ht=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function vt(e){return(e.match(j)||[]).join(\" \")}function gt(e){return e.getAttribute&&e.getAttribute(\"class\")||\"\"}function mt(e){return Array.isArray(e)?e:\"string\"==typeof e&&e.match(j)||[]}k.fn.extend({prop:function(e,t){return F(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&\"set\"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&\"get\"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,\"tabindex\");return t?parseInt(t,10):ht.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),m.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(y(e))return this.each(function(t){k(this).addClass(e.call(this,t,gt(this)))});if((t=mt(e)).length)for(;n=this[u++];)if(i=gt(n),r=1===n.nodeType&&\" \"+vt(i)+\" \"){for(a=0;o=t[a++];)r.indexOf(\" \"+o+\" \")<0&&(r+=o+\" \");i!==(s=vt(r))&&n.setAttribute(\"class\",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(y(e))return this.each(function(t){k(this).removeClass(e.call(this,t,gt(this)))});if(!arguments.length)return this.attr(\"class\",\"\");if((t=mt(e)).length)for(;n=this[u++];)if(i=gt(n),r=1===n.nodeType&&\" \"+vt(i)+\" \"){for(a=0;o=t[a++];)for(;r.indexOf(\" \"+o+\" \")>-1;)r=r.replace(\" \"+o+\" \",\" \");i!==(s=vt(r))&&n.setAttribute(\"class\",s)}return this},toggleClass:function(e,t){var n=typeof e,r=\"string\"===n||Array.isArray(e);return\"boolean\"==typeof t&&r?t?this.addClass(e):this.removeClass(e):y(e)?this.each(function(n){k(this).toggleClass(e.call(this,n,gt(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=k(this),a=mt(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&\"boolean\"!==n||((t=gt(this))&&K.set(this,\"__className__\",t),this.setAttribute&&this.setAttribute(\"class\",t||!1===e?\"\":K.get(this,\"__className__\")||\"\"))})},hasClass:function(e){var t,n,r=0;for(t=\" \"+e+\" \";n=this[r++];)if(1===n.nodeType&&(\" \"+vt(gt(n))+\" \").indexOf(t)>-1)return!0;return!1}});var yt=/\\r/g;k.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=y(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,k(this).val()):e)?i=\"\":\"number\"==typeof i?i+=\"\":Array.isArray(i)&&(i=k.map(i,function(e){return null==e?\"\":e+\"\"})),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&\"set\"in t&&void 0!==t.set(this,i,\"value\")||(this.value=i))})):i?(t=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()])&&\"get\"in t&&void 0!==(n=t.get(i,\"value\"))?n:\"string\"==typeof(n=i.value)?n.replace(yt,\"\"):null==n?\"\":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,\"value\");return null!=t?t:vt(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a=\"select-one\"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!M(n.parentNode,\"optgroup\"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=k.makeArray(t),a=i.length;a--;)((r=i[a]).selected=k.inArray(k.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each([\"radio\",\"checkbox\"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},m.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute(\"value\")?\"on\":e.value})}),m.focusin=\"onfocusin\"in n;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,r,i){var o,s,u,c,l,f,d,h,v=[r||a],g=p.call(e,\"type\")?e.type:e,m=p.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(s=h=u=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!bt.test(g+k.event.triggered)&&(g.indexOf(\".\")>-1&&(g=(m=g.split(\".\")).shift(),m.sort()),l=g.indexOf(\":\")<0&&\"on\"+g,(e=e[k.expando]?e:new k.Event(g,\"object\"==typeof e&&e)).isTrigger=i?2:3,e.namespace=m.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+m.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:k.makeArray(t,[e]),d=k.event.special[g]||{},i||!d.trigger||!1!==d.trigger.apply(r,t))){if(!i&&!d.noBubble&&!b(r)){for(c=d.delegateType||g,bt.test(c+g)||(s=s.parentNode);s;s=s.parentNode)v.push(s),u=s;u===(r.ownerDocument||a)&&v.push(u.defaultView||u.parentWindow||n)}for(o=0;(s=v[o++])&&!e.isPropagationStopped();)h=s,e.type=o>1?c:d.bindType||g,(f=(K.get(s,\"events\")||{})[e.type]&&K.get(s,\"handle\"))&&f.apply(s,t),(f=l&&s[l])&&f.apply&&Q(s)&&(e.result=f.apply(s,t),!1===e.result&&e.preventDefault());return e.type=g,i||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(v.pop(),t)||!Q(r)||l&&y(r[g])&&!b(r)&&((u=r[l])&&(r[l]=null),k.event.triggered=g,e.isPropagationStopped()&&h.addEventListener(g,wt),r[g](),e.isPropagationStopped()&&h.removeEventListener(g,wt),k.event.triggered=void 0,u&&(r[l]=u)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),m.focusin||k.each({focus:\"focusin\",blur:\"focusout\"},function(e,t){var n=function(e){k.event.simulate(t,e.target,k.event.fix(e))};k.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=K.access(r,t);i||r.addEventListener(e,n,!0),K.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=K.access(r,t)-1;i?K.access(r,t,i):(r.removeEventListener(e,n,!0),K.remove(r,t))}}});var xt=n.location,_t=Date.now(),kt=/\\?/;k.parseXML=function(e){var t;if(!e||\"string\"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,\"text/xml\")}catch(e){t=void 0}return t&&!t.getElementsByTagName(\"parsererror\").length||k.error(\"Invalid XML: \"+e),t};var Tt=/\\[\\]$/,Ct=/\\r?\\n/g,$t=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;function Et(e,t,n,r){var i;if(Array.isArray(t))k.each(t,function(t,i){n||Tt.test(e)?r(e,i):Et(e+\"[\"+(\"object\"==typeof i&&null!=i?t:\"\")+\"]\",i,n,r)});else if(n||\"object\"!==_(t))r(e,t);else for(i in t)Et(e+\"[\"+i+\"]\",t[i],n,r)}k.param=function(e,t){var n,r=[],i=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){i(this.name,this.value)});else for(n in e)Et(n,e[n],t,i);return r.join(\"&\")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,\"elements\");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(\":disabled\")&&St.test(this.nodeName)&&!$t.test(e)&&(this.checked||!de.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(Ct,\"\\r\\n\")}}):{name:t.name,value:n.replace(Ct,\"\\r\\n\")}}).get()}});var At=/%20/g,Mt=/#.*$/,Nt=/([?&])_=[^&]*/,Lt=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Dt=/^\\/\\//,Pt={},Ht={},It=\"*/\".concat(\"*\"),jt=a.createElement(\"a\");function Ot(e){return function(t,n){\"string\"!=typeof t&&(n=t,t=\"*\");var r,i=0,o=t.toLowerCase().match(j)||[];if(y(n))for(;r=o[i++];)\"+\"===r[0]?(r=r.slice(1)||\"*\",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function zt(e,t,n,r){var i={},o=e===Ht;function a(s){var u;return i[s]=!0,k.each(e[s]||[],function(e,s){var c=s(t,n,r);return\"string\"!=typeof c||o||i[c]?o?!(u=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),u}return a(t.dataTypes[0])||!i[\"*\"]&&a(\"*\")}function qt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}jt.href=xt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":It,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,k.ajaxSettings),t):qt(k.ajaxSettings,e)},ajaxPrefilter:Ot(Pt),ajaxTransport:Ot(Ht),ajax:function(e,t){\"object\"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,u,c,l,f,d,h,p=k.ajaxSetup({},t),v=p.context||p,g=p.context&&(v.nodeType||v.jquery)?k(v):k.event,m=k.Deferred(),y=k.Callbacks(\"once memory\"),b=p.statusCode||{},w={},x={},_=\"canceled\",T={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=Lt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)T.always(e[T.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||_;return r&&r.abort(t),C(0,t),this}};if(m.promise(T),p.url=((e||p.url||xt.href)+\"\").replace(Dt,xt.protocol+\"//\"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||\"*\").toLowerCase().match(j)||[\"\"],null==p.crossDomain){c=a.createElement(\"a\");try{c.href=p.url,c.href=c.href,p.crossDomain=jt.protocol+\"//\"+jt.host!=c.protocol+\"//\"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=k.param(p.data,p.traditional)),zt(Pt,p,t,T),l)return T;for(d in(f=k.event&&p.global)&&0==k.active++&&k.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Rt.test(p.type),i=p.url.replace(Mt,\"\"),p.hasContent?p.data&&p.processData&&0===(p.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(p.data=p.data.replace(At,\"+\")):(h=p.url.slice(i.length),p.data&&(p.processData||\"string\"==typeof p.data)&&(i+=(kt.test(i)?\"&\":\"?\")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Nt,\"$1\"),h=(kt.test(i)?\"&\":\"?\")+\"_=\"+_t+++h),p.url=i+h),p.ifModified&&(k.lastModified[i]&&T.setRequestHeader(\"If-Modified-Since\",k.lastModified[i]),k.etag[i]&&T.setRequestHeader(\"If-None-Match\",k.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&T.setRequestHeader(\"Content-Type\",p.contentType),T.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+It+\"; q=0.01\":\"\"):p.accepts[\"*\"]),p.headers)T.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(v,T,p)||l))return T.abort();if(_=\"abort\",y.add(p.complete),T.done(p.success),T.fail(p.error),r=zt(Ht,p,t,T)){if(T.readyState=1,f&&g.trigger(\"ajaxSend\",[T,p]),l)return T;p.async&&p.timeout>0&&(u=n.setTimeout(function(){T.abort(\"timeout\")},p.timeout));try{l=!1,r.send(w,C)}catch(e){if(l)throw e;C(-1,e)}}else C(-1,\"No Transport\");function C(e,t,a,s){var c,d,h,w,x,_=t;l||(l=!0,u&&n.clearTimeout(u),r=void 0,o=s||\"\",T.readyState=e>0?4:0,c=e>=200&&e<300||304===e,a&&(w=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;\"*\"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader(\"Content-Type\"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+\" \"+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,T,a)),w=function(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if(\"*\"===o)o=u;else if(\"*\"!==u&&u!==o){if(!(a=c[u+\" \"+o]||c[\"* \"+o]))for(i in c)if((s=i.split(\" \"))[1]===o&&(a=c[u+\" \"+s[0]]||c[\"* \"+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:\"parsererror\",error:a?e:\"No conversion from \"+u+\" to \"+o}}}return{state:\"success\",data:t}}(p,w,T,c),c?(p.ifModified&&((x=T.getResponseHeader(\"Last-Modified\"))&&(k.lastModified[i]=x),(x=T.getResponseHeader(\"etag\"))&&(k.etag[i]=x)),204===e||\"HEAD\"===p.type?_=\"nocontent\":304===e?_=\"notmodified\":(_=w.state,d=w.data,c=!(h=w.error))):(h=_,!e&&_||(_=\"error\",e<0&&(e=0))),T.status=e,T.statusText=(t||_)+\"\",c?m.resolveWith(v,[d,_,T]):m.rejectWith(v,[T,_,h]),T.statusCode(b),b=void 0,f&&g.trigger(c?\"ajaxSuccess\":\"ajaxError\",[T,p,c?d:h]),y.fireWith(v,[T,_]),f&&(g.trigger(\"ajaxComplete\",[T,p]),--k.active||k.event.trigger(\"ajaxStop\")))}return T},getJSON:function(e,t,n){return k.get(e,t,n,\"json\")},getScript:function(e,t){return k.get(e,void 0,t,\"script\")}}),k.each([\"get\",\"post\"],function(e,t){k[t]=function(e,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:i,data:n,success:r},k.isPlainObject(e)&&e))}}),k._evalUrl=function(e){return k.ajax({url:e,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,throws:!0})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return y(e)?this.each(function(t){k(this).wrapInner(e.call(this,t))}):this.each(function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=y(e);return this.each(function(n){k(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not(\"body\").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},Ut=k.ajaxSettings.xhr();m.cors=!!Ut&&\"withCredentials\"in Ut,m.ajax=Ut=!!Ut,k.ajaxTransport(function(e){var t,r;if(m.cors||Ut&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i[\"X-Requested-With\"]||(i[\"X-Requested-With\"]=\"XMLHttpRequest\"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,\"abort\"===e?s.abort():\"error\"===e?\"number\"!=typeof s.status?o(0,\"error\"):o(s.status,s.statusText):o(Bt[s.status]||s.status,s.statusText,\"text\"!==(s.responseType||\"text\")||\"string\"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=s.ontimeout=t(\"error\"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&r()})},t=t(\"abort\");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter(\"script\",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type=\"GET\")}),k.ajaxTransport(\"script\",function(e){var t,n;if(e.crossDomain)return{send:function(r,i){t=k(\"<script>\").prop({charset:e.scriptCharset,src:e.url}).on(\"load error\",n=function(e){t.remove(),n=null,e&&i(\"error\"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}});var Vt,Ft=[],Gt=/(=)\\?(?=&|$)|\\?\\?/;k.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var e=Ft.pop()||k.expando+\"_\"+_t++;return this[e]=!0,e}}),k.ajaxPrefilter(\"json jsonp\",function(e,t,r){var i,o,a,s=!1!==e.jsonp&&(Gt.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Gt.test(e.data)&&\"data\");if(s||\"jsonp\"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Gt,\"$1\"+i):!1!==e.jsonp&&(e.url+=(kt.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+i),e.converters[\"script json\"]=function(){return a||k.error(i+\" was not called\"),a[0]},e.dataTypes[0]=\"json\",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?k(n).removeProp(i):n[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Ft.push(i)),a&&y(o)&&o(a[0]),a=o=void 0}),\"script\"}),m.createHTMLDocument=((Vt=a.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Vt.childNodes.length),k.parseHTML=function(e,t,n){return\"string\"!=typeof e?[]:(\"boolean\"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((r=(t=a.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=a.location.href,t.head.appendChild(r)):t=a),i=N.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(\" \");return s>-1&&(r=vt(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&\"object\"==typeof t&&(i=\"POST\"),a.length>0&&k.ajax({url:e,type:i||\"GET\",dataType:\"html\",data:t}).done(function(e){o=arguments,a.html(r?k(\"<div>\").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},k.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.expr.pseudos.animated=function(e){return k.grep(k.timers,function(t){return e===t.elem}).length},k.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c=k.css(e,\"position\"),l=k(e),f={};\"static\"===c&&(e.style.position=\"relative\"),s=l.offset(),o=k.css(e,\"top\"),u=k.css(e,\"left\"),(\"absolute\"===c||\"fixed\"===c)&&(o+u).indexOf(\"auto\")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),y(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),\"using\"in t?t.using.call(e,f):l.css(f)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){k.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if(\"fixed\"===k.css(r,\"position\"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&\"static\"===k.css(e,\"position\");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,\"borderTopWidth\",!0),i.left+=k.css(e,\"borderLeftWidth\",!0))}return{top:t.top-i.top-k.css(r,\"marginTop\",!0),left:t.left-i.left-k.css(r,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&\"static\"===k.css(e,\"position\");)e=e.offsetParent;return e||_e})}}),k.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(e,t){var n=\"pageYOffset\"===t;k.fn[e]=function(r){return F(this,function(e,r,i){var o;if(b(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),k.each([\"top\",\"left\"],function(e,t){k.cssHooks[t]=Ve(m.pixelPosition,function(e,n){if(n)return n=Ue(e,t),ze.test(n)?k(e).position()[t]+\"px\":n})}),k.each({Height:\"height\",Width:\"width\"},function(e,t){k.each({padding:\"inner\"+e,content:t,\"\":\"outer\"+e},function(n,r){k.fn[r]=function(i,o){var a=arguments.length&&(n||\"boolean\"!=typeof i),s=n||(!0===i||!0===o?\"margin\":\"border\");return F(this,function(t,n,i){var o;return b(t)?0===r.indexOf(\"outer\")?t[\"inner\"+e]:t.document.documentElement[\"client\"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body[\"scroll\"+e],o[\"scroll\"+e],t.body[\"offset\"+e],o[\"offset\"+e],o[\"client\"+e])):void 0===i?k.css(t,n,s):k.style(t,n,i,s)},t,a?i:void 0,a)}})}),k.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),function(e,t){k.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,\"**\"):this.off(t,e||\"**\",n)}}),k.proxy=function(e,t){var n,r,i;if(\"string\"==typeof t&&(n=e[t],t=e,e=n),y(e))return r=u.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(u.call(arguments)))}).guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=M,k.isFunction=y,k.isWindow=b,k.camelCase=X,k.type=_,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return(\"number\"===t||\"string\"===t)&&!isNaN(e-parseFloat(e))},void 0===(r=function(){return k}.apply(t,[]))||(e.exports=r);var Wt=n.jQuery,Yt=n.$;return k.noConflict=function(e){return n.$===k&&(n.$=Yt),e&&n.jQuery===k&&(n.jQuery=Wt),k},i||(n.jQuery=n.$=k),k})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(194)},function(e,t,n){\"use strict\";n.r(t);var r=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},i=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}};var o=i(r),a=o.right,s=o.left,u=a,c=function(e,t){null==t&&(t=l);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o};function l(e,t){return[e,t]}var f=function(e,t,n){var r,i,o,a,s=e.length,u=t.length,c=new Array(s*u);for(null==n&&(n=l),r=o=0;r<s;++r)for(a=e[r],i=0;i<u;++i,++o)c[o]=n(a,t[i]);return c},d=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},h=function(e){return null===e?NaN:+e},p=function(e,t){var n,r,i=e.length,o=0,a=-1,s=0,u=0;if(null==t)for(;++a<i;)isNaN(n=h(e[a]))||(u+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=h(t(e[a],a,e)))||(u+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return u/(o-1)},v=function(e,t){var n=p(e,t);return n?Math.sqrt(n):n},g=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},m=Array.prototype,y=m.slice,b=m.map,w=function(e){return function(){return e}},x=function(e){return e},_=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o},k=Math.sqrt(50),T=Math.sqrt(10),C=Math.sqrt(2),$=function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=S(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o};function S(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=k?10:o>=T?5:o>=C?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=k?10:o>=T?5:o>=C?2:1)}function E(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=k?i*=10:o>=T?i*=5:o>=C&&(i*=2),t<e?-i:i}var A=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},M=function(){var e=x,t=g,n=A;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(r[i],i,r);var c=t(s),l=c[0],f=c[1],d=n(s,l,f);Array.isArray(d)||(d=E(l,f,d),d=_(Math.ceil(l/d)*d,Math.floor(f/d)*d,d));for(var h=d.length;d[0]<=l;)d.shift(),--h;for(;d[h-1]>f;)d.pop(),--h;var p,v=new Array(h+1);for(i=0;i<=h;++i)(p=v[i]=[]).x0=i>0?d[i-1]:l,p.x1=i<h?d[i]:f;for(i=0;i<a;++i)l<=(o=s[i])&&o<=f&&v[u(d,o,0,h)].push(r[i]);return v}return r.value=function(t){return arguments.length?(e=\"function\"==typeof t?t:w(t),r):e},r.domain=function(e){return arguments.length?(t=\"function\"==typeof e?e:w([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n=\"function\"==typeof e?e:Array.isArray(e)?w(y.call(e)):w(e),r):n},r},N=function(e,t,n){if(null==n&&(n=h),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}},L=function(e,t,n){return e=b.call(e,h).sort(r),Math.ceil((n-t)/(2*(N(e,.75)-N(e,.25))*Math.pow(e.length,-1/3)))},R=function(e,t,n){return Math.ceil((n-t)/(3.5*v(e)*Math.pow(e.length,-1/3)))},D=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},P=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=h(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=h(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},H=function(e,t){var n,i=e.length,o=-1,a=[];if(null==t)for(;++o<i;)isNaN(n=h(e[o]))||a.push(n);else for(;++o<i;)isNaN(n=h(t(e[o],o,e)))||a.push(n);return N(a.sort(r),.5)},I=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n},j=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r},O=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},z=function(e,t){if(n=e.length){var n,i,o=0,a=0,s=e[a];for(null==t&&(t=r);++o<n;)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,a=o);return 0===t(s,s)?a:void 0}},q=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},B=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},U=function(e){if(!(i=e.length))return[];for(var t=-1,n=j(e,V),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r};function V(e){return e.length}var F=function(){return U(arguments)},G=Array.prototype.slice,W=function(e){return e},Y=1,X=2,Q=3,J=4,K=1e-6;function Z(e){return\"translate(\"+(e+.5)+\",0)\"}function ee(e){return\"translate(0,\"+(e+.5)+\")\"}function te(){return!this.__axis}function ne(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,u=e===Y||e===J?-1:1,c=e===J||e===X?\"x\":\"y\",l=e===Y||e===Q?Z:ee;function f(f){var d=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,h=null==i?t.tickFormat?t.tickFormat.apply(t,n):W:i,p=Math.max(o,0)+s,v=t.range(),g=+v[0]+.5,m=+v[v.length-1]+.5,y=(t.bandwidth?function(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}:function(e){return function(t){return+e(t)}})(t.copy()),b=f.selection?f.selection():f,w=b.selectAll(\".domain\").data([null]),x=b.selectAll(\".tick\").data(d,t).order(),_=x.exit(),k=x.enter().append(\"g\").attr(\"class\",\"tick\"),T=x.select(\"line\"),C=x.select(\"text\");w=w.merge(w.enter().insert(\"path\",\".tick\").attr(\"class\",\"domain\").attr(\"stroke\",\"#000\")),x=x.merge(k),T=T.merge(k.append(\"line\").attr(\"stroke\",\"#000\").attr(c+\"2\",u*o)),C=C.merge(k.append(\"text\").attr(\"fill\",\"#000\").attr(c,u*p).attr(\"dy\",e===Y?\"0em\":e===Q?\"0.71em\":\"0.32em\")),f!==b&&(w=w.transition(f),x=x.transition(f),T=T.transition(f),C=C.transition(f),_=_.transition(f).attr(\"opacity\",K).attr(\"transform\",function(e){return isFinite(e=y(e))?l(e):this.getAttribute(\"transform\")}),k.attr(\"opacity\",K).attr(\"transform\",function(e){var t=this.parentNode.__axis;return l(t&&isFinite(t=t(e))?t:y(e))})),_.remove(),w.attr(\"d\",e===J||e==X?\"M\"+u*a+\",\"+g+\"H0.5V\"+m+\"H\"+u*a:\"M\"+g+\",\"+u*a+\"V0.5H\"+m+\"V\"+u*a),x.attr(\"opacity\",1).attr(\"transform\",function(e){return l(y(e))}),T.attr(c+\"2\",u*o),C.attr(c,u*p).text(h),b.filter(te).attr(\"fill\",\"none\").attr(\"font-size\",10).attr(\"font-family\",\"sans-serif\").attr(\"text-anchor\",e===X?\"start\":e===J?\"end\":\"middle\"),b.each(function(){this.__axis=y})}return f.scale=function(e){return arguments.length?(t=e,f):t},f.ticks=function(){return n=G.call(arguments),f},f.tickArguments=function(e){return arguments.length?(n=null==e?[]:G.call(e),f):n.slice()},f.tickValues=function(e){return arguments.length?(r=null==e?null:G.call(e),f):r&&r.slice()},f.tickFormat=function(e){return arguments.length?(i=e,f):i},f.tickSize=function(e){return arguments.length?(o=a=+e,f):o},f.tickSizeInner=function(e){return arguments.length?(o=+e,f):o},f.tickSizeOuter=function(e){return arguments.length?(a=+e,f):a},f.tickPadding=function(e){return arguments.length?(s=+e,f):s},f}function re(e){return ne(Y,e)}function ie(e){return ne(X,e)}function oe(e){return ne(Q,e)}function ae(e){return ne(J,e)}var se={value:function(){}};function ue(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+\"\")||e in r)throw new Error(\"illegal type: \"+e);r[e]=[]}return new ce(r)}function ce(e){this._=e}function le(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function fe(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=se,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}ce.prototype=ue.prototype={constructor:ce,on:function(e,t){var n,r,i=this._,o=(r=i,(e+\"\").trim().split(/^|\\s+/).map(function(e){var t=\"\",n=e.indexOf(\".\");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error(\"unknown type: \"+e);return{type:e,name:t}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&\"function\"!=typeof t)throw new Error(\"invalid callback: \"+t);for(;++a<s;)if(n=(e=o[a]).type)i[n]=fe(i[n],e.name,t);else if(null==t)for(n in i)i[n]=fe(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=le(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ce(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error(\"unknown type: \"+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error(\"unknown type: \"+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var de=ue,he=\"http://www.w3.org/1999/xhtml\",pe={svg:\"http://www.w3.org/2000/svg\",xhtml:he,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"},ve=function(e){var t=e+=\"\",n=t.indexOf(\":\");return n>=0&&\"xmlns\"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),pe.hasOwnProperty(t)?{space:pe[t],local:e}:e};var ge=function(e){var t=ve(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===he&&t.documentElement.namespaceURI===he?t.createElement(e):t.createElementNS(n,e)}})(t)};function me(){}var ye=function(e){return null==e?me:function(){return this.querySelector(e)}};function be(){return[]}var we=function(e){return null==e?be:function(){return this.querySelectorAll(e)}},xe=function(e){return function(){return this.matches(e)}};if(\"undefined\"!=typeof document){var _e=document.documentElement;if(!_e.matches){var ke=_e.webkitMatchesSelector||_e.msMatchesSelector||_e.mozMatchesSelector||_e.oMatchesSelector;xe=function(e){return function(){return ke.call(this,e)}}}}var Te=xe,Ce=function(e){return new Array(e.length)};function $e(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$e.prototype={constructor:$e,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Se=\"$\";function Ee(e,t,n,r,i,o){for(var a,s=0,u=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new $e(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function Ae(e,t,n,r,i,o,a){var s,u,c,l={},f=t.length,d=o.length,h=new Array(f);for(s=0;s<f;++s)(u=t[s])&&(h[s]=c=Se+a.call(u,u.__data__,s,t),c in l?i[s]=u:l[c]=u);for(s=0;s<d;++s)(u=l[c=Se+a.call(e,o[s],s,o)])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new $e(e,o[s]);for(s=0;s<f;++s)(u=t[s])&&l[h[s]]===u&&(i[s]=u)}function Me(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var Ne=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function Le(e,t){return e.style.getPropertyValue(t)||Ne(e).getComputedStyle(e,null).getPropertyValue(t)}function Re(e){return e.trim().split(/^|\\s+/)}function De(e){return e.classList||new Pe(e)}function Pe(e){this._node=e,this._names=Re(e.getAttribute(\"class\")||\"\")}function He(e,t){for(var n=De(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Ie(e,t){for(var n=De(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}Pe.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute(\"class\",this._names.join(\" \")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute(\"class\",this._names.join(\" \")))},contains:function(e){return this._names.indexOf(e)>=0}};function je(){this.textContent=\"\"}function Oe(){this.innerHTML=\"\"}function ze(){this.nextSibling&&this.parentNode.appendChild(this)}function qe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Be(){return null}function Ue(){var e=this.parentNode;e&&e.removeChild(this)}function Ve(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Fe(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Ge={},We=null;\"undefined\"!=typeof document&&(\"onmouseenter\"in document.documentElement||(Ge={mouseenter:\"mouseover\",mouseleave:\"mouseout\"}));function Ye(e,t,n){return e=Xe(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function Xe(e,t,n){return function(r){var i=We;We=r;try{e.call(this,this.__data__,t,n)}finally{We=i}}}function Qe(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function Je(e,t,n){var r=Ge.hasOwnProperty(e.type)?Ye:Xe;return function(i,o,a){var s,u=this.__on,c=r(t,o,a);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function Ke(e,t,n,r){var i=We;e.sourceEvent=We,We=e;try{return t.apply(n,r)}finally{We=i}}function Ze(e,t,n){var r=Ne(e),i=r.CustomEvent;\"function\"==typeof i?i=new i(t,n):(i=r.document.createEvent(\"Event\"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}var et=[null];function tt(e,t){this._groups=e,this._parents=t}function nt(){return new tt([[document.documentElement]],et)}tt.prototype=nt.prototype={constructor:tt,select:function(e){\"function\"!=typeof e&&(e=ye(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=e.call(o,o.__data__,l,s))&&(\"__data__\"in o&&(a.__data__=o.__data__),c[l]=a);return new tt(r,this._parents)},selectAll:function(e){\"function\"!=typeof e&&(e=we(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),i.push(a));return new tt(r,i)},filter:function(e){\"function\"!=typeof e&&(e=Te(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&u.push(o);return new tt(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),l=-1,this.each(function(e){p[++l]=e}),p;var n,r=t?Ae:Ee,i=this._parents,o=this._groups;\"function\"!=typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],d=o[l],h=d.length,p=e.call(f,f&&f.__data__,l,i),v=p.length,g=u[l]=new Array(v),m=s[l]=new Array(v);r(f,d,g,m,c[l]=new Array(h),p,t);for(var y,b,w=0,x=0;w<v;++w)if(y=g[w]){for(w>=x&&(x=w+1);!(b=m[x])&&++x<v;);y._next=b||null}}return(s=new tt(s,i))._enter=u,s._exit=c,s},enter:function(){return new tt(this._enter||this._groups.map(Ce),this._parents)},exit:function(){return new tt(this._exit||this._groups.map(Ce),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=t[s],l=n[s],f=c.length,d=a[s]=new Array(f),h=0;h<f;++h)(u=c[h]||l[h])&&(d[h]=u);for(;s<r;++s)a[s]=t[s];return new tt(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Me);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(t)}return new tt(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=ve(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:\"function\"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:\"function\"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?\"\":n)):Le(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:\"function\"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=Re(e+\"\");if(arguments.length<2){for(var r=De(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((\"function\"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?He:Ie)(this,e)}}:t?function(e){return function(){He(this,e)}}:function(e){return function(){Ie(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?je:(\"function\"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?\"\":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Oe:(\"function\"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?\"\":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(ze)},lower:function(){return this.each(qe)},append:function(e){var t=\"function\"==typeof e?e:ge(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n=\"function\"==typeof e?e:ge(e),r=null==t?Be:\"function\"==typeof t?t:ye(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Ue)},clone:function(e){return this.select(e?Fe:Ve)},datum:function(e){return arguments.length?this.property(\"__data__\",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\\s+/).map(function(e){var t=\"\",n=e.indexOf(\".\");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+\"\"),a=o.length;if(!(arguments.length<2)){for(s=t?Je:Qe,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each((\"function\"==typeof t?function(e,t){return function(){return Ze(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return Ze(this,e,t)}})(e,t))}};var rt=nt,it=function(e){return\"string\"==typeof e?new tt([[document.querySelector(e)]],[document.documentElement]):new tt([[e]],et)},ot=function(e){return it(ge(e).call(document.documentElement))},at=0;function st(){return new ut}function ut(){this._=\"@\"+(++at).toString(36)}ut.prototype=st.prototype={constructor:ut,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var ct=function(){for(var e,t=We;e=t.sourceEvent;)t=e;return t},lt=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},ft=function(e){var t=ct();return t.changedTouches&&(t=t.changedTouches[0]),lt(e,t)},dt=function(e){return\"string\"==typeof e?new tt([document.querySelectorAll(e)],[document.documentElement]):new tt([null==e?[]:e],et)},ht=function(e,t,n){arguments.length<3&&(n=t,t=ct().changedTouches);for(var r,i=0,o=t?t.length:0;i<o;++i)if((r=t[i]).identifier===n)return lt(e,r);return null},pt=function(e,t){null==t&&(t=ct().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=lt(e,t[n]);return i};function vt(){We.stopImmediatePropagation()}var gt=function(){We.preventDefault(),We.stopImmediatePropagation()},mt=function(e){var t=e.document.documentElement,n=it(e).on(\"dragstart.drag\",gt,!0);\"onselectstart\"in t?n.on(\"selectstart.drag\",gt,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect=\"none\")};function yt(e,t){var n=e.document.documentElement,r=it(e).on(\"dragstart.drag\",null);t&&(r.on(\"click.drag\",gt,!0),setTimeout(function(){r.on(\"click.drag\",null)},0)),\"onselectstart\"in n?r.on(\"selectstart.drag\",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var bt=function(e){return function(){return e}};function wt(e,t,n,r,i,o,a,s,u,c){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}function xt(){return!We.button}function _t(){return this.parentNode}function kt(e){return null==e?{x:We.x,y:We.y}:e}function Tt(){return\"ontouchstart\"in this}wt.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Ct=function(){var e,t,n,r,i=xt,o=_t,a=kt,s=Tt,u={},c=de(\"start\",\"drag\",\"end\"),l=0,f=0;function d(e){e.on(\"mousedown.drag\",h).filter(s).on(\"touchstart.drag\",g).on(\"touchmove.drag\",m).on(\"touchend.drag touchcancel.drag\",y).style(\"touch-action\",\"none\").style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\")}function h(){if(!r&&i.apply(this,arguments)){var a=b(\"mouse\",o.apply(this,arguments),ft,this,arguments);a&&(it(We.view).on(\"mousemove.drag\",p,!0).on(\"mouseup.drag\",v,!0),mt(We.view),vt(),n=!1,e=We.clientX,t=We.clientY,a(\"start\"))}}function p(){if(gt(),!n){var r=We.clientX-e,i=We.clientY-t;n=r*r+i*i>f}u.mouse(\"drag\")}function v(){it(We.view).on(\"mousemove.drag mouseup.drag\",null),yt(We.view,n),gt(),u.mouse(\"end\")}function g(){if(i.apply(this,arguments)){var e,t,n=We.changedTouches,r=o.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=b(n[e].identifier,r,ht,this,arguments))&&(vt(),t(\"start\"))}}function m(){var e,t,n=We.changedTouches,r=n.length;for(e=0;e<r;++e)(t=u[n[e].identifier])&&(gt(),t(\"drag\"))}function y(){var e,t,n=We.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),e=0;e<i;++e)(t=u[n[e].identifier])&&(vt(),t(\"end\"))}function b(e,t,n,r,i){var o,s,f,h=n(t,e),p=c.copy();if(Ke(new wt(d,\"beforestart\",o,e,l,h[0],h[1],0,0,p),function(){return null!=(We.subject=o=a.apply(r,i))&&(s=o.x-h[0]||0,f=o.y-h[1]||0,!0)}))return function a(c){var v,g=h;switch(c){case\"start\":u[e]=a,v=l++;break;case\"end\":delete u[e],--l;case\"drag\":h=n(t,e),v=l}Ke(new wt(d,c,o,e,v,h[0]+s,h[1]+f,h[0]-g[0],h[1]-g[1],p),p.apply,p,[c,r,i])}}return d.filter=function(e){return arguments.length?(i=\"function\"==typeof e?e:bt(!!e),d):i},d.container=function(e){return arguments.length?(o=\"function\"==typeof e?e:bt(e),d):o},d.subject=function(e){return arguments.length?(a=\"function\"==typeof e?e:bt(e),d):a},d.touchable=function(e){return arguments.length?(s=\"function\"==typeof e?e:bt(!!e),d):s},d.on=function(){var e=c.on.apply(c,arguments);return e===c?d:e},d.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,d):Math.sqrt(f)},d},$t=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function St(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Et(){}var At=\"\\\\s*([+-]?\\\\d+)\\\\s*\",Mt=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",Nt=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",Lt=/^#([0-9a-f]{3})$/,Rt=/^#([0-9a-f]{6})$/,Dt=new RegExp(\"^rgb\\\\(\"+[At,At,At]+\"\\\\)$\"),Pt=new RegExp(\"^rgb\\\\(\"+[Nt,Nt,Nt]+\"\\\\)$\"),Ht=new RegExp(\"^rgba\\\\(\"+[At,At,At,Mt]+\"\\\\)$\"),It=new RegExp(\"^rgba\\\\(\"+[Nt,Nt,Nt,Mt]+\"\\\\)$\"),jt=new RegExp(\"^hsl\\\\(\"+[Mt,Nt,Nt]+\"\\\\)$\"),Ot=new RegExp(\"^hsla\\\\(\"+[Mt,Nt,Nt,Mt]+\"\\\\)$\"),zt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qt(e){var t;return e=(e+\"\").trim().toLowerCase(),(t=Lt.exec(e))?new Gt((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=Rt.exec(e))?Bt(parseInt(t[1],16)):(t=Dt.exec(e))?new Gt(t[1],t[2],t[3],1):(t=Pt.exec(e))?new Gt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ht.exec(e))?Ut(t[1],t[2],t[3],t[4]):(t=It.exec(e))?Ut(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=jt.exec(e))?Yt(t[1],t[2]/100,t[3]/100,1):(t=Ot.exec(e))?Yt(t[1],t[2]/100,t[3]/100,t[4]):zt.hasOwnProperty(e)?Bt(zt[e]):\"transparent\"===e?new Gt(NaN,NaN,NaN,0):null}function Bt(e){return new Gt(e>>16&255,e>>8&255,255&e,1)}function Ut(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gt(e,t,n,r)}function Vt(e){return e instanceof Et||(e=qt(e)),e?new Gt((e=e.rgb()).r,e.g,e.b,e.opacity):new Gt}function Ft(e,t,n,r){return 1===arguments.length?Vt(e):new Gt(e,t,n,null==r?1:r)}function Gt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Wt(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?\"0\":\"\")+e.toString(16)}function Yt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Qt(e,t,n,r)}function Xt(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Qt)return new Qt(e.h,e.s,e.l,e.opacity);if(e instanceof Et||(e=qt(e)),!e)return new Qt;if(e instanceof Qt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Qt(a,s,u,e.opacity)}(e):new Qt(e,t,n,null==r?1:r)}function Qt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Jt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}$t(Et,qt,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+\"\"}}),$t(Gt,Ft,St(Et,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return\"#\"+Wt(this.r)+Wt(this.g)+Wt(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?\")\":\", \"+e+\")\")}})),$t(Qt,Xt,St(Et,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Qt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Qt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Gt(Jt(e>=240?e-240:e+120,i,r),Jt(e,i,r),Jt(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Kt=Math.PI/180,Zt=180/Math.PI,en=.96422,tn=1,nn=.82521,rn=4/29,on=6/29,an=3*on*on,sn=on*on*on;function un(e){if(e instanceof fn)return new fn(e.l,e.a,e.b,e.opacity);if(e instanceof bn){if(isNaN(e.h))return new fn(e.l,0,0,e.opacity);var t=e.h*Kt;return new fn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof Gt||(e=Vt(e));var n,r,i=vn(e.r),o=vn(e.g),a=vn(e.b),s=dn((.2225045*i+.7168786*o+.0606169*a)/tn);return i===o&&o===a?n=r=s:(n=dn((.4360747*i+.3850649*o+.1430804*a)/en),r=dn((.0139322*i+.0971045*o+.7141733*a)/nn)),new fn(116*s-16,500*(n-s),200*(s-r),e.opacity)}function cn(e,t){return new fn(e,0,0,null==t?1:t)}function ln(e,t,n,r){return 1===arguments.length?un(e):new fn(e,t,n,null==r?1:r)}function fn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function dn(e){return e>sn?Math.pow(e,1/3):e/an+rn}function hn(e){return e>on?e*e*e:an*(e-rn)}function pn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function vn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function gn(e){if(e instanceof bn)return new bn(e.h,e.c,e.l,e.opacity);if(e instanceof fn||(e=un(e)),0===e.a&&0===e.b)return new bn(NaN,0,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Zt;return new bn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function mn(e,t,n,r){return 1===arguments.length?gn(e):new bn(n,t,e,null==r?1:r)}function yn(e,t,n,r){return 1===arguments.length?gn(e):new bn(e,t,n,null==r?1:r)}function bn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}$t(fn,ln,St(Et,{brighter:function(e){return new fn(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new fn(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Gt(pn(3.1338561*(t=en*hn(t))-1.6168667*(e=tn*hn(e))-.4906146*(n=nn*hn(n))),pn(-.9787684*t+1.9161415*e+.033454*n),pn(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),$t(bn,yn,St(Et,{brighter:function(e){return new bn(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new bn(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return un(this).rgb()}}));var wn=-.29227,xn=-.90649,_n=1.97294,kn=_n*xn,Tn=1.78277*_n,Cn=1.78277*wn- -.14861*xn;function $n(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Sn)return new Sn(e.h,e.s,e.l,e.opacity);e instanceof Gt||(e=Vt(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Cn*r+kn*t-Tn*n)/(Cn+kn-Tn),o=r-i,a=(_n*(n-i)-wn*o)/xn,s=Math.sqrt(a*a+o*o)/(_n*i*(1-i)),u=s?Math.atan2(a,o)*Zt-120:NaN;return new Sn(u<0?u+360:u,s,i,e.opacity)}(e):new Sn(e,t,n,null==r?1:r)}function Sn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function En(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}$t(Sn,$n,St(Et,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Sn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Sn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Kt,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Gt(255*(t+n*(-.14861*r+1.78277*i)),255*(t+n*(wn*r+xn*i)),255*(t+n*(_n*r)),this.opacity)}}));var An=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return En((n-r/t)*t,a,i,o,s)}},Mn=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return En((n-r/t)*t,i,o,a,s)}},Nn=function(e){return function(){return e}};function Ln(e,t){return function(n){return e+n*t}}function Rn(e,t){var n=t-e;return n?Ln(e,n>180||n<-180?n-360*Math.round(n/360):n):Nn(isNaN(e)?t:e)}function Dn(e){return 1==(e=+e)?Pn:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Nn(isNaN(t)?n:t)}}function Pn(e,t){var n=t-e;return n?Ln(e,n):Nn(isNaN(e)?t:e)}var Hn=function e(t){var n=Dn(t);function r(e,t){var r=n((e=Ft(e)).r,(t=Ft(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Pn(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+\"\"}}return r.gamma=e,r}(1);function In(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ft(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+\"\"}}}var jn=In(An),On=In(Mn),zn=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Jn(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}},qn=function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}},Bn=function(e,t){return t-=e=+e,function(n){return e+t*n}},Un=function(e,t){var n,r={},i={};for(n in null!==e&&\"object\"==typeof e||(e={}),null!==t&&\"object\"==typeof t||(t={}),t)n in e?r[n]=Jn(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},Vn=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,Fn=new RegExp(Vn.source,\"g\");var Gn,Wn,Yn,Xn,Qn=function(e,t){var n,r,i,o=Vn.lastIndex=Fn.lastIndex=0,a=-1,s=[],u=[];for(e+=\"\",t+=\"\";(n=Vn.exec(e))&&(r=Fn.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Bn(n,r)})),o=Fn.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+\"\"}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join(\"\")})},Jn=function(e,t){var n,r=typeof t;return null==t||\"boolean\"===r?Nn(t):(\"number\"===r?Bn:\"string\"===r?(n=qt(t))?(t=n,Hn):Qn:t instanceof qt?Hn:t instanceof Date?qn:Array.isArray(t)?zn:\"function\"!=typeof t.valueOf&&\"function\"!=typeof t.toString||isNaN(t)?Un:Bn)(e,t)},Kn=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},Zn=180/Math.PI,er={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},tr=function(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Zn,skewX:Math.atan(u)*Zn,scaleX:a,scaleY:s}};function nr(e,t,n,r){function i(e){return e.length?e.pop()+\" \":\"\"}return function(o,a){var s=[],u=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var u=a.push(\"translate(\",null,t,null,n);s.push({i:u-4,x:Bn(e,i)},{i:u-2,x:Bn(r,o)})}else(i||o)&&a.push(\"translate(\"+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+\"rotate(\",null,r)-2,x:Bn(e,t)})):t&&n.push(i(n)+\"rotate(\"+t+r)}(o.rotate,a.rotate,s,u),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+\"skewX(\",null,r)-2,x:Bn(e,t)}):t&&n.push(i(n)+\"skewX(\"+t+r)}(o.skewX,a.skewX,s,u),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+\"scale(\",null,\",\",null,\")\");a.push({i:s-4,x:Bn(e,n)},{i:s-2,x:Bn(t,r)})}else 1===n&&1===r||o.push(i(o)+\"scale(\"+n+\",\"+r+\")\")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join(\"\")}}}var rr=nr(function(e){return\"none\"===e?er:(Gn||(Gn=document.createElement(\"DIV\"),Wn=document.documentElement,Yn=document.defaultView),Gn.style.transform=e,e=Yn.getComputedStyle(Wn.appendChild(Gn),null).getPropertyValue(\"transform\"),Wn.removeChild(Gn),e=e.slice(7,-1).split(\",\"),tr(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},\"px, \",\"px)\",\"deg)\"),ir=nr(function(e){return null==e?er:(Xn||(Xn=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")),Xn.setAttribute(\"transform\",e),(e=Xn.transform.baseVal.consolidate())?(e=e.matrix,tr(e.a,e.b,e.c,e.d,e.e,e.f)):er)},\", \",\")\",\")\"),or=Math.SQRT2;function ar(e){return((e=Math.exp(e))+1/e)/2}var sr=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],u=t[1],c=t[2],l=s-i,f=u-o,d=l*l+f*f;if(d<1e-12)r=Math.log(c/a)/or,n=function(e){return[i+e*l,o+e*f,a*Math.exp(or*e*r)]};else{var h=Math.sqrt(d),p=(c*c-a*a+4*d)/(2*a*2*h),v=(c*c-a*a-4*d)/(2*c*2*h),g=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(v*v+1)-v);r=(m-g)/or,n=function(e){var t,n=e*r,s=ar(g),u=a/(2*h)*(s*(t=or*n+g,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[i+u*l,o+u*f,a*s/ar(or*n+g)]}}return n.duration=1e3*r,n};function ur(e){return function(t,n){var r=e((t=Xt(t)).h,(n=Xt(n)).h),i=Pn(t.s,n.s),o=Pn(t.l,n.l),a=Pn(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=a(e),t+\"\"}}}var cr=ur(Rn),lr=ur(Pn);function fr(e,t){var n=Pn((e=ln(e)).l,(t=ln(t)).l),r=Pn(e.a,t.a),i=Pn(e.b,t.b),o=Pn(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+\"\"}}function dr(e){return function(t,n){var r=e((t=yn(t)).h,(n=yn(n)).h),i=Pn(t.c,n.c),o=Pn(t.l,n.l),a=Pn(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=a(e),t+\"\"}}}var hr=dr(Rn),pr=dr(Pn);function vr(e){return function t(n){function r(t,r){var i=e((t=$n(t)).h,(r=$n(r)).h),o=Pn(t.s,r.s),a=Pn(t.l,r.l),s=Pn(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+\"\"}}return n=+n,r.gamma=t,r}(1)}var gr=vr(Rn),mr=vr(Pn);function yr(e,t){for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}var br,wr,xr=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},_r=0,kr=0,Tr=0,Cr=1e3,$r=0,Sr=0,Er=0,Ar=\"object\"==typeof performance&&performance.now?performance:Date,Mr=\"object\"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Nr(){return Sr||(Mr(Lr),Sr=Ar.now()+Er)}function Lr(){Sr=0}function Rr(){this._call=this._time=this._next=null}function Dr(e,t,n){var r=new Rr;return r.restart(e,t,n),r}function Pr(){Nr(),++_r;for(var e,t=br;t;)(e=Sr-t._time)>=0&&t._call.call(null,e),t=t._next;--_r}function Hr(){Sr=($r=Ar.now())+Er,_r=kr=0;try{Pr()}finally{_r=0,function(){var e,t,n=br,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:br=t);wr=e,jr(r)}(),Sr=0}}function Ir(){var e=Ar.now(),t=e-$r;t>Cr&&(Er-=t,$r=e)}function jr(e){_r||(kr&&(kr=clearTimeout(kr)),e-Sr>24?(e<1/0&&(kr=setTimeout(Hr,e-Ar.now()-Er)),Tr&&(Tr=clearInterval(Tr))):(Tr||($r=Ar.now(),Tr=setInterval(Ir,Cr)),_r=1,Mr(Hr)))}Rr.prototype=Dr.prototype={constructor:Rr,restart:function(e,t,n){if(\"function\"!=typeof e)throw new TypeError(\"callback is not a function\");n=(null==n?Nr():+n)+(null==t?0:+t),this._next||wr===this||(wr?wr._next=this:br=this,wr=this),this._call=e,this._time=n,jr()},stop:function(){this._call&&(this._call=null,this._time=1/0,jr())}};var Or=function(e,t,n){var r=new Rr;return t=null==t?0:+t,r.restart(function(n){r.stop(),e(n+t)},t,n),r},zr=function(e,t,n){var r=new Rr,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?Nr():+n,r.restart(function o(a){a+=i,r.restart(o,i+=t,n),e(a)},t,n),r)},qr=de(\"start\",\"end\",\"interrupt\"),Br=[],Ur=0,Vr=1,Fr=2,Gr=3,Wr=4,Yr=5,Xr=6,Qr=function(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(u){var c,l,f,d;if(n.state!==Vr)return s();for(c in i)if((d=i[c]).name===n.name){if(d.state===Gr)return Or(o);d.state===Wr?(d.state=Xr,d.timer.stop(),d.on.call(\"interrupt\",e,e.__data__,d.index,d.group),delete i[c]):+c<t&&(d.state=Xr,d.timer.stop(),delete i[c])}if(Or(function(){n.state===Gr&&(n.state=Wr,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Fr,n.on.call(\"start\",e,e.__data__,n.index,n.group),n.state===Fr){for(n.state=Gr,r=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++l]=d);r.length=l+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=Yr,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);n.state===Yr&&(n.on.call(\"end\",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=Xr,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=Dr(function(e){n.state=Vr,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:i,on:qr,tween:Br,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ur})};function Jr(e,t){var n=Zr(e,t);if(n.state>Ur)throw new Error(\"too late; already scheduled\");return n}function Kr(e,t){var n=Zr(e,t);if(n.state>Fr)throw new Error(\"too late; already started\");return n}function Zr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error(\"transition not found\");return n}var ei=function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+\"\",o)(n=o[i]).name===t?(r=n.state>Fr&&n.state<Yr,n.state=Xr,n.timer.stop(),r&&n.on.call(\"interrupt\",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}};function ti(e,t,n){var r=e._id;return e.each(function(){var e=Kr(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return Zr(e,r).value[t]}}var ni=function(e,t){var n;return(\"number\"==typeof t?Bn:t instanceof qt?Hn:(n=qt(t))?(t=n,Hn):Qn)(e,t)};var ri=rt.prototype.constructor;var ii=0;function oi(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ai(e){return rt().transition(e)}function si(){return++ii}var ui=rt.prototype;function ci(e){return+e}function li(e){return e*e}function fi(e){return e*(2-e)}function di(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function hi(e){return e*e*e}function pi(e){return--e*e*e+1}function vi(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}oi.prototype=ai.prototype={constructor:oi,select:function(e){var t=this._name,n=this._id;\"function\"!=typeof e&&(e=ye(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],l=c.length,f=o[a]=new Array(l),d=0;d<l;++d)(s=c[d])&&(u=e.call(s,s.__data__,d,c))&&(\"__data__\"in s&&(u.__data__=s.__data__),f[d]=u,Qr(f[d],t,n,d,f,Zr(s,n)));return new oi(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;\"function\"!=typeof e&&(e=we(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var d,h=e.call(u,u.__data__,f,c),p=Zr(u,n),v=0,g=h.length;v<g;++v)(d=h[v])&&Qr(d,t,n,v,h,p);o.push(h),a.push(u)}return new oi(o,a,t,n)},filter:function(e){\"function\"!=typeof e&&(e=Te(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&u.push(o);return new oi(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=t[s],l=n[s],f=c.length,d=a[s]=new Array(f),h=0;h<f;++h)(u=c[h]||l[h])&&(d[h]=u);for(;s<r;++s)a[s]=t[s];return new oi(a,this._parents,this._name,this._id)},selection:function(){return new ri(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=si(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=Zr(a,t);Qr(a,e,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new oi(r,this._parents,e,n)},call:ui.call,nodes:ui.nodes,node:ui.node,size:ui.size,empty:ui.empty,each:ui.each,on:function(e,t){var n=this._id;return arguments.length<2?Zr(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+\"\").trim().split(/^|\\s+/).every(function(e){var t=e.indexOf(\".\");return t>=0&&(e=e.slice(0,t)),!e||\"start\"===e})}(t)?Jr:Kr;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}(n,e,t))},attr:function(e,t){var n=ve(e),r=\"transform\"===n?ir:ni;return this.attrTween(e,\"function\"==typeof t?(n.local?function(e,t,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(e.space,e.local))===s?null:a===r&&s===i?o:o=t(r=a,i=s);this.removeAttributeNS(e.space,e.local)}}:function(e,t,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(e))===s?null:a===r&&s===i?o:o=t(r=a,i=s);this.removeAttribute(e)}})(n,r,ti(this,\"attr.\"+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===n?null:o===r?i:i=t(r=o,n)}}:function(e,t,n){var r,i;return function(){var o=this.getAttribute(e);return o===n?null:o===r?i:i=t(r=o,n)}})(n,r,t+\"\"))},attrTween:function(e,t){var n=\"attr.\"+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if(\"function\"!=typeof t)throw new Error;var r=ve(e);return this.tween(n,(r.local?function(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttributeNS(e.space,e.local,r(t))}}return n._value=t,n}:function(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttribute(e,r(t))}}return n._value=t,n})(r,t))},style:function(e,t,n){var r=\"transform\"==(e+=\"\")?rr:ni;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=Le(this,e),a=(this.style.removeProperty(e),Le(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on(\"end.style.\"+e,function(e){return function(){this.style.removeProperty(e)}}(e)):this.styleTween(e,\"function\"==typeof t?function(e,t,n){var r,i,o;return function(){var a=Le(this,e),s=n(this);return null==s&&(this.style.removeProperty(e),s=Le(this,e)),a===s?null:a===r&&s===i?o:o=t(r=a,i=s)}}(e,r,ti(this,\"style.\"+e,t)):function(e,t,n){var r,i;return function(){var o=Le(this,e);return o===n?null:o===r?i:i=t(r=o,n)}}(e,r,t+\"\"),n)},styleTween:function(e,t,n){var r=\"style.\"+(e+=\"\");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if(\"function\"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){function r(){var r=this,i=t.apply(r,arguments);return i&&function(t){r.style.setProperty(e,i(t),n)}}return r._value=t,r}(e,t,null==n?\"\":n))},text:function(e){return this.tween(\"text\",\"function\"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?\"\":t}}(ti(this,\"text\",e)):function(e){return function(){this.textContent=e}}(null==e?\"\":e+\"\"))},remove:function(){return this.on(\"end.remove\",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+=\"\",arguments.length<2){for(var r,i=Zr(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var i=Kr(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(e,t,n){var r,i;if(\"function\"!=typeof n)throw new Error;return function(){var o=Kr(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===t){i[u]=s;break}u===c&&i.push(s)}o.tween=i}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each((\"function\"==typeof e?function(e,t){return function(){Jr(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){Jr(this,e).delay=t}})(t,e)):Zr(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each((\"function\"==typeof e?function(e,t){return function(){Kr(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){Kr(this,e).duration=t}})(t,e)):Zr(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if(\"function\"!=typeof t)throw new Error;return function(){Kr(this,e).ease=t}}(t,e)):Zr(this.node(),t).ease}};var gi=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),mi=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),yi=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),bi=Math.PI,wi=bi/2;function xi(e){return 1-Math.cos(e*wi)}function _i(e){return Math.sin(e*wi)}function ki(e){return(1-Math.cos(bi*e))/2}function Ti(e){return Math.pow(2,10*e-10)}function Ci(e){return 1-Math.pow(2,-10*e)}function $i(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function Si(e){return 1-Math.sqrt(1-e*e)}function Ei(e){return Math.sqrt(1- --e*e)}function Ai(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Mi=4/11,Ni=6/11,Li=8/11,Ri=.75,Di=9/11,Pi=10/11,Hi=.9375,Ii=21/22,ji=63/64,Oi=1/Mi/Mi;function zi(e){return 1-qi(1-e)}function qi(e){return(e=+e)<Mi?Oi*e*e:e<Li?Oi*(e-=Ni)*e+Ri:e<Pi?Oi*(e-=Di)*e+Hi:Oi*(e-=Ii)*e+ji}function Bi(e){return((e*=2)<=1?1-qi(1-e):qi(e-1)+1)/2}var Ui=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),Vi=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),Fi=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),Gi=2*Math.PI,Wi=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Gi);function i(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*Gi)},i.period=function(n){return e(t,n)},i}(1,.3),Yi=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Gi);function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*Gi)},i.period=function(n){return e(t,n)},i}(1,.3),Xi=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Gi);function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*Gi)},i.period=function(n){return e(t,n)},i}(1,.3),Qi={time:null,delay:0,duration:250,ease:vi};function Ji(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return Qi.time=Nr(),Qi;return n}rt.prototype.interrupt=function(e){return this.each(function(){ei(this,e)})},rt.prototype.transition=function(e){var t,n;e instanceof oi?(t=e._id,e=e._name):(t=si(),(n=Qi).time=Nr(),e=null==e?null:e+\"\");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&Qr(a,e,t,c,s,n||Ji(a,t));return new oi(r,this._parents,e,t)};var Ki=[null],Zi=function(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+\"\",i)if((n=i[r]).state>Vr&&n.name===t)return new oi([[e]],Ki,t,+r);return null},eo=function(e){return function(){return e}},to=function(e,t,n){this.target=e,this.type=t,this.selection=n};function no(){We.stopImmediatePropagation()}var ro=function(){We.preventDefault(),We.stopImmediatePropagation()},io={name:\"drag\"},oo={name:\"space\"},ao={name:\"handle\"},so={name:\"center\"},uo={name:\"x\",handles:[\"e\",\"w\"].map(mo),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},co={name:\"y\",handles:[\"n\",\"s\"].map(mo),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},lo={name:\"xy\",handles:[\"n\",\"e\",\"s\",\"w\",\"nw\",\"ne\",\"se\",\"sw\"].map(mo),input:function(e){return e},output:function(e){return e}},fo={overlay:\"crosshair\",selection:\"move\",n:\"ns-resize\",e:\"ew-resize\",s:\"ns-resize\",w:\"ew-resize\",nw:\"nwse-resize\",ne:\"nesw-resize\",se:\"nwse-resize\",sw:\"nesw-resize\"},ho={e:\"w\",w:\"e\",nw:\"ne\",ne:\"nw\",se:\"sw\",sw:\"se\"},po={n:\"s\",s:\"n\",nw:\"sw\",ne:\"se\",se:\"ne\",sw:\"nw\"},vo={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},go={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function mo(e){return{type:e}}function yo(){return!We.button}function bo(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function wo(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function xo(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function _o(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function ko(){return $o(uo)}function To(){return $o(co)}var Co=function(){return $o(lo)};function $o(e){var t,n=bo,r=yo,i=de(a,\"start\",\"brush\",\"end\"),o=6;function a(t){var n=t.property(\"__brush\",f).selectAll(\".overlay\").data([mo(\"overlay\")]);n.enter().append(\"rect\").attr(\"class\",\"overlay\").attr(\"pointer-events\",\"all\").attr(\"cursor\",fo.overlay).merge(n).each(function(){var e=wo(this).extent;it(this).attr(\"x\",e[0][0]).attr(\"y\",e[0][1]).attr(\"width\",e[1][0]-e[0][0]).attr(\"height\",e[1][1]-e[0][1])}),t.selectAll(\".selection\").data([mo(\"selection\")]).enter().append(\"rect\").attr(\"class\",\"selection\").attr(\"cursor\",fo.selection).attr(\"fill\",\"#777\").attr(\"fill-opacity\",.3).attr(\"stroke\",\"#fff\").attr(\"shape-rendering\",\"crispEdges\");var r=t.selectAll(\".handle\").data(e.handles,function(e){return e.type});r.exit().remove(),r.enter().append(\"rect\").attr(\"class\",function(e){return\"handle handle--\"+e.type}).attr(\"cursor\",function(e){return fo[e.type]}),t.each(s).attr(\"fill\",\"none\").attr(\"pointer-events\",\"all\").style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\").on(\"mousedown.brush touchstart.brush\",l)}function s(){var e=it(this),t=wo(this).selection;t?(e.selectAll(\".selection\").style(\"display\",null).attr(\"x\",t[0][0]).attr(\"y\",t[0][1]).attr(\"width\",t[1][0]-t[0][0]).attr(\"height\",t[1][1]-t[0][1]),e.selectAll(\".handle\").style(\"display\",null).attr(\"x\",function(e){return\"e\"===e.type[e.type.length-1]?t[1][0]-o/2:t[0][0]-o/2}).attr(\"y\",function(e){return\"s\"===e.type[0]?t[1][1]-o/2:t[0][1]-o/2}).attr(\"width\",function(e){return\"n\"===e.type||\"s\"===e.type?t[1][0]-t[0][0]+o:o}).attr(\"height\",function(e){return\"e\"===e.type||\"w\"===e.type?t[1][1]-t[0][1]+o:o})):e.selectAll(\".selection,.handle\").style(\"display\",\"none\").attr(\"x\",null).attr(\"y\",null).attr(\"width\",null).attr(\"height\",null)}function u(e,t){return e.__brush.emitter||new c(e,t)}function c(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function l(){if(We.touches){if(We.changedTouches.length<We.touches.length)return ro()}else if(t)return;if(r.apply(this,arguments)){var n,i,o,a,c,l,f,d,h,p,v,g,m,y=this,b=We.target.__data__.type,w=\"selection\"===(We.metaKey?b=\"overlay\":b)?io:We.altKey?so:ao,x=e===co?null:vo[b],_=e===uo?null:go[b],k=wo(y),T=k.extent,C=k.selection,$=T[0][0],S=T[0][1],E=T[1][0],A=T[1][1],M=x&&_&&We.shiftKey,N=ft(y),L=N,R=u(y,arguments).beforestart();\"overlay\"===b?k.selection=C=[[n=e===co?$:N[0],o=e===uo?S:N[1]],[c=e===co?E:n,f=e===uo?A:o]]:(n=C[0][0],o=C[0][1],c=C[1][0],f=C[1][1]),i=n,a=o,l=c,d=f;var D=it(y).attr(\"pointer-events\",\"none\"),P=D.selectAll(\".overlay\").attr(\"cursor\",fo[b]);if(We.touches)D.on(\"touchmove.brush\",I,!0).on(\"touchend.brush touchcancel.brush\",O,!0);else{var H=it(We.view).on(\"keydown.brush\",function(){switch(We.keyCode){case 16:M=x&&_;break;case 18:w===ao&&(x&&(c=l-h*x,n=i+h*x),_&&(f=d-p*_,o=a+p*_),w=so,j());break;case 32:w!==ao&&w!==so||(x<0?c=l-h:x>0&&(n=i-h),_<0?f=d-p:_>0&&(o=a-p),w=oo,P.attr(\"cursor\",fo.selection),j());break;default:return}ro()},!0).on(\"keyup.brush\",function(){switch(We.keyCode){case 16:M&&(g=m=M=!1,j());break;case 18:w===so&&(x<0?c=l:x>0&&(n=i),_<0?f=d:_>0&&(o=a),w=ao,j());break;case 32:w===oo&&(We.altKey?(x&&(c=l-h*x,n=i+h*x),_&&(f=d-p*_,o=a+p*_),w=so):(x<0?c=l:x>0&&(n=i),_<0?f=d:_>0&&(o=a),w=ao),P.attr(\"cursor\",fo[b]),j());break;default:return}ro()},!0).on(\"mousemove.brush\",I,!0).on(\"mouseup.brush\",O,!0);mt(We.view)}no(),ei(y),s.call(y),R.start()}function I(){var e=ft(y);!M||g||m||(Math.abs(e[0]-L[0])>Math.abs(e[1]-L[1])?m=!0:g=!0),L=e,v=!0,ro(),j()}function j(){var e;switch(h=L[0]-N[0],p=L[1]-N[1],w){case oo:case io:x&&(h=Math.max($-n,Math.min(E-c,h)),i=n+h,l=c+h),_&&(p=Math.max(S-o,Math.min(A-f,p)),a=o+p,d=f+p);break;case ao:x<0?(h=Math.max($-n,Math.min(E-n,h)),i=n+h,l=c):x>0&&(h=Math.max($-c,Math.min(E-c,h)),i=n,l=c+h),_<0?(p=Math.max(S-o,Math.min(A-o,p)),a=o+p,d=f):_>0&&(p=Math.max(S-f,Math.min(A-f,p)),a=o,d=f+p);break;case so:x&&(i=Math.max($,Math.min(E,n-h*x)),l=Math.max($,Math.min(E,c+h*x))),_&&(a=Math.max(S,Math.min(A,o-p*_)),d=Math.max(S,Math.min(A,f+p*_)))}l<i&&(x*=-1,e=n,n=c,c=e,e=i,i=l,l=e,b in ho&&P.attr(\"cursor\",fo[b=ho[b]])),d<a&&(_*=-1,e=o,o=f,f=e,e=a,a=d,d=e,b in po&&P.attr(\"cursor\",fo[b=po[b]])),k.selection&&(C=k.selection),g&&(i=C[0][0],l=C[1][0]),m&&(a=C[0][1],d=C[1][1]),C[0][0]===i&&C[0][1]===a&&C[1][0]===l&&C[1][1]===d||(k.selection=[[i,a],[l,d]],s.call(y),R.brush())}function O(){if(no(),We.touches){if(We.touches.length)return;t&&clearTimeout(t),t=setTimeout(function(){t=null},500),D.on(\"touchmove.brush touchend.brush touchcancel.brush\",null)}else yt(We.view,v),H.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\",null);D.attr(\"pointer-events\",\"all\"),P.attr(\"cursor\",fo.overlay),k.selection&&(C=k.selection),xo(C)&&(k.selection=null,s.call(y)),R.end()}}function f(){var t=this.__brush||{selection:null};return t.extent=n.apply(this,arguments),t.dim=e,t}return a.move=function(t,n){t.selection?t.on(\"start.brush\",function(){u(this,arguments).beforestart().start()}).on(\"interrupt.brush end.brush\",function(){u(this,arguments).end()}).tween(\"brush\",function(){var t=this,r=t.__brush,i=u(t,arguments),o=r.selection,a=e.input(\"function\"==typeof n?n.apply(this,arguments):n,r.extent),c=Jn(o,a);function l(e){r.selection=1===e&&xo(a)?null:c(e),s.call(t),i.brush()}return o&&a?l:l(1)}):t.each(function(){var t=arguments,r=this.__brush,i=e.input(\"function\"==typeof n?n.apply(this,t):n,r.extent),o=u(this,t).beforestart();ei(this),r.selection=null==i||xo(i)?null:i,s.call(this),o.start().brush().end()})},c.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit(\"start\")),this},brush:function(){return this.emit(\"brush\"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit(\"end\")),this},emit:function(t){Ke(new to(a,t,e.output(this.state.selection)),i.apply,i,[t,this.that,this.args])}},a.extent=function(e){return arguments.length?(n=\"function\"==typeof e?e:eo([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),a):n},a.filter=function(e){return arguments.length?(r=\"function\"==typeof e?e:eo(!!e),a):r},a.handleSize=function(e){return arguments.length?(o=+e,a):o},a.on=function(){var e=i.on.apply(i,arguments);return e===i?a:e},a}var So=Math.cos,Eo=Math.sin,Ao=Math.PI,Mo=Ao/2,No=2*Ao,Lo=Math.max;var Ro=function(){var e=0,t=null,n=null,r=null;function i(i){var o,a,s,u,c,l,f=i.length,d=[],h=_(f),p=[],v=[],g=v.groups=new Array(f),m=new Array(f*f);for(o=0,c=-1;++c<f;){for(a=0,l=-1;++l<f;)a+=i[c][l];d.push(a),p.push(_(f)),o+=a}for(t&&h.sort(function(e,n){return t(d[e],d[n])}),n&&p.forEach(function(e,t){e.sort(function(e,r){return n(i[t][e],i[t][r])})}),u=(o=Lo(0,No-e*f)/o)?e:No/f,a=0,c=-1;++c<f;){for(s=a,l=-1;++l<f;){var y=h[c],b=p[y][l],w=i[y][b],x=a,k=a+=w*o;m[b*f+y]={index:y,subindex:b,startAngle:x,endAngle:k,value:w}}g[y]={index:y,startAngle:s,endAngle:a,value:d[y]},a+=u}for(c=-1;++c<f;)for(l=c-1;++l<f;){var T=m[l*f+c],C=m[c*f+l];(T.value||C.value)&&v.push(T.value<C.value?{source:C,target:T}:{source:T,target:C})}return r?v.sort(r):v}return i.padAngle=function(t){return arguments.length?(e=Lo(0,t),i):e},i.sortGroups=function(e){return arguments.length?(t=e,i):t},i.sortSubgroups=function(e){return arguments.length?(n=e,i):n},i.sortChords=function(e){return arguments.length?(null==e?r=null:(t=e,r=function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)})._=e,i):r&&r._;var t},i},Do=Array.prototype.slice,Po=function(e){return function(){return e}},Ho=Math.PI,Io=2*Ho,jo=Io-1e-6;function Oo(){this._x0=this._y0=this._x1=this._y1=null,this._=\"\"}function zo(){return new Oo}Oo.prototype=zo.prototype={constructor:Oo,moveTo:function(e,t){this._+=\"M\"+(this._x0=this._x1=+e)+\",\"+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+=\"Z\")},lineTo:function(e,t){this._+=\"L\"+(this._x1=+e)+\",\"+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+=\"Q\"+ +e+\",\"+ +t+\",\"+(this._x1=+n)+\",\"+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+=\"C\"+ +e+\",\"+ +t+\",\"+ +n+\",\"+ +r+\",\"+(this._x1=+i)+\",\"+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,u=r-t,c=o-e,l=a-t,f=c*c+l*l;if(i<0)throw new Error(\"negative radius: \"+i);if(null===this._x1)this._+=\"M\"+(this._x1=e)+\",\"+(this._y1=t);else if(f>1e-6)if(Math.abs(l*s-u*c)>1e-6&&i){var d=n-o,h=r-a,p=s*s+u*u,v=d*d+h*h,g=Math.sqrt(p),m=Math.sqrt(f),y=i*Math.tan((Ho-Math.acos((p+f-v)/(2*g*m)))/2),b=y/m,w=y/g;Math.abs(b-1)>1e-6&&(this._+=\"L\"+(e+b*c)+\",\"+(t+b*l)),this._+=\"A\"+i+\",\"+i+\",0,0,\"+ +(l*d>c*h)+\",\"+(this._x1=e+w*s)+\",\"+(this._y1=t+w*u)}else this._+=\"L\"+(this._x1=e)+\",\"+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=e+a,c=t+s,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error(\"negative radius: \"+n);null===this._x1?this._+=\"M\"+u+\",\"+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+=\"L\"+u+\",\"+c),n&&(f<0&&(f=f%Io+Io),f>jo?this._+=\"A\"+n+\",\"+n+\",0,1,\"+l+\",\"+(e-a)+\",\"+(t-s)+\"A\"+n+\",\"+n+\",0,1,\"+l+\",\"+(this._x1=u)+\",\"+(this._y1=c):f>1e-6&&(this._+=\"A\"+n+\",\"+n+\",0,\"+ +(f>=Ho)+\",\"+l+\",\"+(this._x1=e+n*Math.cos(i))+\",\"+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+=\"M\"+(this._x0=this._x1=+e)+\",\"+(this._y0=this._y1=+t)+\"h\"+ +n+\"v\"+ +r+\"h\"+-n+\"Z\"},toString:function(){return this._}};var qo=zo;function Bo(e){return e.source}function Uo(e){return e.target}function Vo(e){return e.radius}function Fo(e){return e.startAngle}function Go(e){return e.endAngle}var Wo=function(){var e=Bo,t=Uo,n=Vo,r=Fo,i=Go,o=null;function a(){var a,s=Do.call(arguments),u=e.apply(this,s),c=t.apply(this,s),l=+n.apply(this,(s[0]=u,s)),f=r.apply(this,s)-Mo,d=i.apply(this,s)-Mo,h=l*So(f),p=l*Eo(f),v=+n.apply(this,(s[0]=c,s)),g=r.apply(this,s)-Mo,m=i.apply(this,s)-Mo;if(o||(o=a=qo()),o.moveTo(h,p),o.arc(0,0,l,f,d),f===g&&d===m||(o.quadraticCurveTo(0,0,v*So(g),v*Eo(g)),o.arc(0,0,v,g,m)),o.quadraticCurveTo(0,0,h,p),o.closePath(),a)return o=null,a+\"\"||null}return a.radius=function(e){return arguments.length?(n=\"function\"==typeof e?e:Po(+e),a):n},a.startAngle=function(e){return arguments.length?(r=\"function\"==typeof e?e:Po(+e),a):r},a.endAngle=function(e){return arguments.length?(i=\"function\"==typeof e?e:Po(+e),a):i},a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(e){return arguments.length?(t=e,a):t},a.context=function(e){return arguments.length?(o=null==e?null:e,a):o},a};function Yo(){}function Xo(e,t){var n=new Yo;if(e instanceof Yo)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}Yo.prototype=Xo.prototype={constructor:Yo,has:function(e){return\"$\"+e in this},get:function(e){return this[\"$\"+e]},set:function(e,t){return this[\"$\"+e]=t,this},remove:function(e){var t=\"$\"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)\"$\"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)\"$\"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)\"$\"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)\"$\"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)\"$\"===t[0]&&++e;return e},empty:function(){for(var e in this)if(\"$\"===e[0])return!1;return!0},each:function(e){for(var t in this)\"$\"===t[0]&&e(this[t],t.slice(1),this)}};var Qo=Xo,Jo=function(){var e,t,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=e&&n.sort(e),null!=t?t(n):n;for(var u,c,l,f=-1,d=n.length,h=r[i++],p=Qo(),v=a();++f<d;)(l=p.get(u=h(c=n[f])+\"\"))?l.push(c):p.set(u,[c]);return p.each(function(e,t){s(v,t,o(e,i,a,s))}),v}return n={object:function(e){return o(e,0,Ko,Zo)},map:function(e){return o(e,0,ea,ta)},entries:function(e){return function e(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=t&&o>=r.length?a=n.entries():(a=[],n.each(function(t,n){a.push({key:n,values:e(t,o)})})),null!=s?a.sort(function(e,t){return s(e.key,t.key)}):a}(o(e,0,ea,ta),0)},key:function(e){return r.push(e),n},sortKeys:function(e){return i[r.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}};function Ko(){return{}}function Zo(e,t,n){e[t]=n}function ea(){return Qo()}function ta(e,t,n){e.set(t,n)}function na(){}var ra=Qo.prototype;function ia(e,t){var n=new na;if(e instanceof na)e.each(function(e){n.add(e)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}na.prototype=ia.prototype={constructor:na,has:ra.has,add:function(e){return this[\"$\"+(e+=\"\")]=e,this},remove:ra.remove,clear:ra.clear,values:ra.keys,size:ra.size,empty:ra.empty,each:ra.each};var oa=ia,aa=function(e){var t=[];for(var n in e)t.push(n);return t},sa=function(e){var t=[];for(var n in e)t.push(e[n]);return t},ua=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},ca=Array.prototype.slice,la=function(e,t){return e-t},fa=function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r},da=function(e){return function(){return e}},ha=function(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=pa(e,t[r]))return n;return 0};function pa(e,t){for(var n=t[0],r=t[1],i=-1,o=0,a=e.length,s=a-1;o<a;s=o++){var u=e[o],c=u[0],l=u[1],f=e[s],d=f[0],h=f[1];if(va(u,f,t))return 0;l>r!=h>r&&n<(d-c)*(r-l)/(h-l)+c&&(i=-i)}return i}function va(e,t,n){var r,i,o,a;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],o=n[r],a=t[r],i<=o&&o<=a||a<=o&&o<=i)}var ga=function(){},ma=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],ya=function(){var e=1,t=1,n=A,r=s;function i(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(la);else{var r=g(e),i=r[0],a=r[1];t=E(i,a,t),t=_(Math.floor(i/t)*t,Math.floor(a/t)*t,t)}return t.map(function(t){return o(e,t)})}function o(n,i){var o=[],s=[];return function(n,r,i){var o,s,u,c,l,f,d=new Array,h=new Array;o=s=-1,c=n[0]>=r,ma[c<<1].forEach(p);for(;++o<e-1;)u=c,c=n[o+1]>=r,ma[u|c<<1].forEach(p);ma[c<<0].forEach(p);for(;++s<t-1;){for(o=-1,c=n[s*e+e]>=r,l=n[s*e]>=r,ma[c<<1|l<<2].forEach(p);++o<e-1;)u=c,c=n[s*e+e+o+1]>=r,f=l,l=n[s*e+o+1]>=r,ma[u|c<<1|l<<2|f<<3].forEach(p);ma[c|l<<3].forEach(p)}o=-1,l=n[s*e]>=r,ma[l<<2].forEach(p);for(;++o<e-1;)f=l,l=n[s*e+o+1]>=r,ma[l<<2|f<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+o,e[0][1]+s],u=[e[1][0]+o,e[1][1]+s],c=a(r),l=a(u);(t=h[c])?(n=d[l])?(delete h[t.end],delete d[n.start],t===n?(t.ring.push(u),i(t.ring)):d[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(u),h[t.end=l]=t):(t=d[l])?(n=h[c])?(delete d[t.start],delete h[n.end],t===n?(t.ring.push(u),i(t.ring)):d[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete d[t.start],t.ring.unshift(r),d[t.start=c]=t):d[c]=h[l]={start:c,end:l,ring:[r,u]}}ma[l<<3].forEach(p)}(n,i,function(e){r(e,n,i),fa(e)>0?o.push([e]):s.push(e)}),s.forEach(function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==ha((t=o[n])[0],e))return void t.push(e)}),{type:\"MultiPolygon\",value:i,coordinates:o}}function a(t){return 2*t[0]+t[1]*(e+1)*4}function s(n,r,i){n.forEach(function(n){var o,a=n[0],s=n[1],u=0|a,c=0|s,l=r[c*e+u];a>0&&a<e&&u===a&&(o=r[c*e+u-1],n[0]=a+(i-o)/(l-o)-.5),s>0&&s<t&&c===s&&(o=r[(c-1)*e+u],n[1]=s+(i-o)/(l-o)-.5)})}return i.contour=o,i.size=function(n){if(!arguments.length)return[e,t];var r=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(r>0&&o>0))throw new Error(\"invalid size\");return e=r,t=o,i},i.thresholds=function(e){return arguments.length?(n=\"function\"==typeof e?e:Array.isArray(e)?da(ca.call(e)):da(e),i):n},i.smooth=function(e){return arguments.length?(r=e?s:ga,i):r===s},i};function ba(e,t,n){for(var r=e.width,i=e.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=e.data[s+a*r]),s>=n&&(s>=o&&(u-=e.data[s-o+a*r]),t.data[s-n+a*r]=u/Math.min(s+1,r-1+o-s,o))}function wa(e,t,n){for(var r=e.width,i=e.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=e.data[a+s*r]),s>=n&&(s>=o&&(u-=e.data[a+(s-o)*r]),t.data[a+(s-n)*r]=u/Math.min(s+1,i-1+o-s,o))}function xa(e){return e[0]}function _a(e){return e[1]}var ka=function(){var e=xa,t=_a,n=960,r=500,i=20,o=2,a=3*i,s=n+2*a>>o,u=r+2*a>>o,c=da(20);function l(n){var r=new Float32Array(s*u),l=new Float32Array(s*u);n.forEach(function(n,i,c){var l=e(n,i,c)+a>>o,f=t(n,i,c)+a>>o;l>=0&&l<s&&f>=0&&f<u&&++r[l+f*s]}),ba({width:s,height:u,data:r},{width:s,height:u,data:l},i>>o),wa({width:s,height:u,data:l},{width:s,height:u,data:r},i>>o),ba({width:s,height:u,data:r},{width:s,height:u,data:l},i>>o),wa({width:s,height:u,data:l},{width:s,height:u,data:r},i>>o),ba({width:s,height:u,data:r},{width:s,height:u,data:l},i>>o),wa({width:s,height:u,data:l},{width:s,height:u,data:r},i>>o);var d=c(r);if(!Array.isArray(d)){var h=D(r);d=E(0,h,d),(d=_(0,Math.floor(h/d)*d,d)).shift()}return ya().thresholds(d).size([s,u])(r).map(f)}function f(e){return e.value*=Math.pow(2,-2*o),e.coordinates.forEach(d),e}function d(e){e.forEach(h)}function h(e){e.forEach(p)}function p(e){e[0]=e[0]*Math.pow(2,o)-a,e[1]=e[1]*Math.pow(2,o)-a}function v(){return s=n+2*(a=3*i)>>o,u=r+2*a>>o,l}return l.x=function(t){return arguments.length?(e=\"function\"==typeof t?t:da(+t),l):e},l.y=function(e){return arguments.length?(t=\"function\"==typeof e?e:da(+e),l):t},l.size=function(e){if(!arguments.length)return[n,r];var t=Math.ceil(e[0]),i=Math.ceil(e[1]);if(!(t>=0||t>=0))throw new Error(\"invalid size\");return n=t,r=i,v()},l.cellSize=function(e){if(!arguments.length)return 1<<o;if(!((e=+e)>=1))throw new Error(\"invalid cell size\");return o=Math.floor(Math.log(e)/Math.LN2),v()},l.thresholds=function(e){return arguments.length?(c=\"function\"==typeof e?e:Array.isArray(e)?da(ca.call(e)):da(e),l):c},l.bandwidth=function(e){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((e=+e)>=0))throw new Error(\"invalid bandwidth\");return i=Math.round((Math.sqrt(4*e*e+1)-1)/2),v()},l},Ta={},Ca={},$a=34,Sa=10,Ea=13;function Aa(e){return new Function(\"d\",\"return {\"+e.map(function(e,t){return JSON.stringify(e)+\": d[\"+t+\"]\"}).join(\",\")+\"}\")}var Ma=function(e){var t=new RegExp('[\"'+e+\"\\n\\r]\"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,u=o<=0,c=!1;function l(){if(u)return Ca;if(c)return c=!1,Ta;var t,r,i=a;if(e.charCodeAt(i)===$a){for(;a++<o&&e.charCodeAt(a)!==$a||e.charCodeAt(++a)===$a;);return(t=a)>=o?u=!0:(r=e.charCodeAt(a++))===Sa?c=!0:r===Ea&&(c=!0,e.charCodeAt(a)===Sa&&++a),e.slice(i+1,t-1).replace(/\"\"/g,'\"')}for(;a<o;){if((r=e.charCodeAt(t=a++))===Sa)c=!0;else if(r===Ea)c=!0,e.charCodeAt(a)===Sa&&++a;else if(r!==n)continue;return e.slice(i,t)}return u=!0,e.slice(i,o)}for(e.charCodeAt(o-1)===Sa&&--o,e.charCodeAt(o-1)===Ea&&--o;(r=l())!==Ca;){for(var f=[];r!==Ta&&r!==Ca;)f.push(r),r=l();t&&null==(f=t(f,s++))||i.push(f)}return i}function i(t){return t.map(o).join(e)}function o(e){return null==e?\"\":t.test(e+=\"\")?'\"'+e.replace(/\"/g,'\"\"')+'\"':e}return{parse:function(e,t){var n,i,o=r(e,function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=Aa(e);return function(r,i){return t(n(r),i,e)}}(e,t):Aa(e)});return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=function(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}(t)),[n.map(o).join(e)].concat(t.map(function(t){return n.map(function(e){return o(t[e])}).join(e)})).join(\"\\n\")},formatRows:function(e){return e.map(i).join(\"\\n\")}}},Na=Ma(\",\"),La=Na.parse,Ra=Na.parseRows,Da=Na.format,Pa=Na.formatRows,Ha=Ma(\"\\t\"),Ia=Ha.parse,ja=Ha.parseRows,Oa=Ha.format,za=Ha.formatRows;function qa(e){if(!e.ok)throw new Error(e.status+\" \"+e.statusText);return e.blob()}var Ba=function(e,t){return fetch(e,t).then(qa)};function Ua(e){if(!e.ok)throw new Error(e.status+\" \"+e.statusText);return e.arrayBuffer()}var Va=function(e,t){return fetch(e,t).then(Ua)};function Fa(e){if(!e.ok)throw new Error(e.status+\" \"+e.statusText);return e.text()}var Ga=function(e,t){return fetch(e,t).then(Fa)};function Wa(e){return function(t,n,r){return 2===arguments.length&&\"function\"==typeof n&&(r=n,n=void 0),Ga(t,n).then(function(t){return e(t,r)})}}function Ya(e,t,n,r){3===arguments.length&&\"function\"==typeof n&&(r=n,n=void 0);var i=Ma(e);return Ga(t,n).then(function(e){return i.parse(e,r)})}var Xa=Wa(La),Qa=Wa(Ia),Ja=function(e,t){return new Promise(function(n,r){var i=new Image;for(var o in t)i[o]=t[o];i.onerror=r,i.onload=function(){n(i)},i.src=e})};function Ka(e){if(!e.ok)throw new Error(e.status+\" \"+e.statusText);return e.json()}var Za=function(e,t){return fetch(e,t).then(Ka)};function es(e){return function(t,n){return Ga(t,n).then(function(t){return(new DOMParser).parseFromString(t,e)})}}var ts=es(\"application/xml\"),ns=es(\"text/html\"),rs=es(\"image/svg+xml\"),is=function(e,t){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-e,s=s/o-t,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r},os=function(e){return function(){return e}},as=function(){return 1e-6*(Math.random()-.5)};function ss(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,c,l,f,d,h=e._root,p={data:r},v=e._x0,g=e._y0,m=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(o=(v+m)/2))?v=o:m=o,(l=n>=(a=(g+y)/2))?g=a:y=a,i=h,!(h=h[f=l<<1|c]))return i[f]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(c=t>=(o=(v+m)/2))?v=o:m=o,(l=n>=(a=(g+y)/2))?g=a:y=a}while((f=l<<1|c)==(d=(u>=a)<<1|s>=o));return i[d]=h,i[f]=p,e}var us=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function cs(e){return e[0]}function ls(e){return e[1]}function fs(e,t,n){var r=new ds(null==t?cs:t,null==n?ls:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function ds(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function hs(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var ps=fs.prototype=ds.prototype;function vs(e){return e.x+e.vx}function gs(e){return e.y+e.vy}ps.copy=function(){var e,t,n=new ds(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=hs(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=hs(t));return n},ps.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return ss(this.cover(t,n),t,n,e)},ps.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));for(l<u&&(u=this._x0,l=this._x1),f<c&&(c=this._y0,f=this._y1),this.cover(u,c).cover(l,f),n=0;n<o;++n)ss(this,a[n],s[n],e[n]);return this},ps.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{if(!(n>e||e>i||r>t||t>o))return this;var a,s,u=i-n,c=this._root;switch(s=(t<(r+o)/2)<<1|e<(n+i)/2){case 0:do{(a=new Array(4))[s]=c,c=a}while(o=r+(u*=2),e>(i=n+u)||t>o);break;case 1:do{(a=new Array(4))[s]=c,c=a}while(o=r+(u*=2),(n=i-u)>e||t>o);break;case 2:do{(a=new Array(4))[s]=c,c=a}while(r=o-(u*=2),e>(i=n+u)||r>t);break;case 3:do{(a=new Array(4))[s]=c,c=a}while(r=o-(u*=2),(n=i-u)>e||r>t)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},ps.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},ps.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ps.find=function(e,t,n){var r,i,o,a,s,u,c,l=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],v=this._root;for(v&&p.push(new us(v,l,f,d,h)),null==n?n=1/0:(l=e-n,f=t-n,d=e+n,h=t+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(i=u.x0)>d||(o=u.y0)>h||(a=u.x1)<l||(s=u.y1)<f))if(v.length){var g=(i+a)/2,m=(o+s)/2;p.push(new us(v[3],g,m,a,s),new us(v[2],i,m,g,s),new us(v[1],g,o,a,m),new us(v[0],i,o,g,m)),(c=(t>=m)<<1|e>=g)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var y=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),w=y*y+b*b;if(w<n){var x=Math.sqrt(n=w);l=e-x,f=t-x,d=e+x,h=t+x,r=v.data}}return r},ps.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,c,l,f,d,h=this._root,p=this._x0,v=this._y0,g=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((c=o>=(s=(p+g)/2))?p=s:g=s,(l=a>=(u=(v+m)/2))?v=u:m=u,t=h,!(h=h[f=l<<1|c]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},ps.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},ps.root=function(){return this._root},ps.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},ps.visit=function(e){var t,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new us(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new us(n,c,l,o,a)),(n=u[2])&&s.push(new us(n,r,l,c,a)),(n=u[1])&&s.push(new us(n,c,i,o,l)),(n=u[0])&&s.push(new us(n,r,i,c,l))}return this},ps.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new us(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,u=t.x1,c=t.y1,l=(a+u)/2,f=(s+c)/2;(o=i[0])&&n.push(new us(o,a,s,l,f)),(o=i[1])&&n.push(new us(o,l,s,u,f)),(o=i[2])&&n.push(new us(o,a,f,l,c)),(o=i[3])&&n.push(new us(o,l,f,u,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},ps.x=function(e){return arguments.length?(this._x=e,this):this._x},ps.y=function(e){return arguments.length?(this._y=e,this):this._y};var ms=function(e){var t,n,r=1,i=1;function o(){for(var e,o,s,u,c,l,f,d=t.length,h=0;h<i;++h)for(o=fs(t,vs,gs).visitAfter(a),e=0;e<d;++e)s=t[e],l=n[s.index],f=l*l,u=s.x+s.vx,c=s.y+s.vy,o.visit(p);function p(e,t,n,i,o){var a=e.data,d=e.r,h=l+d;if(!a)return t>u+h||i<u-h||n>c+h||o<c-h;if(a.index>s.index){var p=u-a.x-a.vx,v=c-a.y-a.vy,g=p*p+v*v;g<h*h&&(0===p&&(g+=(p=as())*p),0===v&&(g+=(v=as())*v),g=(h-(g=Math.sqrt(g)))/g*r,s.vx+=(p*=g)*(h=(d*=d)/(f+d)),s.vy+=(v*=g)*h,a.vx-=p*(h=1-h),a.vy-=v*h)}}}function a(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return\"function\"!=typeof e&&(e=os(null==e?1:+e)),o.initialize=function(e){t=e,s()},o.iterations=function(e){return arguments.length?(i=+e,o):i},o.strength=function(e){return arguments.length?(r=+e,o):r},o.radius=function(t){return arguments.length?(e=\"function\"==typeof t?t:os(+t),s(),o):e},o};function ys(e){return e.index}function bs(e,t){var n=e.get(t);if(!n)throw new Error(\"missing: \"+t);return n}var ws=function(e){var t,n,r,i,o,a=ys,s=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},u=os(30),c=1;function l(r){for(var i=0,a=e.length;i<c;++i)for(var s,u,l,f,d,h,p,v=0;v<a;++v)u=(s=e[v]).source,f=(l=s.target).x+l.vx-u.x-u.vx||as(),d=l.y+l.vy-u.y-u.vy||as(),f*=h=((h=Math.sqrt(f*f+d*d))-n[v])/h*r*t[v],d*=h,l.vx-=f*(p=o[v]),l.vy-=d*p,u.vx+=f*(p=1-p),u.vy+=d*p}function f(){if(r){var s,u,c=r.length,l=e.length,f=Qo(r,a);for(s=0,i=new Array(c);s<l;++s)(u=e[s]).index=s,\"object\"!=typeof u.source&&(u.source=bs(f,u.source)),\"object\"!=typeof u.target&&(u.target=bs(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(s=0,o=new Array(l);s<l;++s)u=e[s],o[s]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);t=new Array(l),d(),n=new Array(l),h()}}function d(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+s(e[n],n,e)}function h(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+u(e[t],t,e)}return null==e&&(e=[]),l.initialize=function(e){r=e,f()},l.links=function(t){return arguments.length?(e=t,f(),l):e},l.id=function(e){return arguments.length?(a=e,l):a},l.iterations=function(e){return arguments.length?(c=+e,l):c},l.strength=function(e){return arguments.length?(s=\"function\"==typeof e?e:os(+e),d(),l):s},l.distance=function(e){return arguments.length?(u=\"function\"==typeof e?e:os(+e),h(),l):u},l};function xs(e){return e.x}function _s(e){return e.y}var ks=10,Ts=Math.PI*(3-Math.sqrt(5)),Cs=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=Qo(),u=Dr(l),c=de(\"tick\",\"end\");function l(){f(),c.call(\"tick\",t),n<r&&(u.stop(),c.call(\"end\",t))}function f(){var t,r,u=e.length;for(n+=(o-n)*i,s.each(function(e){e(n)}),t=0;t<u;++t)null==(r=e[t]).fx?r.x+=r.vx*=a:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=a:(r.y=r.fy,r.vy=0)}function d(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,isNaN(t.x)||isNaN(t.y)){var i=ks*Math.sqrt(n),o=n*Ts;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function h(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),d(),t={tick:f,restart:function(){return u.restart(l),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),s.each(h),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},force:function(e,n){return arguments.length>1?(null==n?s.remove(e):s.set(e,h(n)),t):s.get(e)},find:function(t,n,r){var i,o,a,s,u,c=0,l=e.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(i=t-(s=e[c]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}},$s=function(){var e,t,n,r,i=os(-30),o=1,a=1/0,s=.81;function u(r){var i,o=e.length,a=fs(e,xs,_s).visitAfter(l);for(n=r,i=0;i<o;++i)t=e[i],a.visit(f)}function c(){if(e){var t,n,o=e.length;for(r=new Array(o),t=0;t<o;++t)n=e[t],r[n.index]=+i(n,t,e)}}function l(e){var t,n,i,o,a,s=0,u=0;if(e.length){for(i=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,u+=n,i+=n*t.x,o+=n*t.y);e.x=i/u,e.y=o/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=r[t.data.index]}while(t=t.next)}e.value=s}function f(e,i,u,c){if(!e.value)return!0;var l=e.x-t.x,f=e.y-t.y,d=c-i,h=l*l+f*f;if(d*d/s<h)return h<a&&(0===l&&(h+=(l=as())*l),0===f&&(h+=(f=as())*f),h<o&&(h=Math.sqrt(o*h)),t.vx+=l*e.value*n/h,t.vy+=f*e.value*n/h),!0;if(!(e.length||h>=a)){(e.data!==t||e.next)&&(0===l&&(h+=(l=as())*l),0===f&&(h+=(f=as())*f),h<o&&(h=Math.sqrt(o*h)));do{e.data!==t&&(d=r[e.data.index]*n/h,t.vx+=l*d,t.vy+=f*d)}while(e=e.next)}}return u.initialize=function(t){e=t,c()},u.strength=function(e){return arguments.length?(i=\"function\"==typeof e?e:os(+e),c(),u):i},u.distanceMin=function(e){return arguments.length?(o=e*e,u):Math.sqrt(o)},u.distanceMax=function(e){return arguments.length?(a=e*e,u):Math.sqrt(a)},u.theta=function(e){return arguments.length?(s=e*e,u):Math.sqrt(s)},u},Ss=function(e,t,n){var r,i,o,a=os(.1);function s(e){for(var a=0,s=r.length;a<s;++a){var u=r[a],c=u.x-t||1e-6,l=u.y-n||1e-6,f=Math.sqrt(c*c+l*l),d=(o[a]-f)*i[a]*e/f;u.vx+=c*d,u.vy+=l*d}}function u(){if(r){var t,n=r.length;for(i=new Array(n),o=new Array(n),t=0;t<n;++t)o[t]=+e(r[t],t,r),i[t]=isNaN(o[t])?0:+a(r[t],t,r)}}return\"function\"!=typeof e&&(e=os(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,u()},s.strength=function(e){return arguments.length?(a=\"function\"==typeof e?e:os(+e),u(),s):a},s.radius=function(t){return arguments.length?(e=\"function\"==typeof t?t:os(+t),u(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s},Es=function(e){var t,n,r,i=os(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return\"function\"!=typeof e&&(e=os(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i=\"function\"==typeof e?e:os(+e),a(),o):i},o.x=function(t){return arguments.length?(e=\"function\"==typeof t?t:os(+t),a(),o):e},o},As=function(e){var t,n,r,i=os(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return\"function\"!=typeof e&&(e=os(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i=\"function\"==typeof e?e:os(+e),a(),o):i},o.y=function(t){return arguments.length?(e=\"function\"==typeof t?t:os(+t),a(),o):e},o},Ms=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf(\"e\"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},Ns=function(e){return(e=Ms(Math.abs(e)))?e[1]:NaN},Ls=/^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function Rs(e){return new Ds(e)}function Ds(e){if(!(t=Ls.exec(e)))throw new Error(\"invalid format: \"+e);var t;this.fill=t[1]||\" \",this.align=t[2]||\">\",this.sign=t[3]||\"-\",this.symbol=t[4]||\"\",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||\"\"}Rs.prototype=Ds.prototype,Ds.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(null==this.width?\"\":Math.max(1,0|this.width))+(this.comma?\",\":\"\")+(null==this.precision?\"\":\".\"+Math.max(0,0|this.precision))+(this.trim?\"~\":\"\")+this.type};var Ps,Hs,Is,js,Os=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case\".\":i=t=r;break;case\"0\":0===i&&(i=r),t=r;break;default:if(i>0){if(!+e[r])break e;i=0}}return i>0?e.slice(0,i)+e.slice(t+1):e},zs=function(e,t){var n=Ms(e,t);if(!n)return e+\"\";var r=n[0],i=n[1];return i<0?\"0.\"+new Array(-i).join(\"0\")+r:r.length>i+1?r.slice(0,i+1)+\".\"+r.slice(i+1):r+new Array(i-r.length+2).join(\"0\")},qs={\"%\":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+\"\"},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return zs(100*e,t)},r:zs,s:function(e,t){var n=Ms(e,t);if(!n)return e+\"\";var r=n[0],i=n[1],o=i-(Ps=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join(\"0\"):o>0?r.slice(0,o)+\".\"+r.slice(o):\"0.\"+new Array(1-o).join(\"0\")+Ms(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Bs=function(e){return e},Us=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"Âµ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"],Vs=function(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}):Bs,i=e.currency,o=e.decimal,a=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(e.numerals):Bs,s=e.percent||\"%\";function u(e){var t=(e=Rs(e)).fill,n=e.align,u=e.sign,c=e.symbol,l=e.zero,f=e.width,d=e.comma,h=e.precision,p=e.trim,v=e.type;\"n\"===v?(d=!0,v=\"g\"):qs[v]||(null==h&&(h=12),p=!0,v=\"g\"),(l||\"0\"===t&&\"=\"===n)&&(l=!0,t=\"0\",n=\"=\");var g=\"$\"===c?i[0]:\"#\"===c&&/[boxX]/.test(v)?\"0\"+v.toLowerCase():\"\",m=\"$\"===c?i[1]:/[%p]/.test(v)?s:\"\",y=qs[v],b=/[defgprs%]/.test(v);function w(e){var i,s,c,w=g,x=m;if(\"c\"===v)x=y(e)+x,e=\"\";else{var _=(e=+e)<0;if(e=y(Math.abs(e),h),p&&(e=Os(e)),_&&0==+e&&(_=!1),w=(_?\"(\"===u?u:\"-\":\"-\"===u||\"(\"===u?\"\":u)+w,x=(\"s\"===v?Us[8+Ps/3]:\"\")+x+(_&&\"(\"===u?\")\":\"\"),b)for(i=-1,s=e.length;++i<s;)if(48>(c=e.charCodeAt(i))||c>57){x=(46===c?o+e.slice(i+1):e.slice(i))+x,e=e.slice(0,i);break}}d&&!l&&(e=r(e,1/0));var k=w.length+e.length+x.length,T=k<f?new Array(f-k+1).join(t):\"\";switch(d&&l&&(e=r(T+e,T.length?f-x.length:1/0),T=\"\"),n){case\"<\":e=w+e+x+T;break;case\"=\":e=w+T+e+x;break;case\"^\":e=T.slice(0,k=T.length>>1)+w+e+x+T.slice(k);break;default:e=T+w+e+x}return a(e)}return h=null==h?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),w.toString=function(){return e+\"\"},w}return{format:u,formatPrefix:function(e,t){var n=u(((e=Rs(e)).type=\"f\",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Ns(t)/3))),i=Math.pow(10,-r),o=Us[8+r/3];return function(e){return n(i*e)+o}}}};function Fs(e){return Hs=Vs(e),Is=Hs.format,js=Hs.formatPrefix,Hs}Fs({decimal:\".\",thousands:\",\",grouping:[3],currency:[\"$\",\"\"]});var Gs=function(e){return Math.max(0,-Ns(Math.abs(e)))},Ws=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ns(t)/3)))-Ns(Math.abs(e)))},Ys=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ns(t)-Ns(e))+1},Xs=function(){return new Qs};function Qs(){this.reset()}Qs.prototype={constructor:Qs,reset:function(){this.s=this.t=0},add:function(e){Ks(Js,e,this.t),Ks(this,Js.s,this.s),this.s?this.t+=Js.t:this.s=Js.t},valueOf:function(){return this.s}};var Js=new Qs;function Ks(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var Zs=1e-6,eu=Math.PI,tu=eu/2,nu=eu/4,ru=2*eu,iu=180/eu,ou=eu/180,au=Math.abs,su=Math.atan,uu=Math.atan2,cu=Math.cos,lu=Math.ceil,fu=Math.exp,du=(Math.floor,Math.log),hu=Math.pow,pu=Math.sin,vu=Math.sign||function(e){return e>0?1:e<0?-1:0},gu=Math.sqrt,mu=Math.tan;function yu(e){return e>1?0:e<-1?eu:Math.acos(e)}function bu(e){return e>1?tu:e<-1?-tu:Math.asin(e)}function wu(e){return(e=pu(e/2))*e}function xu(){}function _u(e,t){e&&Tu.hasOwnProperty(e.type)&&Tu[e.type](e,t)}var ku={Feature:function(e,t){_u(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)_u(n[r].geometry,t)}},Tu={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Cu(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Cu(n[r],t,0)},Polygon:function(e,t){$u(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)$u(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)_u(n[r],t)}};function Cu(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function $u(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Cu(e[n],t,1);t.polygonEnd()}var Su,Eu,Au,Mu,Nu,Lu=function(e,t){e&&ku.hasOwnProperty(e.type)?ku[e.type](e,t):_u(e,t)},Ru=Xs(),Du=Xs(),Pu={point:xu,lineStart:xu,lineEnd:xu,polygonStart:function(){Ru.reset(),Pu.lineStart=Hu,Pu.lineEnd=Iu},polygonEnd:function(){var e=+Ru;Du.add(e<0?ru+e:e),this.lineStart=this.lineEnd=this.point=xu},sphere:function(){Du.add(ru)}};function Hu(){Pu.point=ju}function Iu(){Ou(Su,Eu)}function ju(e,t){Pu.point=Ou,Su=e,Eu=t,Au=e*=ou,Mu=cu(t=(t*=ou)/2+nu),Nu=pu(t)}function Ou(e,t){t=(t*=ou)/2+nu;var n=(e*=ou)-Au,r=n>=0?1:-1,i=r*n,o=cu(t),a=pu(t),s=Nu*a,u=Mu*o+s*cu(i),c=s*r*pu(i);Ru.add(uu(c,u)),Au=e,Mu=o,Nu=a}var zu=function(e){return Du.reset(),Lu(e,Pu),2*Du};function qu(e){return[uu(e[1],e[0]),bu(e[2])]}function Bu(e){var t=e[0],n=e[1],r=cu(n);return[r*cu(t),r*pu(t),pu(n)]}function Uu(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Vu(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Fu(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Gu(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Wu(e){var t=gu(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Yu,Xu,Qu,Ju,Ku,Zu,ec,tc,nc,rc,ic=Xs(),oc={point:ac,lineStart:uc,lineEnd:cc,polygonStart:function(){oc.point=lc,oc.lineStart=fc,oc.lineEnd=dc,ic.reset(),Pu.polygonStart()},polygonEnd:function(){Pu.polygonEnd(),oc.point=ac,oc.lineStart=uc,oc.lineEnd=cc,Ru<0?(Yu=-(Qu=180),Xu=-(Ju=90)):ic>Zs?Ju=90:ic<-Zs&&(Xu=-90),rc[0]=Yu,rc[1]=Qu}};function ac(e,t){nc.push(rc=[Yu=e,Qu=e]),t<Xu&&(Xu=t),t>Ju&&(Ju=t)}function sc(e,t){var n=Bu([e*ou,t*ou]);if(tc){var r=Vu(tc,n),i=Vu([r[1],-r[0],0],r);Wu(i),i=qu(i);var o,a=e-Ku,s=a>0?1:-1,u=i[0]*iu*s,c=au(a)>180;c^(s*Ku<u&&u<s*e)?(o=i[1]*iu)>Ju&&(Ju=o):c^(s*Ku<(u=(u+360)%360-180)&&u<s*e)?(o=-i[1]*iu)<Xu&&(Xu=o):(t<Xu&&(Xu=t),t>Ju&&(Ju=t)),c?e<Ku?hc(Yu,e)>hc(Yu,Qu)&&(Qu=e):hc(e,Qu)>hc(Yu,Qu)&&(Yu=e):Qu>=Yu?(e<Yu&&(Yu=e),e>Qu&&(Qu=e)):e>Ku?hc(Yu,e)>hc(Yu,Qu)&&(Qu=e):hc(e,Qu)>hc(Yu,Qu)&&(Yu=e)}else nc.push(rc=[Yu=e,Qu=e]);t<Xu&&(Xu=t),t>Ju&&(Ju=t),tc=n,Ku=e}function uc(){oc.point=sc}function cc(){rc[0]=Yu,rc[1]=Qu,oc.point=ac,tc=null}function lc(e,t){if(tc){var n=e-Ku;ic.add(au(n)>180?n+(n>0?360:-360):n)}else Zu=e,ec=t;Pu.point(e,t),sc(e,t)}function fc(){Pu.lineStart()}function dc(){lc(Zu,ec),Pu.lineEnd(),au(ic)>Zs&&(Yu=-(Qu=180)),rc[0]=Yu,rc[1]=Qu,tc=null}function hc(e,t){return(t-=e)<0?t+360:t}function pc(e,t){return e[0]-t[0]}function vc(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var gc,mc,yc,bc,wc,xc,_c,kc,Tc,Cc,$c,Sc,Ec,Ac,Mc,Nc,Lc=function(e){var t,n,r,i,o,a,s;if(Ju=Qu=-(Yu=Xu=1/0),nc=[],Lu(e,oc),n=nc.length){for(nc.sort(pc),t=1,o=[r=nc[0]];t<n;++t)vc(r,(i=nc[t])[0])||vc(r,i[1])?(hc(r[0],i[1])>hc(r[0],r[1])&&(r[1]=i[1]),hc(i[0],r[1])>hc(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(s=hc(r[1],i[0]))>a&&(a=s,Yu=i[0],Qu=r[1])}return nc=rc=null,Yu===1/0||Xu===1/0?[[NaN,NaN],[NaN,NaN]]:[[Yu,Xu],[Qu,Ju]]},Rc={sphere:xu,point:Dc,lineStart:Hc,lineEnd:Oc,polygonStart:function(){Rc.lineStart=zc,Rc.lineEnd=qc},polygonEnd:function(){Rc.lineStart=Hc,Rc.lineEnd=Oc}};function Dc(e,t){e*=ou;var n=cu(t*=ou);Pc(n*cu(e),n*pu(e),pu(t))}function Pc(e,t,n){yc+=(e-yc)/++gc,bc+=(t-bc)/gc,wc+=(n-wc)/gc}function Hc(){Rc.point=Ic}function Ic(e,t){e*=ou;var n=cu(t*=ou);Ac=n*cu(e),Mc=n*pu(e),Nc=pu(t),Rc.point=jc,Pc(Ac,Mc,Nc)}function jc(e,t){e*=ou;var n=cu(t*=ou),r=n*cu(e),i=n*pu(e),o=pu(t),a=uu(gu((a=Mc*o-Nc*i)*a+(a=Nc*r-Ac*o)*a+(a=Ac*i-Mc*r)*a),Ac*r+Mc*i+Nc*o);mc+=a,xc+=a*(Ac+(Ac=r)),_c+=a*(Mc+(Mc=i)),kc+=a*(Nc+(Nc=o)),Pc(Ac,Mc,Nc)}function Oc(){Rc.point=Dc}function zc(){Rc.point=Bc}function qc(){Uc(Sc,Ec),Rc.point=Dc}function Bc(e,t){Sc=e,Ec=t,e*=ou,t*=ou,Rc.point=Uc;var n=cu(t);Ac=n*cu(e),Mc=n*pu(e),Nc=pu(t),Pc(Ac,Mc,Nc)}function Uc(e,t){e*=ou;var n=cu(t*=ou),r=n*cu(e),i=n*pu(e),o=pu(t),a=Mc*o-Nc*i,s=Nc*r-Ac*o,u=Ac*i-Mc*r,c=gu(a*a+s*s+u*u),l=bu(c),f=c&&-l/c;Tc+=f*a,Cc+=f*s,$c+=f*u,mc+=l,xc+=l*(Ac+(Ac=r)),_c+=l*(Mc+(Mc=i)),kc+=l*(Nc+(Nc=o)),Pc(Ac,Mc,Nc)}var Vc=function(e){gc=mc=yc=bc=wc=xc=_c=kc=Tc=Cc=$c=0,Lu(e,Rc);var t=Tc,n=Cc,r=$c,i=t*t+n*n+r*r;return i<1e-12&&(t=xc,n=_c,r=kc,mc<Zs&&(t=yc,n=bc,r=wc),(i=t*t+n*n+r*r)<1e-12)?[NaN,NaN]:[uu(n,t)*iu,bu(r/gu(i))*iu]},Fc=function(e){return function(){return e}},Gc=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function Wc(e,t){return[e>eu?e-ru:e<-eu?e+ru:e,t]}function Yc(e,t,n){return(e%=ru)?t||n?Gc(Qc(e),Jc(t,n)):Qc(e):t||n?Jc(t,n):Wc}function Xc(e){return function(t,n){return[(t+=e)>eu?t-ru:t<-eu?t+ru:t,n]}}function Qc(e){var t=Xc(e);return t.invert=Xc(-e),t}function Jc(e,t){var n=cu(e),r=pu(e),i=cu(t),o=pu(t);function a(e,t){var a=cu(t),s=cu(e)*a,u=pu(e)*a,c=pu(t),l=c*n+s*r;return[uu(u*i-l*o,s*n-c*r),bu(l*i+u*o)]}return a.invert=function(e,t){var a=cu(t),s=cu(e)*a,u=pu(e)*a,c=pu(t),l=c*i-u*o;return[uu(u*i+c*o,s*n+l*r),bu(l*n-s*r)]},a}Wc.invert=Wc;var Kc=function(e){function t(t){return(t=e(t[0]*ou,t[1]*ou))[0]*=iu,t[1]*=iu,t}return e=Yc(e[0]*ou,e[1]*ou,e.length>2?e[2]*ou:0),t.invert=function(t){return(t=e.invert(t[0]*ou,t[1]*ou))[0]*=iu,t[1]*=iu,t},t};function Zc(e,t,n,r,i,o){if(n){var a=cu(t),s=pu(t),u=r*n;null==i?(i=t+r*ru,o=t-u/2):(i=el(a,i),o=el(a,o),(r>0?i<o:i>o)&&(i+=r*ru));for(var c,l=i;r>0?l>o:l<o;l-=u)c=qu([a,-s*cu(l),-s*pu(l)]),e.point(c[0],c[1])}}function el(e,t){(t=Bu(t))[0]-=e,Wu(t);var n=yu(-t[1]);return((-t[2]<0?-n:n)+ru-Zs)%ru}var tl=function(){var e,t,n=Fc([0,0]),r=Fc(90),i=Fc(6),o={point:function(n,r){e.push(n=t(n,r)),n[0]*=iu,n[1]*=iu}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*ou,u=i.apply(this,arguments)*ou;return e=[],t=Yc(-a[0]*ou,-a[1]*ou,0).invert,Zc(o,s,u,1),a={type:\"Polygon\",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n=\"function\"==typeof e?e:Fc([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(r=\"function\"==typeof e?e:Fc(+e),a):r},a.precision=function(e){return arguments.length?(i=\"function\"==typeof e?e:Fc(+e),a):i},a},nl=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:xu,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},rl=function(e,t){return au(e[0]-t[0])<Zs&&au(e[1]-t[1])<Zs};function il(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var ol=function(e,t,n,r,i){var o,a,s=[],u=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(rl(r,a)){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);i.lineEnd()}else s.push(n=new il(r,e,null,!0)),u.push(n.o=new il(r,null,n,!1)),s.push(n=new il(a,e,null,!1)),u.push(n.o=new il(a,null,n,!0))}}),s.length){for(u.sort(t),al(s),al(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var c,l,f=s[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}};function al(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}var sl=Xs(),ul=function(e,t){var n=t[0],r=t[1],i=pu(r),o=[pu(n),-cu(n),0],a=0,s=0;sl.reset(),1===i?r=tu+Zs:-1===i&&(r=-tu-Zs);for(var u=0,c=e.length;u<c;++u)if(f=(l=e[u]).length)for(var l,f,d=l[f-1],h=d[0],p=d[1]/2+nu,v=pu(p),g=cu(p),m=0;m<f;++m,h=b,v=x,g=_,d=y){var y=l[m],b=y[0],w=y[1]/2+nu,x=pu(w),_=cu(w),k=b-h,T=k>=0?1:-1,C=T*k,$=C>eu,S=v*x;if(sl.add(uu(S*T*pu(C),g*_+S*cu(C))),a+=$?k+T*ru:k,$^h>=n^b>=n){var E=Vu(Bu(d),Bu(y));Wu(E);var A=Vu(o,E);Wu(A);var M=($^k>=0?-1:1)*bu(A[2]);(r>M||r===M&&(E[0]||E[1]))&&(s+=$^k>=0?1:-1)}}return(a<-Zs||a<Zs&&sl<-Zs)^1&s},cl=function(e,t,n,r){return function(i){var o,a,s,u=t(i),c=nl(),l=t(c),f=!1,d={point:h,lineStart:v,lineEnd:g,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=b,a=[],o=[]},polygonEnd:function(){d.point=h,d.lineStart=v,d.lineEnd=g,a=I(a);var e=ul(o,r);a.length?(f||(i.polygonStart(),f=!0),ol(a,fl,e,n,i)):e&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(t,n){e(t,n)&&i.point(t,n)}function p(e,t){u.point(e,t)}function v(){d.point=p,u.lineStart()}function g(){d.point=h,u.lineEnd()}function m(e,t){s.push([e,t]),l.point(e,t)}function y(){l.lineStart(),s=[]}function b(){m(s[0][0],s[0][1]),l.lineEnd();var e,t,n,r,u=l.clean(),d=c.result(),h=d.length;if(s.pop(),o.push(s),s=null,h)if(1&u){if((t=(n=d[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else h>1&&2&u&&d.push(d.pop().concat(d.shift())),a.push(d.filter(ll))}return d}};function ll(e){return e.length>1}function fl(e,t){return((e=e.x)[0]<0?e[1]-tu-Zs:tu-e[1])-((t=t.x)[0]<0?t[1]-tu-Zs:tu-t[1])}var dl=cl(function(){return!0},function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?eu:-eu,u=au(o-n);au(u-eu)<Zs?(e.point(n,r=(r+a)/2>0?tu:-tu),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&u>=eu&&(au(n-i)<Zs&&(n-=i*Zs),au(o-s)<Zs&&(o-=s*Zs),r=function(e,t,n,r){var i,o,a=pu(e-n);return au(a)>Zs?su((pu(t)*(o=cu(r))*pu(n)-pu(r)*(i=cu(t))*pu(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var i;if(null==e)i=n*tu,r.point(-eu,i),r.point(0,i),r.point(eu,i),r.point(eu,0),r.point(eu,-i),r.point(0,-i),r.point(-eu,-i),r.point(-eu,0),r.point(-eu,i);else if(au(e[0]-t[0])>Zs){var o=e[0]<t[0]?eu:-eu;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])},[-eu,-tu]);var hl=function(e){var t=cu(e),n=6*ou,r=t>0,i=au(t)>Zs;function o(e,n){return cu(e)*cu(n)>t}function a(e,n,r){var i=[1,0,0],o=Vu(Bu(e),Bu(n)),a=Uu(o,o),s=o[0],u=a-s*s;if(!u)return!r&&e;var c=t*a/u,l=-t*s/u,f=Vu(i,o),d=Gu(i,c);Fu(d,Gu(o,l));var h=f,p=Uu(d,h),v=Uu(h,h),g=p*p-v*(Uu(d,d)-1);if(!(g<0)){var m=gu(g),y=Gu(h,(-p-m)/v);if(Fu(y,d),y=qu(y),!r)return y;var b,w=e[0],x=n[0],_=e[1],k=n[1];x<w&&(b=w,w=x,x=b);var T=x-w,C=au(T-eu)<Zs;if(!C&&k<_&&(b=_,_=k,k=b),C||T<Zs?C?_+k>0^y[1]<(au(y[0]-w)<Zs?_:k):_<=y[1]&&y[1]<=k:T>eu^(w<=y[0]&&y[0]<=x)){var $=Gu(h,(-p+m)/v);return Fu($,d),[y,qu($)]}}}function s(t,n){var i=r?e:eu-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return cl(o,function(e){var t,n,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(f,d){var h,p=[f,d],v=o(f,d),g=r?v?0:s(f,d):v?s(f+(f<0?eu:-eu),d):0;if(!t&&(c=u=v)&&e.lineStart(),v!==u&&(!(h=a(t,p))||rl(t,h)||rl(p,h))&&(p[0]+=Zs,p[1]+=Zs,v=o(p[0],p[1])),v!==u)l=0,v?(e.lineStart(),h=a(p,t),e.point(h[0],h[1])):(h=a(t,p),e.point(h[0],h[1]),e.lineEnd()),t=h;else if(i&&t&&r^v){var m;g&n||!(m=a(p,t,!0))||(l=0,r?(e.lineStart(),e.point(m[0][0],m[0][1]),e.point(m[1][0],m[1][1]),e.lineEnd()):(e.point(m[1][0],m[1][1]),e.lineEnd(),e.lineStart(),e.point(m[0][0],m[0][1])))}!v||t&&rl(t,p)||e.point(p[0],p[1]),t=p,u=v,n=g},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return l|(c&&u)<<1}}},function(t,r,i,o){Zc(o,e,n,i,t,r)},r?[0,-e]:[-eu,e-eu])},pl=function(e,t,n,r,i,o){var a,s=e[0],u=e[1],c=0,l=1,f=t[0]-s,d=t[1]-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-u,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<l&&(l=a)}else if(d>0){if(a>l)return;a>c&&(c=a)}if(a=o-u,d||!(a<0)){if(a/=d,d<0){if(a>l)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<l&&(l=a)}return c>0&&(e[0]=s+c*f,e[1]=u+c*d),l<1&&(t[0]=s+l*f,t[1]=u+l*d),!0}}}}},vl=1e9,gl=-vl;function ml(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,c){var l=0,f=0;if(null==i||(l=a(i,s))!==(f=a(o,s))||u(i,o)<0^s>0)do{c.point(0===l||3===l?e:n,l>1?r:t)}while((l=(l+s+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return au(r[0]-e)<Zs?i>0?0:3:au(r[0]-n)<Zs?i>0?2:1:au(r[1]-t)<Zs?i>0?1:0:i>0?3:2}function s(e,t){return u(e.x,t.x)}function u(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var u,c,l,f,d,h,p,v,g,m,y,b=a,w=nl(),x={point:_,lineStart:function(){x.point=k,c&&c.push(l=[]);m=!0,g=!1,p=v=NaN},lineEnd:function(){u&&(k(f,d),h&&g&&w.rejoin(),u.push(w.result()));x.point=_,g&&b.lineEnd()},polygonStart:function(){b=w,u=[],c=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=c.length;n<i;++n)for(var o,a,s=c[n],u=1,l=s.length,f=s[0],d=f[0],h=f[1];u<l;++u)o=d,a=h,f=s[u],d=f[0],h=f[1],a<=r?h>r&&(d-o)*(r-a)>(h-a)*(e-o)&&++t:h<=r&&(d-o)*(r-a)<(h-a)*(e-o)&&--t;return t}(),n=y&&t,i=(u=I(u)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&ol(u,s,t,o,a),a.polygonEnd());b=a,u=c=l=null}};function _(e,t){i(e,t)&&b.point(e,t)}function k(o,a){var s=i(o,a);if(c&&l.push([o,a]),m)f=o,d=a,h=s,m=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&g)b.point(o,a);else{var u=[p=Math.max(gl,Math.min(vl,p)),v=Math.max(gl,Math.min(vl,v))],w=[o=Math.max(gl,Math.min(vl,o)),a=Math.max(gl,Math.min(vl,a))];pl(u,w,e,t,n,r)?(g||(b.lineStart(),b.point(u[0],u[1])),b.point(w[0],w[1]),s||b.lineEnd(),y=!1):s&&(b.lineStart(),b.point(o,a),y=!1)}p=o,v=a,g=s}return x}}var yl,bl,wl,xl=function(){var e,t,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return e&&t===n?e:e=ml(r,i,o,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],e=t=null,n):[[r,i],[o,a]]}}},_l=Xs(),kl={sphere:xu,point:xu,lineStart:function(){kl.point=Cl,kl.lineEnd=Tl},lineEnd:xu,polygonStart:xu,polygonEnd:xu};function Tl(){kl.point=kl.lineEnd=xu}function Cl(e,t){yl=e*=ou,bl=pu(t*=ou),wl=cu(t),kl.point=$l}function $l(e,t){e*=ou;var n=pu(t*=ou),r=cu(t),i=au(e-yl),o=cu(i),a=r*pu(i),s=wl*n-bl*r*o,u=bl*n+wl*r*o;_l.add(uu(gu(a*a+s*s),u)),yl=e,bl=n,wl=r}var Sl=function(e){return _l.reset(),Lu(e,kl),+_l},El=[null,null],Al={type:\"LineString\",coordinates:El},Ml=function(e,t){return El[0]=e,El[1]=t,Sl(Al)},Nl={Feature:function(e,t){return Rl(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Rl(n[r].geometry,t))return!0;return!1}},Ll={Sphere:function(){return!0},Point:function(e,t){return Dl(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Dl(n[r],t))return!0;return!1},LineString:function(e,t){return Pl(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Pl(n[r],t))return!0;return!1},Polygon:function(e,t){return Hl(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Hl(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Rl(n[r],t))return!0;return!1}};function Rl(e,t){return!(!e||!Ll.hasOwnProperty(e.type))&&Ll[e.type](e,t)}function Dl(e,t){return 0===Ml(e,t)}function Pl(e,t){var n=Ml(e[0],e[1]);return Ml(e[0],t)+Ml(t,e[1])<=n+Zs}function Hl(e,t){return!!ul(e.map(Il),jl(t))}function Il(e){return(e=e.map(jl)).pop(),e}function jl(e){return[e[0]*ou,e[1]*ou]}var Ol=function(e,t){return(e&&Nl.hasOwnProperty(e.type)?Nl[e.type]:Rl)(e,t)};function zl(e,t,n){var r=_(e,t-Zs,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function ql(e,t,n){var r=_(e,t-Zs,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function Bl(){var e,t,n,r,i,o,a,s,u,c,l,f,d=10,h=d,p=90,v=360,g=2.5;function m(){return{type:\"MultiLineString\",coordinates:y()}}function y(){return _(lu(r/p)*p,n,p).map(l).concat(_(lu(s/v)*v,a,v).map(f)).concat(_(lu(t/d)*d,e,d).filter(function(e){return au(e%p)>Zs}).map(u)).concat(_(lu(o/h)*h,i,h).filter(function(e){return au(e%v)>Zs}).map(c))}return m.lines=function(){return y().map(function(e){return{type:\"LineString\",coordinates:e}})},m.outline=function(){return{type:\"Polygon\",coordinates:[l(r).concat(f(a).slice(1),l(n).reverse().slice(1),f(s).reverse().slice(1))]}},m.extent=function(e){return arguments.length?m.extentMajor(e).extentMinor(e):m.extentMinor()},m.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),m.precision(g)):[[r,s],[n,a]]},m.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),m.precision(g)):[[t,o],[e,i]]},m.step=function(e){return arguments.length?m.stepMajor(e).stepMinor(e):m.stepMinor()},m.stepMajor=function(e){return arguments.length?(p=+e[0],v=+e[1],m):[p,v]},m.stepMinor=function(e){return arguments.length?(d=+e[0],h=+e[1],m):[d,h]},m.precision=function(d){return arguments.length?(g=+d,u=zl(o,i,90),c=ql(t,e,g),l=zl(s,a,90),f=ql(r,n,g),m):g},m.extentMajor([[-180,-90+Zs],[180,90-Zs]]).extentMinor([[-180,-80-Zs],[180,80+Zs]])}function Ul(){return Bl()()}var Vl,Fl,Gl,Wl,Yl=function(e,t){var n=e[0]*ou,r=e[1]*ou,i=t[0]*ou,o=t[1]*ou,a=cu(r),s=pu(r),u=cu(o),c=pu(o),l=a*cu(n),f=a*pu(n),d=u*cu(i),h=u*pu(i),p=2*bu(gu(wu(o-r)+a*u*wu(i-n))),v=pu(p),g=p?function(e){var t=pu(e*=p)/v,n=pu(p-e)/v,r=n*l+t*d,i=n*f+t*h,o=n*s+t*c;return[uu(i,r)*iu,uu(o,gu(r*r+i*i))*iu]}:function(){return[n*iu,r*iu]};return g.distance=p,g},Xl=function(e){return e},Ql=Xs(),Jl=Xs(),Kl={point:xu,lineStart:xu,lineEnd:xu,polygonStart:function(){Kl.lineStart=Zl,Kl.lineEnd=nf},polygonEnd:function(){Kl.lineStart=Kl.lineEnd=Kl.point=xu,Ql.add(au(Jl)),Jl.reset()},result:function(){var e=Ql/2;return Ql.reset(),e}};function Zl(){Kl.point=ef}function ef(e,t){Kl.point=tf,Vl=Gl=e,Fl=Wl=t}function tf(e,t){Jl.add(Wl*e-Gl*t),Gl=e,Wl=t}function nf(){tf(Vl,Fl)}var rf=Kl,of=1/0,af=of,sf=-of,uf=sf;var cf,lf,ff,df,hf={point:function(e,t){e<of&&(of=e);e>sf&&(sf=e);t<af&&(af=t);t>uf&&(uf=t)},lineStart:xu,lineEnd:xu,polygonStart:xu,polygonEnd:xu,result:function(){var e=[[of,af],[sf,uf]];return sf=uf=-(af=of=1/0),e}},pf=0,vf=0,gf=0,mf=0,yf=0,bf=0,wf=0,xf=0,_f=0,kf={point:Tf,lineStart:Cf,lineEnd:Ef,polygonStart:function(){kf.lineStart=Af,kf.lineEnd=Mf},polygonEnd:function(){kf.point=Tf,kf.lineStart=Cf,kf.lineEnd=Ef},result:function(){var e=_f?[wf/_f,xf/_f]:bf?[mf/bf,yf/bf]:gf?[pf/gf,vf/gf]:[NaN,NaN];return pf=vf=gf=mf=yf=bf=wf=xf=_f=0,e}};function Tf(e,t){pf+=e,vf+=t,++gf}function Cf(){kf.point=$f}function $f(e,t){kf.point=Sf,Tf(ff=e,df=t)}function Sf(e,t){var n=e-ff,r=t-df,i=gu(n*n+r*r);mf+=i*(ff+e)/2,yf+=i*(df+t)/2,bf+=i,Tf(ff=e,df=t)}function Ef(){kf.point=Tf}function Af(){kf.point=Nf}function Mf(){Lf(cf,lf)}function Nf(e,t){kf.point=Lf,Tf(cf=ff=e,lf=df=t)}function Lf(e,t){var n=e-ff,r=t-df,i=gu(n*n+r*r);mf+=i*(ff+e)/2,yf+=i*(df+t)/2,bf+=i,wf+=(i=df*e-ff*t)*(ff+e),xf+=i*(df+t),_f+=3*i,Tf(ff=e,df=t)}var Rf=kf;function Df(e){this._context=e}Df.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ru)}},result:xu};var Pf,Hf,If,jf,Of,zf=Xs(),qf={point:xu,lineStart:function(){qf.point=Bf},lineEnd:function(){Pf&&Uf(Hf,If),qf.point=xu},polygonStart:function(){Pf=!0},polygonEnd:function(){Pf=null},result:function(){var e=+zf;return zf.reset(),e}};function Bf(e,t){qf.point=Uf,Hf=jf=e,If=Of=t}function Uf(e,t){jf-=e,Of-=t,zf.add(gu(jf*jf+Of*Of)),jf=e,Of=t}var Vf=qf;function Ff(){this._string=[]}function Gf(e){return\"m0,\"+e+\"a\"+e+\",\"+e+\" 0 1,1 0,\"+-2*e+\"a\"+e+\",\"+e+\" 0 1,1 0,\"+2*e+\"z\"}Ff.prototype={_radius:4.5,_circle:Gf(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push(\"Z\"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push(\"M\",e,\",\",t),this._point=1;break;case 1:this._string.push(\"L\",e,\",\",t);break;default:null==this._circle&&(this._circle=Gf(this._radius)),this._string.push(\"M\",e,\",\",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join(\"\");return this._string=[],e}return null}};var Wf=function(e,t){var n,r,i=4.5;function o(e){return e&&(\"function\"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Lu(e,n(r))),r.result()}return o.area=function(e){return Lu(e,n(rf)),rf.result()},o.measure=function(e){return Lu(e,n(Vf)),Vf.result()},o.bounds=function(e){return Lu(e,n(hf)),hf.result()},o.centroid=function(e){return Lu(e,n(Rf)),Rf.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,Xl):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new Ff):new Df(t=e),\"function\"!=typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i=\"function\"==typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)},Yf=function(e){return{stream:Xf(e)}};function Xf(e){return function(t){var n=new Qf;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Qf(){}function Jf(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Lu(n,e.stream(hf)),t(hf.result()),null!=r&&e.clipExtent(r),e}function Kf(e,t,n){return Jf(e,function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])},n)}function Zf(e,t,n){return Kf(e,[[0,0],t],n)}function ed(e,t,n){return Jf(e,function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([o,a])},n)}function td(e,t,n){return Jf(e,function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,a])},n)}Qf.prototype={constructor:Qf,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var nd=16,rd=cu(30*ou),id=function(e,t){return+t?function(e,t){function n(r,i,o,a,s,u,c,l,f,d,h,p,v,g){var m=c-r,y=l-i,b=m*m+y*y;if(b>4*t&&v--){var w=a+d,x=s+h,_=u+p,k=gu(w*w+x*x+_*_),T=bu(_/=k),C=au(au(_)-1)<Zs||au(o-f)<Zs?(o+f)/2:uu(x,w),$=e(C,T),S=$[0],E=$[1],A=S-r,M=E-i,N=y*A-m*M;(N*N/b>t||au((m*A+y*M)/b-.5)>.3||a*d+s*h+u*p<rd)&&(n(r,i,o,a,s,u,S,E,C,w/=k,x/=k,_,v,g),g.point(S,E),n(S,E,C,w,x,_,c,l,f,d,h,p,v,g))}}return function(t){var r,i,o,a,s,u,c,l,f,d,h,p,v={point:g,lineStart:m,lineEnd:b,polygonStart:function(){t.polygonStart(),v.lineStart=w},polygonEnd:function(){t.polygonEnd(),v.lineStart=m}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function m(){l=NaN,v.point=y,t.lineStart()}function y(r,i){var o=Bu([r,i]),a=e(r,i);n(l,f,c,d,h,p,l=a[0],f=a[1],c=r,d=o[0],h=o[1],p=o[2],nd,t),t.point(l,f)}function b(){v.point=g,t.lineEnd()}function w(){m(),v.point=x,v.lineEnd=_}function x(e,t){y(r=e,t),i=l,o=f,a=d,s=h,u=p,v.point=y}function _(){n(l,f,c,d,h,p,i,o,r,a,s,u,nd,t),v.lineEnd=b,b()}return v}}(e,t):function(e){return Xf({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var od=Xf({point:function(e,t){this.stream.point(e*ou,t*ou)}});function ad(e,t,n,r){var i=cu(r),o=pu(r),a=i*e,s=o*e,u=i/e,c=o/e,l=(o*n-i*t)/e,f=(o*t+i*n)/e;function d(e,r){return[a*e-s*r+t,n-s*e-a*r]}return d.invert=function(e,t){return[u*e-c*t+l,f-c*e-u*t]},d}function sd(e){return ud(function(){return e})()}function ud(e){var t,n,r,i,o,a,s,u,c,l,f=150,d=480,h=250,p=0,v=0,g=0,m=0,y=0,b=0,w=null,x=dl,_=null,k=Xl,T=.5;function C(e){return u(e[0]*ou,e[1]*ou)}function $(e){return(e=u.invert(e[0],e[1]))&&[e[0]*iu,e[1]*iu]}function S(){var e=ad(f,0,0,b).apply(null,t(p,v)),r=(b?ad:function(e,t,n){function r(r,i){return[t+e*r,n-e*i]}return r.invert=function(r,i){return[(r-t)/e,(n-i)/e]},r})(f,d-e[0],h-e[1],b);return n=Yc(g,m,y),s=Gc(t,r),u=Gc(n,s),a=id(s,T),E()}function E(){return c=l=null,C}return C.stream=function(e){return c&&l===e?c:c=od(function(e){return Xf({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(x(a(k(l=e)))))},C.preclip=function(e){return arguments.length?(x=e,w=void 0,E()):x},C.postclip=function(e){return arguments.length?(k=e,_=r=i=o=null,E()):k},C.clipAngle=function(e){return arguments.length?(x=+e?hl(w=e*ou):(w=null,dl),E()):w*iu},C.clipExtent=function(e){return arguments.length?(k=null==e?(_=r=i=o=null,Xl):ml(_=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),E()):null==_?null:[[_,r],[i,o]]},C.scale=function(e){return arguments.length?(f=+e,S()):f},C.translate=function(e){return arguments.length?(d=+e[0],h=+e[1],S()):[d,h]},C.center=function(e){return arguments.length?(p=e[0]%360*ou,v=e[1]%360*ou,S()):[p*iu,v*iu]},C.rotate=function(e){return arguments.length?(g=e[0]%360*ou,m=e[1]%360*ou,y=e.length>2?e[2]%360*ou:0,S()):[g*iu,m*iu,y*iu]},C.angle=function(e){return arguments.length?(b=e%360*ou,S()):b*iu},C.precision=function(e){return arguments.length?(a=id(s,T=e*e),E()):gu(T)},C.fitExtent=function(e,t){return Kf(C,e,t)},C.fitSize=function(e,t){return Zf(C,e,t)},C.fitWidth=function(e,t){return ed(C,e,t)},C.fitHeight=function(e,t){return td(C,e,t)},function(){return t=e.apply(this,arguments),C.invert=t.invert&&$,S()}}function cd(e){var t=0,n=eu/3,r=ud(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*ou,n=e[1]*ou):[t*iu,n*iu]},i}function ld(e,t){var n=pu(e),r=(n+pu(t))/2;if(au(r)<Zs)return function(e){var t=cu(e);function n(e,n){return[e*t,pu(n)/t]}return n.invert=function(e,n){return[e/t,bu(n*t)]},n}(e);var i=1+n*(2*r-n),o=gu(i)/r;function a(e,t){var n=gu(i-2*r*pu(t))/r;return[n*pu(e*=r),o-n*cu(e)]}return a.invert=function(e,t){var n=o-t;return[uu(e,au(n))/r*vu(n),bu((i-(e*e+n*n)*r*r)/(2*r))]},a}var fd=function(){return cd(ld).scale(155.424).center([0,33.6442])},dd=function(){return fd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var hd=function(){var e,t,n,r,i,o,a=dd(),s=fd().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=fd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){o=[e,t]}};function l(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(r.point(t,a),o)||(i.point(t,a),o)}function f(){return e=t=null,l}return l.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(e)},l.stream=function(n){return e&&t===n?e:(r=[a.stream(t=n),s.stream(n),u.stream(n)],i=r.length,e={point:function(e,t){for(var n=-1;++n<i;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<i;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<i;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<i;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<i;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<i;)r[e].polygonEnd()}});var r,i},l.precision=function(e){return arguments.length?(a.precision(e),s.precision(e),u.precision(e),f()):a.precision()},l.scale=function(e){return arguments.length?(a.scale(e),s.scale(.35*e),u.scale(e),l.translate(a.translate())):a.scale()},l.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],l=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,l-.238*t],[o+.455*t,l+.238*t]]).stream(c),r=s.translate([o-.307*t,l+.201*t]).clipExtent([[o-.425*t+Zs,l+.12*t+Zs],[o-.214*t-Zs,l+.234*t-Zs]]).stream(c),i=u.translate([o-.205*t,l+.212*t]).clipExtent([[o-.214*t+Zs,l+.166*t+Zs],[o-.115*t-Zs,l+.234*t-Zs]]).stream(c),f()},l.fitExtent=function(e,t){return Kf(l,e,t)},l.fitSize=function(e,t){return Zf(l,e,t)},l.fitWidth=function(e,t){return ed(l,e,t)},l.fitHeight=function(e,t){return td(l,e,t)},l.scale(1070)};function pd(e){return function(t,n){var r=cu(t),i=cu(n),o=e(r*i);return[o*i*pu(t),o*pu(n)]}}function vd(e){return function(t,n){var r=gu(t*t+n*n),i=e(r),o=pu(i),a=cu(i);return[uu(t*o,r*a),bu(r&&n*o/r)]}}var gd=pd(function(e){return gu(2/(1+e))});gd.invert=vd(function(e){return 2*bu(e/2)});var md=function(){return sd(gd).scale(124.75).clipAngle(179.999)},yd=pd(function(e){return(e=yu(e))&&e/pu(e)});yd.invert=vd(function(e){return e});var bd=function(){return sd(yd).scale(79.4188).clipAngle(179.999)};function wd(e,t){return[e,du(mu((tu+t)/2))]}wd.invert=function(e,t){return[e,2*su(fu(t))-tu]};var xd=function(){return _d(wd).scale(961/ru)};function _d(e){var t,n,r,i=sd(e),o=i.center,a=i.scale,s=i.translate,u=i.clipExtent,c=null;function l(){var o=eu*a(),s=i(Kc(i.rotate()).invert([0,0]));return u(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:e===wd?[[Math.max(s[0]-o,c),t],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,t)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(e){return arguments.length?(a(e),l()):a()},i.translate=function(e){return arguments.length?(s(e),l()):s()},i.center=function(e){return arguments.length?(o(e),l()):o()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),l()):null==c?null:[[c,t],[n,r]]},l()}function kd(e){return mu((tu+e)/2)}function Td(e,t){var n=cu(e),r=e===t?pu(e):du(n/cu(t))/du(kd(t)/kd(e)),i=n*hu(kd(e),r)/r;if(!r)return wd;function o(e,t){i>0?t<-tu+Zs&&(t=-tu+Zs):t>tu-Zs&&(t=tu-Zs);var n=i/hu(kd(t),r);return[n*pu(r*e),i-n*cu(r*e)]}return o.invert=function(e,t){var n=i-t,o=vu(r)*gu(e*e+n*n);return[uu(e,au(n))/r*vu(n),2*su(hu(i/o,1/r))-tu]},o}var Cd=function(){return cd(Td).scale(109.5).parallels([30,30])};function $d(e,t){return[e,t]}$d.invert=$d;var Sd=function(){return sd($d).scale(152.63)};function Ed(e,t){var n=cu(e),r=e===t?pu(e):(n-cu(t))/(t-e),i=n/r+e;if(au(r)<Zs)return $d;function o(e,t){var n=i-t,o=r*e;return[n*pu(o),i-n*cu(o)]}return o.invert=function(e,t){var n=i-t;return[uu(e,au(n))/r*vu(n),i-vu(r)*gu(e*e+n*n)]},o}var Ad=function(){return cd(Ed).scale(131.154).center([0,13.9389])};function Md(e,t){var n=cu(t),r=cu(e)*n;return[n*pu(e)/r,pu(t)/r]}Md.invert=vd(su);var Nd=function(){return sd(Md).scale(144.049).clipAngle(60)};function Ld(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?Xl:Xf({point:function(i,o){this.stream.point(i*e+n,o*t+r)}})}var Rd=function(){var e,t,n,r,i,o,a=1,s=0,u=0,c=1,l=1,f=Xl,d=null,h=Xl;function p(){return r=i=null,o}return o={stream:function(e){return r&&i===e?r:r=f(h(i=e))},postclip:function(r){return arguments.length?(h=r,d=e=t=n=null,p()):h},clipExtent:function(r){return arguments.length?(h=null==r?(d=e=t=n=null,Xl):ml(d=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),p()):null==d?null:[[d,e],[t,n]]},scale:function(e){return arguments.length?(f=Ld((a=+e)*c,a*l,s,u),p()):a},translate:function(e){return arguments.length?(f=Ld(a*c,a*l,s=+e[0],u=+e[1]),p()):[s,u]},reflectX:function(e){return arguments.length?(f=Ld(a*(c=e?-1:1),a*l,s,u),p()):c<0},reflectY:function(e){return arguments.length?(f=Ld(a*c,a*(l=e?-1:1),s,u),p()):l<0},fitExtent:function(e,t){return Kf(o,e,t)},fitSize:function(e,t){return Zf(o,e,t)},fitWidth:function(e,t){return ed(o,e,t)},fitHeight:function(e,t){return td(o,e,t)}}};function Dd(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Dd.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(au(n)>Zs&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Pd=function(){return sd(Dd).scale(175.295)};function Hd(e,t){return[cu(t)*pu(e),pu(t)]}Hd.invert=vd(bu);var Id=function(){return sd(Hd).scale(249.5).clipAngle(90+Zs)};function jd(e,t){var n=cu(t),r=1+cu(e)*n;return[n*pu(e)/r,pu(t)/r]}jd.invert=vd(function(e){return 2*su(e)});var Od=function(){return sd(jd).scale(250).clipAngle(142)};function zd(e,t){return[du(mu((tu+t)/2)),-e]}zd.invert=function(e,t){return[-t,2*su(fu(e))-tu]};var qd=function(){var e=_d(zd),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)};function Bd(e,t){return e.parent===t.parent?1:2}function Ud(e,t){return e+t.x}function Vd(e,t){return Math.max(e,t.y)}var Fd=function(){var e=Bd,t=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter(function(t){var n=t.children;n?(t.x=function(e){return e.reduce(Ud,0)/e.length}(n),t.y=function(e){return 1+e.reduce(Vd,0)}(n)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)});var s=function(e){for(var t;t=e.children;)e=t[0];return e}(i),u=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),c=s.x-e(s,u)/2,l=u.x+e(u,s)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-c)/(l-c)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i};function Gd(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function Wd(e,t){var n,r,i,o,a,s=new Jd(e),u=+e.value&&(s.value=e.value),c=[s];for(null==t&&(t=Yd);n=c.pop();)if(u&&(n.value=+n.data.value),(i=t(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new Jd(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Qd)}function Yd(e){return e.children}function Xd(e){e.data=e.data.data}function Qd(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Jd(e){this.data=e,this.depth=this.height=0,this.parent=null}Jd.prototype=Wd.prototype={constructor:Jd,count:function(){return this.eachAfter(Gd)},each:function(e){var t,n,r,i,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(e){for(var t,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n]);for(;i=a.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return Wd(this).eachBefore(Xd)}};var Kd=Array.prototype.slice;var Zd=function(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(Kd.call(e))).length,o=[];r<i;)t=e[r],n&&nh(n,t)?++r:(n=ih(o=eh(o,t)),r=0);return n};function eh(e,t){var n,r;if(rh(t,e))return[t];for(n=0;n<e.length;++n)if(th(t,e[n])&&rh(oh(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(th(oh(e[n],e[r]),t)&&th(oh(e[n],t),e[r])&&th(oh(e[r],t),e[n])&&rh(ah(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function th(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function nh(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function rh(e,t){for(var n=0;n<t.length;++n)if(!nh(e,t[n]))return!1;return!0}function ih(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return oh(e[0],e[1]);case 3:return ah(e[0],e[1],e[2])}var t}function oh(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,s=t.r,u=o-n,c=a-r,l=s-i,f=Math.sqrt(u*u+c*c);return{x:(n+o+u/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+s)/2}}function ah(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,s=t.y,u=t.r,c=n.x,l=n.y,f=n.r,d=r-a,h=r-c,p=i-s,v=i-l,g=u-o,m=f-o,y=r*r+i*i-o*o,b=y-a*a-s*s+u*u,w=y-c*c-l*l+f*f,x=h*p-d*v,_=(p*w-v*b)/(2*x)-r,k=(v*g-p*m)/x,T=(h*b-d*w)/(2*x)-i,C=(d*m-h*g)/x,$=k*k+C*C-1,S=2*(o+_*k+T*C),E=_*_+T*T-o*o,A=-($?(S+Math.sqrt(S*S-4*$*E))/(2*$):E/S);return{x:r+_+k*A,y:i+T+C*A,r:A}}function sh(e,t,n){var r,i,o,a,s=e.x-t.x,u=e.y-t.y,c=s*s+u*u;c?(i=t.r+n.r,i*=i,a=e.r+n.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=e.x-r*s-o*u,n.y=e.y-r*u+o*s):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=t.x+r*s-o*u,n.y=t.y+r*u+o*s)):(n.x=t.x+n.r,n.y=t.y)}function uh(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function ch(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function lh(e){this._=e,this.next=null,this.previous=null}function fh(e){if(!(i=e.length))return 0;var t,n,r,i,o,a,s,u,c,l,f;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;sh(n,t,r=e[2]),t=new lh(t),n=new lh(n),r=new lh(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<i;++s){sh(t._,n._,r=e[s]),r=new lh(r),u=n.next,c=t.previous,l=n._.r,f=t._.r;do{if(l<=f){if(uh(u._,r._)){n=u,t.next=n,n.previous=t,--s;continue e}l+=u._.r,u=u.next}else{if(uh(c._,r._)){(t=c).next=n,n.previous=t,--s;continue e}f+=c._.r,c=c.previous}}while(u!==c.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,o=ch(t);(r=r.next)!==n;)(a=ch(r))<o&&(t=r,o=a);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=Zd(t),s=0;s<i;++s)(t=e[s]).x-=r.x,t.y-=r.y;return r.r}var dh=function(e){return fh(e),e};function hh(e){if(\"function\"!=typeof e)throw new Error;return e}function ph(){return 0}var vh=function(e){return function(){return e}};function gh(e){return Math.sqrt(e.value)}var mh=function(){var e=null,t=1,n=1,r=ph;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(yh(e)).eachAfter(bh(r,.5)).eachBefore(wh(1)):i.eachBefore(yh(gh)).eachAfter(bh(ph,1)).eachAfter(bh(r,i.r/Math.min(t,n))).eachBefore(wh(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=null==(n=t)?null:hh(n),i):e;var n},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r=\"function\"==typeof e?e:vh(+e),i):r},i};function yh(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function bh(e,t){return function(n){if(r=n.children){var r,i,o,a=r.length,s=e(n)*t||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=fh(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function wh(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var xh=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},_h=function(e,t,n,r,i){for(var o,a=e.children,s=-1,u=a.length,c=e.value&&(r-t)/e.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*c},kh=function(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(e,t){return function(r){r.children&&_h(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(t,o)),r&&i.eachBefore(xh),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},Th=\"$\",Ch={depth:-1},$h={};function Sh(e){return e.id}function Eh(e){return e.parentId}var Ah=function(){var e=Sh,t=Eh;function n(n){var r,i,o,a,s,u,c,l=n.length,f=new Array(l),d={};for(i=0;i<l;++i)r=n[i],s=f[i]=new Jd(r),null!=(u=e(r,i,n))&&(u+=\"\")&&(d[c=Th+(s.id=u)]=c in d?$h:s);for(i=0;i<l;++i)if(s=f[i],null!=(u=t(n[i],i,n))&&(u+=\"\")){if(!(a=d[Th+u]))throw new Error(\"missing: \"+u);if(a===$h)throw new Error(\"ambiguous: \"+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error(\"multiple roots\");o=s}if(!o)throw new Error(\"no root\");if(o.parent=Ch,o.eachBefore(function(e){e.depth=e.parent.depth+1,--l}).eachBefore(Qd),o.parent=null,l>0)throw new Error(\"cycle\");return o}return n.id=function(t){return arguments.length?(e=hh(t),n):e},n.parentId=function(e){return arguments.length?(t=hh(e),n):t},n};function Mh(e,t){return e.parent===t.parent?1:2}function Nh(e){var t=e.children;return t?t[0]:e.t}function Lh(e){var t=e.children;return t?t[t.length-1]:e.t}function Rh(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Dh(e,t,n){return e.a.parent===t.parent?e.a:n}function Ph(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Ph.prototype=Object.create(Jd.prototype);var Hh=function(){var e=Mh,t=1,n=1,r=null;function i(i){var u=function(e){for(var t,n,r,i,o,a=new Ph(e,0),s=[a];t=s.pop();)if(r=t._.children)for(t.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=t.children[i]=new Ph(r[i],i)),n.parent=t;return(a.parent=new Ph(null,0)).children=[a],a}(i);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(a),r)i.eachBefore(s);else{var c=i,l=i,f=i;i.eachBefore(function(e){e.x<c.x&&(c=e),e.x>l.x&&(l=e),e.depth>f.depth&&(f=e)});var d=c===l?1:e(c,l)/2,h=d-c.x,p=t/(l.x+d+h),v=n/(f.depth||1);i.eachBefore(function(e){e.x=(e.x+h)*p,e.y=e.depth*v})}return i}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,s=n,u=o.parent.children[0],c=o.m,l=a.m,f=s.m,d=u.m;s=Lh(s),o=Nh(o),s&&o;)u=Nh(u),(a=Lh(a)).a=t,(i=s.z+f-o.z-c+e(s._,o._))>0&&(Rh(Dh(s,t,r),t,i),c+=i,l+=i),f+=s.m,c+=o.m,d+=u.m,l+=a.m;s&&!Lh(a)&&(a.t=s,a.m+=f-l),o&&!Nh(u)&&(u.t=o,u.m+=c-d,r=t)}return r}(t,i,t.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},Ih=function(e,t,n,r,i){for(var o,a=e.children,s=-1,u=a.length,c=e.value&&(i-n)/e.value;++s<u;)(o=a[s]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c},jh=(1+Math.sqrt(5))/2;function Oh(e,t,n,r,i,o){for(var a,s,u,c,l,f,d,h,p,v,g,m=[],y=t.children,b=0,w=0,x=y.length,_=t.value;b<x;){u=i-n,c=o-r;do{l=y[w++].value}while(!l&&w<x);for(f=d=l,g=l*l*(v=Math.max(c/u,u/c)/(_*e)),p=Math.max(d/g,g/f);w<x;++w){if(l+=s=y[w].value,s<f&&(f=s),s>d&&(d=s),g=l*l*v,(h=Math.max(d/g,g/f))>p){l-=s;break}p=h}m.push(a={value:l,dice:u<c,children:y.slice(b,w)}),a.dice?_h(a,n,r,i,_?r+=c*l/_:o):Ih(a,n,r,_?n+=u*l/_:i,o),_-=l,b=w}return m}var zh=function e(t){function n(e,n,r,i,o){Oh(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(jh),qh=function(){var e=zh,t=!1,n=1,r=1,i=[0],o=ph,a=ph,s=ph,u=ph,c=ph;function l(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),i=[0],t&&e.eachBefore(xh),e}function f(t){var n=i[t.depth],r=t.x0+n,l=t.y0+n,f=t.x1-n,d=t.y1-n;f<r&&(r=f=(r+f)/2),d<l&&(l=d=(l+d)/2),t.x0=r,t.y0=l,t.x1=f,t.y1=d,t.children&&(n=i[t.depth+1]=o(t)/2,r+=c(t)-n,l+=a(t)-n,f-=s(t)-n,d-=u(t)-n,f<r&&(r=f=(r+f)/2),d<l&&(l=d=(l+d)/2),e(t,r,l,f,d))}return l.round=function(e){return arguments.length?(t=!!e,l):t},l.size=function(e){return arguments.length?(n=+e[0],r=+e[1],l):[n,r]},l.tile=function(t){return arguments.length?(e=hh(t),l):e},l.padding=function(e){return arguments.length?l.paddingInner(e).paddingOuter(e):l.paddingInner()},l.paddingInner=function(e){return arguments.length?(o=\"function\"==typeof e?e:vh(+e),l):o},l.paddingOuter=function(e){return arguments.length?l.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):l.paddingTop()},l.paddingTop=function(e){return arguments.length?(a=\"function\"==typeof e?e:vh(+e),l):a},l.paddingRight=function(e){return arguments.length?(s=\"function\"==typeof e?e:vh(+e),l):s},l.paddingBottom=function(e){return arguments.length?(u=\"function\"==typeof e?e:vh(+e),l):u},l.paddingLeft=function(e){return arguments.length?(c=\"function\"==typeof e?e:vh(+e),l):c},l},Bh=function(e,t,n,r,i){var o,a,s=e.children,u=s.length,c=new Array(u+1);for(c[0]=a=o=0;o<u;++o)c[o+1]=a+=s[o].value;!function e(t,n,r,i,o,a,u){if(t>=n-1){var l=s[t];return l.x0=i,l.y0=o,l.x1=a,void(l.y1=u)}var f=c[t],d=r/2+f,h=t+1,p=n-1;for(;h<p;){var v=h+p>>>1;c[v]<d?h=v+1:p=v}d-c[h-1]<c[h]-d&&t+1<h&&--h;var g=c[h]-f,m=r-g;if(a-i>u-o){var y=(i*m+a*g)/r;e(t,h,g,i,o,y,u),e(h,n,m,y,o,a,u)}else{var b=(o*m+u*g)/r;e(t,h,g,i,o,a,b),e(h,n,m,i,b,a,u)}}(0,u,e.value,t,n,r,i)},Uh=function(e,t,n,r,i){(1&e.depth?Ih:_h)(e,t,n,r,i)},Vh=function e(t){function n(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,u,c,l,f=-1,d=a.length,h=e.value;++f<d;){for(u=(s=a[f]).children,c=s.value=0,l=u.length;c<l;++c)s.value+=u[c].value;s.dice?_h(s,n,r,i,r+=(o-r)*s.value/h):Ih(s,n,r,n+=(i-n)*s.value/h,o),h-=s.value}else e._squarify=a=Oh(t,e,n,r,i,o),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(jh),Fh=function(e){for(var t,n=-1,r=e.length,i=e[r-1],o=0;++n<r;)t=i,i=e[n],o+=t[1]*i[0]-t[0]*i[1];return o/2},Gh=function(e){for(var t,n,r=-1,i=e.length,o=0,a=0,s=e[i-1],u=0;++r<i;)t=s,s=e[r],u+=n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o/(u*=3),a/u]},Wh=function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])};function Yh(e,t){return e[0]-t[0]||e[1]-t[1]}function Xh(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;++i){for(;r>1&&Wh(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}var Qh=function(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(Yh),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var o=Xh(r),a=Xh(i),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],c=[];for(t=o.length-1;t>=0;--t)c.push(e[r[o[t]][2]]);for(t=+s;t<a.length-u;++t)c.push(e[r[a[t]][2]]);return c},Jh=function(e,t){for(var n,r,i=e.length,o=e[i-1],a=t[0],s=t[1],u=o[0],c=o[1],l=!1,f=0;f<i;++f)n=(o=e[f])[0],(r=o[1])>s!=c>s&&a<(u-n)*(s-r)/(c-r)+n&&(l=!l),u=n,c=r;return l},Kh=function(e){for(var t,n,r=-1,i=e.length,o=e[i-1],a=o[0],s=o[1],u=0;++r<i;)t=a,n=s,t-=a=(o=e[r])[0],n-=s=o[1],u+=Math.sqrt(t*t+n*n);return u},Zh=function(){return Math.random()},ep=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(Zh),tp=function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*t()-1,o=2*t()-1,i=r*r+o*o}while(!i||i>1);return e+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(Zh),np=function e(t){function n(){var e=tp.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}(Zh),rp=function e(t){function n(e){return function(){for(var n=0,r=0;r<e;++r)n+=t();return n}}return n.source=e,n}(Zh),ip=function e(t){function n(e){var n=rp.source(t)(e);return function(){return n()/e}}return n.source=e,n}(Zh),op=function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}(Zh),ap=Array.prototype,sp=ap.map,up=ap.slice,cp={name:\"implicit\"};function lp(e){var t=Qo(),n=[],r=cp;function i(i){var o=i+\"\",a=t.get(o);if(!a){if(r!==cp)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return e=null==e?[]:up.call(e),i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Qo();for(var r,o,a=-1,s=e.length;++a<s;)t.has(o=(r=e[a])+\"\")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=up.call(t),i):e.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return lp().domain(n).range(e).unknown(r)},i}function fp(){var e,t,n=lp().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,u=0,c=.5;function l(){var n=r().length,l=o[1]<o[0],f=o[l-0],d=o[1-l];e=(d-f)/Math.max(1,n-s+2*u),a&&(e=Math.floor(e)),f+=(d-f-e*(n-s))*c,t=e*(1-s),a&&(f=Math.round(f),t=Math.round(t));var h=_(n).map(function(t){return f+e*t});return i(l?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),l()):r()},n.range=function(e){return arguments.length?(o=[+e[0],+e[1]],l()):o.slice()},n.rangeRound=function(e){return o=[+e[0],+e[1]],a=!0,l()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,l()):a},n.padding=function(e){return arguments.length?(s=u=Math.max(0,Math.min(1,e)),l()):s},n.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),l()):s},n.paddingOuter=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),l()):u},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),l()):c},n.copy=function(){return fp().domain(r()).range(o).round(a).paddingInner(s).paddingOuter(u).align(c)},l()}function dp(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(n())},t}(fp().paddingInner(1))}var hp=function(e){return function(){return e}},pp=function(e){return+e},vp=[0,1];function gp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:hp(t)}function mp(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function yp(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=n(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var n=u(e,t,1,i)-1;return a[n](o[n](t))}}function bp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function wp(e,t){var n,r,i,o=vp,a=vp,s=Jn,u=!1;function c(){return n=Math.min(o.length,a.length)>2?yp:mp,r=i=null,l}function l(t){return(r||(r=n(o,a,u?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}(e):e,s)))(+t)}return l.invert=function(e){return(i||(i=n(a,o,gp,u?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}(t):t)))(+e)},l.domain=function(e){return arguments.length?(o=sp.call(e,pp),c()):o.slice()},l.range=function(e){return arguments.length?(a=up.call(e),c()):a.slice()},l.rangeRound=function(e){return a=up.call(e),s=Kn,c()},l.clamp=function(e){return arguments.length?(u=!!e,c()):u},l.interpolate=function(e){return arguments.length?(s=e,c()):s},c()}var xp=function(e,t,n){var r,i=e[0],o=e[e.length-1],a=E(i,o,null==t?10:t);switch((n=Rs(null==n?\",f\":n)).type){case\"s\":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=Ws(a,s))||(n.precision=r),js(n,s);case\"\":case\"e\":case\"g\":case\"p\":case\"r\":null!=n.precision||isNaN(r=Ys(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-(\"e\"===n.type));break;case\"f\":case\"%\":null!=n.precision||isNaN(r=Gs(a))||(n.precision=r-2*(\"%\"===n.type))}return Is(n)};function _p(e){var t=e.domain;return e.ticks=function(e){var n=t();return $(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return xp(t(),e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=S(s,u,n))>0?r=S(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=S(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,t(i)),e},e}function kp(){var e=wp(gp,Bn);return e.copy=function(){return bp(e,kp())},_p(e)}function Tp(){var e=[0,1];function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=sp.call(n,pp),t):e.slice()},t.copy=function(){return Tp().domain(e)},_p(t)}var Cp=function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e};function $p(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:hp(t)}function Sp(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function Ep(e){return isFinite(e)?+(\"1e\"+e):e<0?0:e}function Ap(e){return 10===e?Ep:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Mp(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function Np(e){return function(t){return-e(-t)}}function Lp(){var e=wp($p,Sp).domain([1,10]),t=e.domain,n=10,r=Mp(10),i=Ap(10);function o(){return r=Mp(n),i=Ap(n),t()[0]<0&&(r=Np(r),i=Np(i)),e}return e.base=function(e){return arguments.length?(n=+e,o()):n},e.domain=function(e){return arguments.length?(t(e),o()):t()},e.ticks=function(e){var o,a=t(),s=a[0],u=a[a.length-1];(o=u<s)&&(d=s,s=u,u=d);var c,l,f,d=r(s),h=r(u),p=null==e?10:+e,v=[];if(!(n%1)&&h-d<p){if(d=Math.round(d)-1,h=Math.round(h)+1,s>0){for(;d<h;++d)for(l=1,c=i(d);l<n;++l)if(!((f=c*l)<s)){if(f>u)break;v.push(f)}}else for(;d<h;++d)for(l=n-1,c=i(d);l>=1;--l)if(!((f=c*l)<s)){if(f>u)break;v.push(f)}}else v=$(d,h,Math.min(h-d,p)).map(i);return o?v.reverse():v},e.tickFormat=function(t,o){if(null==o&&(o=10===n?\".0e\":\",\"),\"function\"!=typeof o&&(o=Is(o)),t===1/0)return o;null==t&&(t=10);var a=Math.max(1,n*t/e.ticks().length);return function(e){var t=e/i(Math.round(r(e)));return t*n<n-.5&&(t*=n),t<=a?o(e):\"\"}},e.nice=function(){return t(Cp(t(),{floor:function(e){return i(Math.floor(r(e)))},ceil:function(e){return i(Math.ceil(r(e)))}}))},e.copy=function(){return bp(e,Lp().base(n))},e}function Rp(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function Dp(){var e=1,t=wp(function(t,n){return(n=Rp(n,e)-(t=Rp(t,e)))?function(r){return(Rp(r,e)-t)/n}:hp(n)},function(t,n){return n=Rp(n,e)-(t=Rp(t,e)),function(r){return Rp(t+n*r,1/e)}}),n=t.domain;return t.exponent=function(t){return arguments.length?(e=+t,n(n())):e},t.copy=function(){return bp(t,Dp().exponent(e))},_p(t)}function Pp(){return Dp().exponent(.5)}function Hp(){var e=[],t=[],n=[];function i(){var r=0,i=Math.max(1,t.length);for(n=new Array(i-1);++r<i;)n[r-1]=N(e,r/i);return o}function o(e){if(!isNaN(e=+e))return t[u(n,e)]}return o.invertExtent=function(r){var i=t.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:e[0],i<n.length?n[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,o=0,a=t.length;o<a;++o)null==(n=t[o])||isNaN(n=+n)||e.push(n);return e.sort(r),i()},o.range=function(e){return arguments.length?(t=up.call(e),i()):t.slice()},o.quantiles=function(){return n.slice()},o.copy=function(){return Hp().domain(e).range(t)},o}function Ip(){var e=0,t=1,n=1,r=[.5],i=[0,1];function o(e){if(e<=e)return i[u(r,e,0,n)]}function a(){var i=-1;for(r=new Array(n);++i<n;)r[i]=((i+1)*t-(i-n)*e)/(n+1);return o}return o.domain=function(n){return arguments.length?(e=+n[0],t=+n[1],a()):[e,t]},o.range=function(e){return arguments.length?(n=(i=up.call(e)).length-1,a()):i.slice()},o.invertExtent=function(o){var a=i.indexOf(o);return a<0?[NaN,NaN]:a<1?[e,r[0]]:a>=n?[r[n-1],t]:[r[a-1],r[a]]},o.copy=function(){return Ip().domain([e,t]).range(i)},_p(o)}function jp(){var e=[.5],t=[0,1],n=1;function r(r){if(r<=r)return t[u(e,r,0,n)]}return r.domain=function(i){return arguments.length?(e=up.call(i),n=Math.min(e.length,t.length-1),r):e.slice()},r.range=function(i){return arguments.length?(t=up.call(i),n=Math.min(e.length,t.length-1),r):t.slice()},r.invertExtent=function(n){var r=t.indexOf(n);return[e[r-1],e[r]]},r.copy=function(){return jp().domain(e).range(t)},r}var Op=new Date,zp=new Date;function qp(e,t,n,r){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return qp(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(i.count=function(t,r){return Op.setTime(+t),zp.setTime(+r),e(Op),e(zp),Math.floor(n(Op,zp))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var Bp=qp(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Bp.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?qp(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):Bp:null};var Up=Bp,Vp=Bp.range,Fp=6e4,Gp=6048e5,Wp=qp(function(e){e.setTime(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),Yp=Wp,Xp=Wp.range,Qp=qp(function(e){e.setTime(Math.floor(e/Fp)*Fp)},function(e,t){e.setTime(+e+t*Fp)},function(e,t){return(t-e)/Fp},function(e){return e.getMinutes()}),Jp=Qp,Kp=Qp.range,Zp=qp(function(e){var t=e.getTimezoneOffset()*Fp%36e5;t<0&&(t+=36e5),e.setTime(36e5*Math.floor((+e-t)/36e5)+t)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),ev=Zp,tv=Zp.range,nv=qp(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fp)/864e5},function(e){return e.getDate()-1}),rv=nv,iv=nv.range;function ov(e){return qp(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fp)/Gp})}var av=ov(0),sv=ov(1),uv=ov(2),cv=ov(3),lv=ov(4),fv=ov(5),dv=ov(6),hv=av.range,pv=sv.range,vv=uv.range,gv=cv.range,mv=lv.range,yv=fv.range,bv=dv.range,wv=qp(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),xv=wv,_v=wv.range,kv=qp(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});kv.every=function(e){return isFinite(e=Math.floor(e))&&e>0?qp(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var Tv=kv,Cv=kv.range,$v=qp(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Fp)},function(e,t){return(t-e)/Fp},function(e){return e.getUTCMinutes()}),Sv=$v,Ev=$v.range,Av=qp(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),Mv=Av,Nv=Av.range,Lv=qp(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),Rv=Lv,Dv=Lv.range;function Pv(e){return qp(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/Gp})}var Hv=Pv(0),Iv=Pv(1),jv=Pv(2),Ov=Pv(3),zv=Pv(4),qv=Pv(5),Bv=Pv(6),Uv=Hv.range,Vv=Iv.range,Fv=jv.range,Gv=Ov.range,Wv=zv.range,Yv=qv.range,Xv=Bv.range,Qv=qp(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),Jv=Qv,Kv=Qv.range,Zv=qp(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Zv.every=function(e){return isFinite(e=Math.floor(e))&&e>0?qp(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var eg=Zv,tg=Zv.range;function ng(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function rg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ig(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function og(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,c=mg(i),l=yg(i),f=mg(o),d=yg(o),h=mg(a),p=yg(a),v=mg(s),g=yg(s),m=mg(u),y=yg(u),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:jg,e:jg,f:Ug,H:Og,I:zg,j:qg,L:Bg,m:Vg,M:Fg,p:function(e){return i[+(e.getHours()>=12)]},Q:bm,s:wm,S:Gg,u:Wg,U:Yg,V:Xg,w:Qg,W:Jg,x:null,X:null,y:Kg,Y:Zg,Z:em,\"%\":ym},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:tm,e:tm,f:am,H:nm,I:rm,j:im,L:om,m:sm,M:um,p:function(e){return i[+(e.getUTCHours()>=12)]},Q:bm,s:wm,S:cm,u:lm,U:fm,V:dm,w:hm,W:pm,x:null,X:null,y:vm,Y:gm,Z:mm,\"%\":ym},x={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return T(e,t,n,r)},d:Eg,e:Eg,f:Dg,H:Mg,I:Mg,j:Ag,L:Rg,m:Sg,M:Ng,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=l[r[0].toLowerCase()],n+r[0].length):-1},Q:Hg,s:Ig,S:Lg,u:wg,U:xg,V:_g,w:bg,W:kg,x:function(e,t,r){return T(e,n,t,r)},X:function(e,t,n){return T(e,r,t,n)},y:Cg,Y:Tg,Z:$g,\"%\":Pg};function _(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=fg[r=e.charAt(++s)])?r=e.charAt(++s):i=\"e\"===r?\" \":\"0\",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join(\"\")}}function k(e,t){return function(n){var r,i,o=ig(1900);if(T(o,e,n+=\"\",0)!=n.length)return null;if(\"Q\"in o)return new Date(o.Q);if(\"p\"in o&&(o.H=o.H%12+12*o.p),\"V\"in o){if(o.V<1||o.V>53)return null;\"w\"in o||(o.w=1),\"Z\"in o?(r=(i=(r=rg(ig(o.y))).getUTCDay())>4||0===i?Iv.ceil(r):Iv(r),r=Rv.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=(i=(r=t(ig(o.y))).getDay())>4||0===i?sv.ceil(r):sv(r),r=rv.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else(\"W\"in o||\"U\"in o)&&(\"w\"in o||(o.w=\"u\"in o?o.u%7:\"W\"in o?1:0),i=\"Z\"in o?rg(ig(o.y)).getUTCDay():t(ig(o.y)).getDay(),o.m=0,o.d=\"W\"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return\"Z\"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,rg(o)):t(o)}}function T(e,t,n,r){for(var i,o,a=0,s=t.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in fg?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),w.x=_(n,w),w.X=_(r,w),w.c=_(t,w),{format:function(e){var t=_(e+=\"\",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+=\"\",ng);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+=\"\",w);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e,rg);return t.toString=function(){return e},t}}}var ag,sg,ug,cg,lg,fg={\"-\":\"\",_:\" \",0:\"0\"},dg=/^\\s*\\d+/,hg=/^%/,pg=/[\\\\^$*+?|[\\]().{}]/g;function vg(e,t,n){var r=e<0?\"-\":\"\",i=(r?-e:e)+\"\",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function gg(e){return e.replace(pg,\"\\\\$&\")}function mg(e){return new RegExp(\"^(?:\"+e.map(gg).join(\"|\")+\")\",\"i\")}function yg(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function bg(e,t,n){var r=dg.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function wg(e,t,n){var r=dg.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xg(e,t,n){var r=dg.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _g(e,t,n){var r=dg.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function kg(e,t,n){var r=dg.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Tg(e,t,n){var r=dg.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Cg(e,t,n){var r=dg.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $g(e,t,n){var r=/^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||\"00\")),n+r[0].length):-1}function Sg(e,t,n){var r=dg.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Eg(e,t,n){var r=dg.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Ag(e,t,n){var r=dg.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Mg(e,t,n){var r=dg.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ng(e,t,n){var r=dg.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Lg(e,t,n){var r=dg.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Rg(e,t,n){var r=dg.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Dg(e,t,n){var r=dg.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Pg(e,t,n){var r=hg.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Hg(e,t,n){var r=dg.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ig(e,t,n){var r=dg.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function jg(e,t){return vg(e.getDate(),t,2)}function Og(e,t){return vg(e.getHours(),t,2)}function zg(e,t){return vg(e.getHours()%12||12,t,2)}function qg(e,t){return vg(1+rv.count(Tv(e),e),t,3)}function Bg(e,t){return vg(e.getMilliseconds(),t,3)}function Ug(e,t){return Bg(e,t)+\"000\"}function Vg(e,t){return vg(e.getMonth()+1,t,2)}function Fg(e,t){return vg(e.getMinutes(),t,2)}function Gg(e,t){return vg(e.getSeconds(),t,2)}function Wg(e){var t=e.getDay();return 0===t?7:t}function Yg(e,t){return vg(av.count(Tv(e),e),t,2)}function Xg(e,t){var n=e.getDay();return e=n>=4||0===n?lv(e):lv.ceil(e),vg(lv.count(Tv(e),e)+(4===Tv(e).getDay()),t,2)}function Qg(e){return e.getDay()}function Jg(e,t){return vg(sv.count(Tv(e),e),t,2)}function Kg(e,t){return vg(e.getFullYear()%100,t,2)}function Zg(e,t){return vg(e.getFullYear()%1e4,t,4)}function em(e){var t=e.getTimezoneOffset();return(t>0?\"-\":(t*=-1,\"+\"))+vg(t/60|0,\"0\",2)+vg(t%60,\"0\",2)}function tm(e,t){return vg(e.getUTCDate(),t,2)}function nm(e,t){return vg(e.getUTCHours(),t,2)}function rm(e,t){return vg(e.getUTCHours()%12||12,t,2)}function im(e,t){return vg(1+Rv.count(eg(e),e),t,3)}function om(e,t){return vg(e.getUTCMilliseconds(),t,3)}function am(e,t){return om(e,t)+\"000\"}function sm(e,t){return vg(e.getUTCMonth()+1,t,2)}function um(e,t){return vg(e.getUTCMinutes(),t,2)}function cm(e,t){return vg(e.getUTCSeconds(),t,2)}function lm(e){var t=e.getUTCDay();return 0===t?7:t}function fm(e,t){return vg(Hv.count(eg(e),e),t,2)}function dm(e,t){var n=e.getUTCDay();return e=n>=4||0===n?zv(e):zv.ceil(e),vg(zv.count(eg(e),e)+(4===eg(e).getUTCDay()),t,2)}function hm(e){return e.getUTCDay()}function pm(e,t){return vg(Iv.count(eg(e),e),t,2)}function vm(e,t){return vg(e.getUTCFullYear()%100,t,2)}function gm(e,t){return vg(e.getUTCFullYear()%1e4,t,4)}function mm(){return\"+0000\"}function ym(){return\"%\"}function bm(e){return+e}function wm(e){return Math.floor(+e/1e3)}function xm(e){return ag=og(e),sg=ag.format,ug=ag.parse,cg=ag.utcFormat,lg=ag.utcParse,ag}xm({dateTime:\"%x, %X\",date:\"%-m/%-d/%Y\",time:\"%-I:%M:%S %p\",periods:[\"AM\",\"PM\"],days:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],shortDays:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],shortMonths:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]});var _m=Date.prototype.toISOString?function(e){return e.toISOString()}:cg(\"%Y-%m-%dT%H:%M:%S.%LZ\");var km=+new Date(\"2000-01-01T00:00:00.000Z\")?function(e){var t=new Date(e);return isNaN(t)?null:t}:lg(\"%Y-%m-%dT%H:%M:%S.%LZ\"),Tm=1e3,Cm=60*Tm,$m=60*Cm,Sm=24*$m,Em=7*Sm,Am=30*Sm,Mm=365*Sm;function Nm(e){return new Date(e)}function Lm(e){return e instanceof Date?+e:+new Date(+e)}function Rm(e,t,n,r,o,a,s,u,c){var l=wp(gp,Bn),f=l.invert,d=l.domain,h=c(\".%L\"),p=c(\":%S\"),v=c(\"%I:%M\"),g=c(\"%I %p\"),m=c(\"%a %d\"),y=c(\"%b %d\"),b=c(\"%B\"),w=c(\"%Y\"),x=[[s,1,Tm],[s,5,5*Tm],[s,15,15*Tm],[s,30,30*Tm],[a,1,Cm],[a,5,5*Cm],[a,15,15*Cm],[a,30,30*Cm],[o,1,$m],[o,3,3*$m],[o,6,6*$m],[o,12,12*$m],[r,1,Sm],[r,2,2*Sm],[n,1,Em],[t,1,Am],[t,3,3*Am],[e,1,Mm]];function _(i){return(s(i)<i?h:a(i)<i?p:o(i)<i?v:r(i)<i?g:t(i)<i?n(i)<i?m:y:e(i)<i?b:w)(i)}function k(t,n,r,o){if(null==t&&(t=10),\"number\"==typeof t){var a=Math.abs(r-n)/t,s=i(function(e){return e[2]}).right(x,a);s===x.length?(o=E(n/Mm,r/Mm,t),t=e):s?(o=(s=x[a/x[s-1][2]<x[s][2]/a?s-1:s])[1],t=s[0]):(o=Math.max(E(n,r,t),1),t=u)}return null==o?t:t.every(o)}return l.invert=function(e){return new Date(f(e))},l.domain=function(e){return arguments.length?d(sp.call(e,Lm)):d().map(Nm)},l.ticks=function(e,t){var n,r=d(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=k(e,i,o,t))?n.range(i,o+1):[],a?n.reverse():n},l.tickFormat=function(e,t){return null==t?_:c(t)},l.nice=function(e,t){var n=d();return(e=k(e,n[0],n[n.length-1],t))?d(Cp(n,e)):l},l.copy=function(){return bp(l,Rm(e,t,n,r,o,a,s,u,c))},l}var Dm=function(){return Rm(Tv,xv,av,rv,ev,Jp,Yp,Up,sg).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},Pm=function(){return Rm(eg,Jv,Hv,Rv,Mv,Sv,Yp,Up,cg).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])};function Hm(e){var t=0,n=1,r=!1;function i(i){var o=(i-t)/(n-t);return e(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.clamp=function(e){return arguments.length?(r=!!e,i):r},i.interpolator=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Hm(e).domain([t,n]).clamp(r)},_p(i)}var Im=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]=\"#\"+e.slice(6*r,6*++r);return n},jm=Im(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\"),Om=Im(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\"),zm=Im(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\"),qm=Im(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\"),Bm=Im(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\"),Um=Im(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\"),Vm=Im(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\"),Fm=Im(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\"),Gm=Im(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\"),Wm=function(e){return jn(e[e.length-1])},Ym=new Array(3).concat(\"d8b365f5f5f55ab4ac\",\"a6611adfc27d80cdc1018571\",\"a6611adfc27df5f5f580cdc1018571\",\"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\").map(Im),Xm=Wm(Ym),Qm=new Array(3).concat(\"af8dc3f7f7f77fbf7b\",\"7b3294c2a5cfa6dba0008837\",\"7b3294c2a5cff7f7f7a6dba0008837\",\"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\").map(Im),Jm=Wm(Qm),Km=new Array(3).concat(\"e9a3c9f7f7f7a1d76a\",\"d01c8bf1b6dab8e1864dac26\",\"d01c8bf1b6daf7f7f7b8e1864dac26\",\"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\").map(Im),Zm=Wm(Km),ey=new Array(3).concat(\"998ec3f7f7f7f1a340\",\"5e3c99b2abd2fdb863e66101\",\"5e3c99b2abd2f7f7f7fdb863e66101\",\"542788998ec3d8daebfee0b6f1a340b35806\",\"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\").map(Im),ty=Wm(ey),ny=new Array(3).concat(\"ef8a62f7f7f767a9cf\",\"ca0020f4a58292c5de0571b0\",\"ca0020f4a582f7f7f792c5de0571b0\",\"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\").map(Im),ry=Wm(ny),iy=new Array(3).concat(\"ef8a62ffffff999999\",\"ca0020f4a582bababa404040\",\"ca0020f4a582ffffffbababa404040\",\"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\").map(Im),oy=Wm(iy),ay=new Array(3).concat(\"fc8d59ffffbf91bfdb\",\"d7191cfdae61abd9e92c7bb6\",\"d7191cfdae61ffffbfabd9e92c7bb6\",\"d73027fc8d59fee090e0f3f891bfdb4575b4\",\"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\").map(Im),sy=Wm(ay),uy=new Array(3).concat(\"fc8d59ffffbf91cf60\",\"d7191cfdae61a6d96a1a9641\",\"d7191cfdae61ffffbfa6d96a1a9641\",\"d73027fc8d59fee08bd9ef8b91cf601a9850\",\"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\").map(Im),cy=Wm(uy),ly=new Array(3).concat(\"fc8d59ffffbf99d594\",\"d7191cfdae61abdda42b83ba\",\"d7191cfdae61ffffbfabdda42b83ba\",\"d53e4ffc8d59fee08be6f59899d5943288bd\",\"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\").map(Im),fy=Wm(ly),dy=new Array(3).concat(\"e5f5f999d8c92ca25f\",\"edf8fbb2e2e266c2a4238b45\",\"edf8fbb2e2e266c2a42ca25f006d2c\",\"edf8fbccece699d8c966c2a42ca25f006d2c\",\"edf8fbccece699d8c966c2a441ae76238b45005824\",\"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\").map(Im),hy=Wm(dy),py=new Array(3).concat(\"e0ecf49ebcda8856a7\",\"edf8fbb3cde38c96c688419d\",\"edf8fbb3cde38c96c68856a7810f7c\",\"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\").map(Im),vy=Wm(py),gy=new Array(3).concat(\"e0f3dba8ddb543a2ca\",\"f0f9e8bae4bc7bccc42b8cbe\",\"f0f9e8bae4bc7bccc443a2ca0868ac\",\"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\").map(Im),my=Wm(gy),yy=new Array(3).concat(\"fee8c8fdbb84e34a33\",\"fef0d9fdcc8afc8d59d7301f\",\"fef0d9fdcc8afc8d59e34a33b30000\",\"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\").map(Im),by=Wm(yy),wy=new Array(3).concat(\"ece2f0a6bddb1c9099\",\"f6eff7bdc9e167a9cf02818a\",\"f6eff7bdc9e167a9cf1c9099016c59\",\"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\").map(Im),xy=Wm(wy),_y=new Array(3).concat(\"ece7f2a6bddb2b8cbe\",\"f1eef6bdc9e174a9cf0570b0\",\"f1eef6bdc9e174a9cf2b8cbe045a8d\",\"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\").map(Im),ky=Wm(_y),Ty=new Array(3).concat(\"e7e1efc994c7dd1c77\",\"f1eef6d7b5d8df65b0ce1256\",\"f1eef6d7b5d8df65b0dd1c77980043\",\"f1eef6d4b9dac994c7df65b0dd1c77980043\",\"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\").map(Im),Cy=Wm(Ty),$y=new Array(3).concat(\"fde0ddfa9fb5c51b8a\",\"feebe2fbb4b9f768a1ae017e\",\"feebe2fbb4b9f768a1c51b8a7a0177\",\"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\").map(Im),Sy=Wm($y),Ey=new Array(3).concat(\"edf8b17fcdbb2c7fb8\",\"ffffcca1dab441b6c4225ea8\",\"ffffcca1dab441b6c42c7fb8253494\",\"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\").map(Im),Ay=Wm(Ey),My=new Array(3).concat(\"f7fcb9addd8e31a354\",\"ffffccc2e69978c679238443\",\"ffffccc2e69978c67931a354006837\",\"ffffccd9f0a3addd8e78c67931a354006837\",\"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\").map(Im),Ny=Wm(My),Ly=new Array(3).concat(\"fff7bcfec44fd95f0e\",\"ffffd4fed98efe9929cc4c02\",\"ffffd4fed98efe9929d95f0e993404\",\"ffffd4fee391fec44ffe9929d95f0e993404\",\"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\").map(Im),Ry=Wm(Ly),Dy=new Array(3).concat(\"ffeda0feb24cf03b20\",\"ffffb2fecc5cfd8d3ce31a1c\",\"ffffb2fecc5cfd8d3cf03b20bd0026\",\"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\").map(Im),Py=Wm(Dy),Hy=new Array(3).concat(\"deebf79ecae13182bd\",\"eff3ffbdd7e76baed62171b5\",\"eff3ffbdd7e76baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\").map(Im),Iy=Wm(Hy),jy=new Array(3).concat(\"e5f5e0a1d99b31a354\",\"edf8e9bae4b374c476238b45\",\"edf8e9bae4b374c47631a354006d2c\",\"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\").map(Im),Oy=Wm(jy),zy=new Array(3).concat(\"f0f0f0bdbdbd636363\",\"f7f7f7cccccc969696525252\",\"f7f7f7cccccc969696636363252525\",\"f7f7f7d9d9d9bdbdbd969696636363252525\",\"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\").map(Im),qy=Wm(zy),By=new Array(3).concat(\"efedf5bcbddc756bb1\",\"f2f0f7cbc9e29e9ac86a51a3\",\"f2f0f7cbc9e29e9ac8756bb154278f\",\"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\").map(Im),Uy=Wm(By),Vy=new Array(3).concat(\"fee0d2fc9272de2d26\",\"fee5d9fcae91fb6a4acb181d\",\"fee5d9fcae91fb6a4ade2d26a50f15\",\"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\").map(Im),Fy=Wm(Vy),Gy=new Array(3).concat(\"fee6cefdae6be6550d\",\"feeddefdbe85fd8d3cd94701\",\"feeddefdbe85fd8d3ce6550da63603\",\"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\").map(Im),Wy=Wm(Gy),Yy=mr($n(300,.5,0),$n(-240,.5,1)),Xy=mr($n(-100,.75,.35),$n(80,1.5,.8)),Qy=mr($n(260,.75,.35),$n(80,1.5,.8)),Jy=$n(),Ky=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Jy.h=360*e-100,Jy.s=1.5-1.5*t,Jy.l=.8-.9*t,Jy+\"\"},Zy=Ft(),eb=Math.PI/3,tb=2*Math.PI/3,nb=function(e){var t;return e=(.5-e)*Math.PI,Zy.r=255*(t=Math.sin(e))*t,Zy.g=255*(t=Math.sin(e+eb))*t,Zy.b=255*(t=Math.sin(e+tb))*t,Zy+\"\"};function rb(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var ib=rb(Im(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\")),ob=rb(Im(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\")),ab=rb(Im(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\")),sb=rb(Im(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\")),ub=function(e){return function(){return e}},cb=Math.abs,lb=Math.atan2,fb=Math.cos,db=Math.max,hb=Math.min,pb=Math.sin,vb=Math.sqrt,gb=1e-12,mb=Math.PI,yb=mb/2,bb=2*mb;function wb(e){return e>=1?yb:e<=-1?-yb:Math.asin(e)}function xb(e){return e.innerRadius}function _b(e){return e.outerRadius}function kb(e){return e.startAngle}function Tb(e){return e.endAngle}function Cb(e){return e&&e.padAngle}function $b(e,t,n,r,i,o,a){var s=e-n,u=t-r,c=(a?o:-o)/vb(s*s+u*u),l=c*u,f=-c*s,d=e+l,h=t+f,p=n+l,v=r+f,g=(d+p)/2,m=(h+v)/2,y=p-d,b=v-h,w=y*y+b*b,x=i-o,_=d*v-p*h,k=(b<0?-1:1)*vb(db(0,x*x*w-_*_)),T=(_*b-y*k)/w,C=(-_*y-b*k)/w,$=(_*b+y*k)/w,S=(-_*y+b*k)/w,E=T-g,A=C-m,M=$-g,N=S-m;return E*E+A*A>M*M+N*N&&(T=$,C=S),{cx:T,cy:C,x01:-l,y01:-f,x11:T*(i/x-1),y11:C*(i/x-1)}}var Sb=function(){var e=xb,t=_b,n=ub(0),r=null,i=kb,o=Tb,a=Cb,s=null;function u(){var u,c,l,f=+e.apply(this,arguments),d=+t.apply(this,arguments),h=i.apply(this,arguments)-yb,p=o.apply(this,arguments)-yb,v=cb(p-h),g=p>h;if(s||(s=u=qo()),d<f&&(c=d,d=f,f=c),d>gb)if(v>bb-gb)s.moveTo(d*fb(h),d*pb(h)),s.arc(0,0,d,h,p,!g),f>gb&&(s.moveTo(f*fb(p),f*pb(p)),s.arc(0,0,f,p,h,g));else{var m,y,b=h,w=p,x=h,_=p,k=v,T=v,C=a.apply(this,arguments)/2,$=C>gb&&(r?+r.apply(this,arguments):vb(f*f+d*d)),S=hb(cb(d-f)/2,+n.apply(this,arguments)),E=S,A=S;if($>gb){var M=wb($/f*pb(C)),N=wb($/d*pb(C));(k-=2*M)>gb?(x+=M*=g?1:-1,_-=M):(k=0,x=_=(h+p)/2),(T-=2*N)>gb?(b+=N*=g?1:-1,w-=N):(T=0,b=w=(h+p)/2)}var L=d*fb(b),R=d*pb(b),D=f*fb(_),P=f*pb(_);if(S>gb){var H=d*fb(w),I=d*pb(w),j=f*fb(x),O=f*pb(x);if(v<mb){var z=k>gb?function(e,t,n,r,i,o,a,s){var u=n-e,c=r-t,l=a-i,f=s-o,d=(l*(t-o)-f*(e-i))/(f*u-l*c);return[e+d*u,t+d*c]}(L,R,j,O,H,I,D,P):[D,P],q=L-z[0],B=R-z[1],U=H-z[0],V=I-z[1],F=1/pb(((l=(q*U+B*V)/(vb(q*q+B*B)*vb(U*U+V*V)))>1?0:l<-1?mb:Math.acos(l))/2),G=vb(z[0]*z[0]+z[1]*z[1]);E=hb(S,(f-G)/(F-1)),A=hb(S,(d-G)/(F+1))}}T>gb?A>gb?(m=$b(j,O,L,R,d,A,g),y=$b(H,I,D,P,d,A,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),A<S?s.arc(m.cx,m.cy,A,lb(m.y01,m.x01),lb(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,A,lb(m.y01,m.x01),lb(m.y11,m.x11),!g),s.arc(0,0,d,lb(m.cy+m.y11,m.cx+m.x11),lb(y.cy+y.y11,y.cx+y.x11),!g),s.arc(y.cx,y.cy,A,lb(y.y11,y.x11),lb(y.y01,y.x01),!g))):(s.moveTo(L,R),s.arc(0,0,d,b,w,!g)):s.moveTo(L,R),f>gb&&k>gb?E>gb?(m=$b(D,P,H,I,f,-E,g),y=$b(L,R,j,O,f,-E,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),E<S?s.arc(m.cx,m.cy,E,lb(m.y01,m.x01),lb(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,E,lb(m.y01,m.x01),lb(m.y11,m.x11),!g),s.arc(0,0,f,lb(m.cy+m.y11,m.cx+m.x11),lb(y.cy+y.y11,y.cx+y.x11),g),s.arc(y.cx,y.cy,E,lb(y.y11,y.x11),lb(y.y01,y.x01),!g))):s.arc(0,0,f,_,x,g):s.lineTo(D,P)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+\"\"||null}return u.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-mb/2;return[fb(r)*n,pb(r)*n]},u.innerRadius=function(t){return arguments.length?(e=\"function\"==typeof t?t:ub(+t),u):e},u.outerRadius=function(e){return arguments.length?(t=\"function\"==typeof e?e:ub(+e),u):t},u.cornerRadius=function(e){return arguments.length?(n=\"function\"==typeof e?e:ub(+e),u):n},u.padRadius=function(e){return arguments.length?(r=null==e?null:\"function\"==typeof e?e:ub(+e),u):r},u.startAngle=function(e){return arguments.length?(i=\"function\"==typeof e?e:ub(+e),u):i},u.endAngle=function(e){return arguments.length?(o=\"function\"==typeof e?e:ub(+e),u):o},u.padAngle=function(e){return arguments.length?(a=\"function\"==typeof e?e:ub(+e),u):a},u.context=function(e){return arguments.length?(s=null==e?null:e,u):s},u};function Eb(e){this._context=e}Eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Ab=function(e){return new Eb(e)};function Mb(e){return e[0]}function Nb(e){return e[1]}var Lb=function(){var e=Mb,t=Nb,n=ub(!0),r=null,i=Ab,o=null;function a(a){var s,u,c,l=a.length,f=!1;for(null==r&&(o=i(c=qo())),s=0;s<=l;++s)!(s<l&&n(u=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(u,s,a),+t(u,s,a));if(c)return o=null,c+\"\"||null}return a.x=function(t){return arguments.length?(e=\"function\"==typeof t?t:ub(+t),a):e},a.y=function(e){return arguments.length?(t=\"function\"==typeof e?e:ub(+e),a):t},a.defined=function(e){return arguments.length?(n=\"function\"==typeof e?e:ub(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a},Rb=function(){var e=Mb,t=null,n=ub(0),r=Nb,i=ub(!0),o=null,a=Ab,s=null;function u(u){var c,l,f,d,h,p=u.length,v=!1,g=new Array(p),m=new Array(p);for(null==o&&(s=a(h=qo())),c=0;c<=p;++c){if(!(c<p&&i(d=u[c],c,u))===v)if(v=!v)l=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=l;--f)s.point(g[f],m[f]);s.lineEnd(),s.areaEnd()}v&&(g[c]=+e(d,c,u),m[c]=+n(d,c,u),s.point(t?+t(d,c,u):g[c],r?+r(d,c,u):m[c]))}if(h)return s=null,h+\"\"||null}function c(){return Lb().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(e=\"function\"==typeof n?n:ub(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e=\"function\"==typeof t?t:ub(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:\"function\"==typeof e?e:ub(+e),u):t},u.y=function(e){return arguments.length?(n=\"function\"==typeof e?e:ub(+e),r=null,u):n},u.y0=function(e){return arguments.length?(n=\"function\"==typeof e?e:ub(+e),u):n},u.y1=function(e){return arguments.length?(r=null==e?null:\"function\"==typeof e?e:ub(+e),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(n)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(t).y(n)},u.defined=function(e){return arguments.length?(i=\"function\"==typeof e?e:ub(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u},Db=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},Pb=function(e){return e},Hb=function(){var e=Pb,t=Db,n=null,r=ub(0),i=ub(bb),o=ub(0);function a(a){var s,u,c,l,f,d=a.length,h=0,p=new Array(d),v=new Array(d),g=+r.apply(this,arguments),m=Math.min(bb,Math.max(-bb,i.apply(this,arguments)-g)),y=Math.min(Math.abs(m)/d,o.apply(this,arguments)),b=y*(m<0?-1:1);for(s=0;s<d;++s)(f=v[p[s]=s]=+e(a[s],s,a))>0&&(h+=f);for(null!=t?p.sort(function(e,n){return t(v[e],v[n])}):null!=n&&p.sort(function(e,t){return n(a[e],a[t])}),s=0,c=h?(m-d*b)/h:0;s<d;++s,g=l)u=p[s],l=g+((f=v[u])>0?f*c:0)+b,v[u]={data:a[u],index:s,value:f,startAngle:g,endAngle:l,padAngle:y};return v}return a.value=function(t){return arguments.length?(e=\"function\"==typeof t?t:ub(+t),a):e},a.sortValues=function(e){return arguments.length?(t=e,n=null,a):t},a.sort=function(e){return arguments.length?(n=e,t=null,a):n},a.startAngle=function(e){return arguments.length?(r=\"function\"==typeof e?e:ub(+e),a):r},a.endAngle=function(e){return arguments.length?(i=\"function\"==typeof e?e:ub(+e),a):i},a.padAngle=function(e){return arguments.length?(o=\"function\"==typeof e?e:ub(+e),a):o},a},Ib=Ob(Ab);function jb(e){this._curve=e}function Ob(e){function t(t){return new jb(e(t))}return t._curve=e,t}function zb(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(Ob(e)):t()._curve},e}jb.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var qb=function(){return zb(Lb().curve(Ib))},Bb=function(){var e=Rb().curve(Ib),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return zb(n())},delete e.lineX0,e.lineEndAngle=function(){return zb(r())},delete e.lineX1,e.lineInnerRadius=function(){return zb(i())},delete e.lineY0,e.lineOuterRadius=function(){return zb(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(Ob(e)):t()._curve},e},Ub=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]},Vb=Array.prototype.slice;function Fb(e){return e.source}function Gb(e){return e.target}function Wb(e){var t=Fb,n=Gb,r=Mb,i=Nb,o=null;function a(){var a,s=Vb.call(arguments),u=t.apply(this,s),c=n.apply(this,s);if(o||(o=a=qo()),e(o,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=c,s)),+i.apply(this,s)),a)return o=null,a+\"\"||null}return a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(e){return arguments.length?(n=e,a):n},a.x=function(e){return arguments.length?(r=\"function\"==typeof e?e:ub(+e),a):r},a.y=function(e){return arguments.length?(i=\"function\"==typeof e?e:ub(+e),a):i},a.context=function(e){return arguments.length?(o=null==e?null:e,a):o},a}function Yb(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function Xb(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function Qb(e,t,n,r,i){var o=Ub(t,n),a=Ub(t,n=(n+i)/2),s=Ub(r,n),u=Ub(r,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function Jb(){return Wb(Yb)}function Kb(){return Wb(Xb)}function Zb(){var e=Wb(Qb);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var ew={draw:function(e,t){var n=Math.sqrt(t/mb);e.moveTo(n,0),e.arc(0,0,n,0,bb)}},tw={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},nw=Math.sqrt(1/3),rw=2*nw,iw={draw:function(e,t){var n=Math.sqrt(t/rw),r=n*nw;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},ow=Math.sin(mb/10)/Math.sin(7*mb/10),aw=Math.sin(bb/10)*ow,sw=-Math.cos(bb/10)*ow,uw={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=aw*n,i=sw*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var a=bb*o/5,s=Math.cos(a),u=Math.sin(a);e.lineTo(u*n,-s*n),e.lineTo(s*r-u*i,u*r+s*i)}e.closePath()}},cw={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},lw=Math.sqrt(3),fw={draw:function(e,t){var n=-Math.sqrt(t/(3*lw));e.moveTo(0,2*n),e.lineTo(-lw*n,-n),e.lineTo(lw*n,-n),e.closePath()}},dw=Math.sqrt(3)/2,hw=1/Math.sqrt(12),pw=3*(hw/2+1),vw={draw:function(e,t){var n=Math.sqrt(t/pw),r=n/2,i=n*hw,o=r,a=n*hw+n,s=-o,u=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,u),e.lineTo(-.5*r-dw*i,dw*r+-.5*i),e.lineTo(-.5*o-dw*a,dw*o+-.5*a),e.lineTo(-.5*s-dw*u,dw*s+-.5*u),e.lineTo(-.5*r+dw*i,-.5*i-dw*r),e.lineTo(-.5*o+dw*a,-.5*a-dw*o),e.lineTo(-.5*s+dw*u,-.5*u-dw*s),e.closePath()}},gw=[ew,tw,iw,cw,uw,fw,vw],mw=function(){var e=ub(ew),t=ub(64),n=null;function r(){var r;if(n||(n=r=qo()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+\"\"||null}return r.type=function(t){return arguments.length?(e=\"function\"==typeof t?t:ub(t),r):e},r.size=function(e){return arguments.length?(t=\"function\"==typeof e?e:ub(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r},yw=function(){};function bw(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ww(e){this._context=e}ww.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bw(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var xw=function(e){return new ww(e)};function _w(e){this._context=e}_w.prototype={areaStart:yw,areaEnd:yw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bw(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var kw=function(e){return new _w(e)};function Tw(e){this._context=e}Tw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:bw(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Cw=function(e){return new Tw(e)};function $w(e,t){this._basis=new ww(e),this._beta=t}$w.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*a),this._beta*t[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Sw=function e(t){function n(e){return 1===t?new ww(e):new $w(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Ew(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Aw(e,t){this._context=e,this._k=(1-t)/6}Aw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ew(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ew(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Mw=function e(t){function n(e){return new Aw(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Nw(e,t){this._context=e,this._k=(1-t)/6}Nw.prototype={areaStart:yw,areaEnd:yw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ew(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Lw=function e(t){function n(e){return new Nw(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Rw(e,t){this._context=e,this._k=(1-t)/6}Rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ew(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Dw=function e(t){function n(e){return new Rw(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Pw(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>gb){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>gb){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/l,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Hw(e,t){this._context=e,this._alpha=t}Hw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Pw(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Iw=function e(t){function n(e){return t?new Hw(e,t):new Aw(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function jw(e,t){this._context=e,this._alpha=t}jw.prototype={areaStart:yw,areaEnd:yw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Pw(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ow=function e(t){function n(e){return t?new jw(e,t):new Nw(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function zw(e,t){this._context=e,this._alpha=t}zw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pw(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var qw=function e(t){function n(e){return t?new zw(e,t):new Rw(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Bw(e){this._context=e}Bw.prototype={areaStart:yw,areaEnd:yw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var Uw=function(e){return new Bw(e)};function Vw(e){return e<0?-1:1}function Fw(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Vw(o)+Vw(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Gw(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ww(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Yw(e){this._context=e}function Xw(e){this._context=new Qw(e)}function Qw(e){this._context=e}function Jw(e){return new Yw(e)}function Kw(e){return new Xw(e)}function Zw(e){this._context=e}function ex(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}Yw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ww(this,this._t0,Gw(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ww(this,Gw(this,n=Fw(this,e,t)),n);break;default:Ww(this,this._t0,n=Fw(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Xw.prototype=Object.create(Yw.prototype)).point=function(e,t){Yw.prototype.point.call(this,t,e)},Qw.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Zw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=ex(e),i=ex(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var tx=function(e){return new Zw(e)};function nx(e,t){this._context=e,this._t=t}nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var rx=function(e){return new nx(e,.5)};function ix(e){return new nx(e,0)}function ox(e){return new nx(e,1)}var ax=function(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},sx=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n};function ux(e,t){return e[t]}var cx=function(){var e=ub([]),t=sx,n=ax,r=ux;function i(i){var o,a,s=e.apply(this,arguments),u=i.length,c=s.length,l=new Array(c);for(o=0;o<c;++o){for(var f,d=s[o],h=l[o]=new Array(u),p=0;p<u;++p)h[p]=f=[0,+r(i[p],d,p,i)],f.data=i[p];h.key=d}for(o=0,a=t(l);o<c;++o)l[a[o]].index=o;return n(l,a),l}return i.keys=function(t){return arguments.length?(e=\"function\"==typeof t?t:ub(Vb.call(t)),i):e},i.value=function(e){return arguments.length?(r=\"function\"==typeof e?e:ub(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?sx:\"function\"==typeof e?e:ub(Vb.call(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?ax:e,i):n},i},lx=function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}ax(e,t)}},fx=function(e,t){if((s=e.length)>1)for(var n,r,i,o,a,s,u=0,c=e[t[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(i=(r=e[t[n]][u])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},dx=function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}ax(e,t)}},hx=function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=e[t[s]],f=l[a][1]||0,d=(f-(l[a-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];d+=(p[a][1]||0)-(p[a-1][1]||0)}u+=f,c+=d*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,ax(e,t)}},px=function(e){var t=e.map(vx);return sx(e).sort(function(e,n){return t[e]-t[n]})};function vx(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}var gx=function(e){return px(e).reverse()},mx=function(e){var t,n,r=e.length,i=e.map(vx),o=sx(e).sort(function(e,t){return i[t]-i[e]}),a=0,s=0,u=[],c=[];for(t=0;t<r;++t)n=o[t],a<s?(a+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)},yx=function(e){return sx(e).reverse()},bx=function(e){return function(){return e}};function wx(e){return e[0]}function xx(e){return e[1]}function _x(){this._=null}function kx(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Tx(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Cx(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function $x(e){for(;e.L;)e=e.L;return e}_x.prototype={constructor:_x,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=$x(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Tx(this,n),n=(e=n).U),n.C=!1,r.C=!0,Cx(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Cx(this,n),n=(e=n).U),n.C=!1,r.C=!0,Tx(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?$x(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,Tx(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Cx(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Tx(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Cx(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Tx(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Cx(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var Sx=_x;function Ex(e,t,n,r){var i=[null,null],o=Qx.push(i)-1;return i.left=e,i.right=t,n&&Mx(i,e,t,n),r&&Mx(i,t,e,r),Yx[e.index].halfedges.push(o),Yx[t.index].halfedges.push(o),i}function Ax(e,t,n){var r=[t,n];return r.left=e,r}function Mx(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function Nx(e,t,n,r,i){var o,a=e[0],s=e[1],u=a[0],c=a[1],l=0,f=1,d=s[0]-u,h=s[1]-c;if(o=t-u,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>l&&(l=o)}if(o=r-u,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<f&&(f=o)}if(o=n-c,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>l&&(l=o)}if(o=i-c,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<f&&(f=o)}return!(l>0||f<1)||(l>0&&(e[0]=[u+l*d,c+l*h]),f<1&&(e[1]=[u+f*d,c+f*h]),!0)}}}}}function Lx(e,t,n,r,i){var o=e[1];if(o)return!0;var a,s,u=e[0],c=e.left,l=e.right,f=c[0],d=c[1],h=l[0],p=l[1],v=(f+h)/2,g=(d+p)/2;if(p===d){if(v<t||v>=r)return;if(f>h){if(u){if(u[1]>=i)return}else u=[v,n];o=[v,i]}else{if(u){if(u[1]<n)return}else u=[v,i];o=[v,n]}}else if(s=g-(a=(f-h)/(p-d))*v,a<-1||a>1)if(f>h){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(d<p){if(u){if(u[0]>=r)return}else u=[t,a*t+s];o=[r,a*r+s]}else{if(u){if(u[0]<t)return}else u=[r,a*r+s];o=[t,a*t+s]}return e[0]=u,e[1]=o,!0}function Rx(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Dx(e,t){return t[+(t.left!==e.site)]}function Px(e,t){return t[+(t.left===e.site)]}var Hx,Ix=[];function jx(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,c=r[1]-s,l=o[0]-a,f=o[1]-s,d=2*(u*f-c*l);if(!(d>=-Kx)){var h=u*u+c*c,p=l*l+f*f,v=(f*h-c*p)/d,g=(u*p-l*h)/d,m=Ix.pop()||new function(){kx(this),this.x=this.y=this.arc=this.site=this.cy=null};m.arc=e,m.site=i,m.x=v+a,m.y=(m.cy=g+s)+Math.sqrt(v*v+g*g),e.circle=m;for(var y=null,b=Xx._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Xx.insert(y,m),y||(Hx=m)}}}}function Ox(e){var t=e.circle;t&&(t.P||(Hx=t.N),Xx.remove(t),Ix.push(t),kx(t),e.circle=null)}var zx=[];function qx(e){var t=zx.pop()||new function(){kx(this),this.edge=this.site=this.circle=null};return t.site=e,t}function Bx(e){Ox(e),Wx.remove(e),zx.push(e),kx(e)}function Ux(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],o=e.P,a=e.N,s=[e];Bx(e);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Jx&&Math.abs(r-u.circle.cy)<Jx;)o=u.P,s.unshift(u),Bx(u),u=o;s.unshift(u),Ox(u);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<Jx&&Math.abs(r-c.circle.cy)<Jx;)a=c.N,s.push(c),Bx(c),c=a;s.push(c),Ox(c);var l,f=s.length;for(l=1;l<f;++l)c=s[l],u=s[l-1],Mx(c.edge,u.site,c.site,i);u=s[0],(c=s[f-1]).edge=Ex(u.site,c.site,null,i),jx(u),jx(c)}function Vx(e){for(var t,n,r,i,o=e[0],a=e[1],s=Wx._;s;)if((r=Fx(s,a)-o)>Jx)s=s.L;else{if(!((i=o-Gx(s,a))>Jx)){r>-Jx?(t=s.P,n=s):i>-Jx?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){Yx[e.index]={site:e,halfedges:[]}}(e);var u=qx(e);if(Wx.insert(t,u),t||n){if(t===n)return Ox(t),n=qx(t.site),Wx.insert(u,n),u.edge=n.edge=Ex(t.site,u.site),jx(t),void jx(n);if(n){Ox(t),Ox(n);var c=t.site,l=c[0],f=c[1],d=e[0]-l,h=e[1]-f,p=n.site,v=p[0]-l,g=p[1]-f,m=2*(d*g-h*v),y=d*d+h*h,b=v*v+g*g,w=[(g*y-h*b)/m+l,(d*b-v*y)/m+f];Mx(n.edge,c,p,w),u.edge=Ex(c,e,null,w),n.edge=Ex(e,p,null,w),jx(t),jx(n)}else u.edge=Ex(t.site,u.site)}}function Fx(e,t){var n=e.site,r=n[0],i=n[1],o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-t;if(!c)return s;var l=s-r,f=1/o-1/c,d=l/c;return f?(-d+Math.sqrt(d*d-2*f*(l*l/(-2*c)-u+c/2+i-o/2)))/f+r:(r+s)/2}function Gx(e,t){var n=e.N;if(n)return Fx(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var Wx,Yx,Xx,Qx,Jx=1e-6,Kx=1e-12;function Zx(e,t){return t[1]-e[1]||t[0]-e[0]}function e_(e,t){var n,r,i,o=e.sort(Zx).pop();for(Qx=[],Yx=new Array(e.length),Wx=new Sx,Xx=new Sx;;)if(i=Hx,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Vx(o),n=o[0],r=o[1]),o=e.pop();else{if(!i)break;Ux(i.arc)}if(function(){for(var e,t,n,r,i=0,o=Yx.length;i<o;++i)if((e=Yx[i])&&(r=(t=e.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Rx(e,Qx[t[n]]);for(a.sort(function(e,t){return s[t]-s[e]}),n=0;n<r;++n)s[n]=t[a[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var a=+t[0][0],s=+t[0][1],u=+t[1][0],c=+t[1][1];!function(e,t,n,r){for(var i,o=Qx.length;o--;)Lx(i=Qx[o],e,t,n,r)&&Nx(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>Jx||Math.abs(i[0][1]-i[1][1])>Jx)||delete Qx[o]}(a,s,u,c),function(e,t,n,r){var i,o,a,s,u,c,l,f,d,h,p,v,g=Yx.length,m=!0;for(i=0;i<g;++i)if(o=Yx[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)Qx[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)p=(h=Px(o,Qx[u[s]]))[0],v=h[1],f=(l=Dx(o,Qx[u[++s%c]]))[0],d=l[1],(Math.abs(p-f)>Jx||Math.abs(v-d)>Jx)&&(u.splice(s,0,Qx.push(Ax(a,h,Math.abs(p-e)<Jx&&r-v>Jx?[e,Math.abs(f-e)<Jx?d:r]:Math.abs(v-r)<Jx&&n-p>Jx?[Math.abs(d-r)<Jx?f:n,r]:Math.abs(p-n)<Jx&&v-t>Jx?[n,Math.abs(f-n)<Jx?d:t]:Math.abs(v-t)<Jx&&p-e>Jx?[Math.abs(d-t)<Jx?f:e,t]:null))-1),++c);c&&(m=!1)}if(m){var y,b,w,x=1/0;for(i=0,m=null;i<g;++i)(o=Yx[i])&&(w=(y=(a=o.site)[0]-e)*y+(b=a[1]-t)*b)<x&&(x=w,m=o);if(m){var _=[e,t],k=[e,r],T=[n,r],C=[n,t];m.halfedges.push(Qx.push(Ax(a=m.site,_,k))-1,Qx.push(Ax(a,k,T))-1,Qx.push(Ax(a,T,C))-1,Qx.push(Ax(a,C,_))-1)}}for(i=0;i<g;++i)(o=Yx[i])&&(o.halfedges.length||delete Yx[i])}(a,s,u,c)}this.edges=Qx,this.cells=Yx,Wx=Xx=Qx=Yx=null}e_.prototype={constructor:e_,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(n){return Dx(t,e[n])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,c,l=n.site,f=-1,d=t[i[o-1]],h=d.left===l?d.right:d.left;++f<o;)a=h,h=(d=t[i[f]]).left===l?d.right:d.left,a&&h&&r<a.index&&r<h.index&&(u=a,c=h,((s=l)[0]-c[0])*(u[1]-s[1])-(s[0]-u[0])*(c[1]-s[1])<0)&&e.push([l.data,a.data,h.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=e-i.site[0],c=t-i.site[1],l=u*u+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=e-s[0],c=t-s[1],f=u*u+c*c;f<l&&(l=f,a=s.index)}})}while(null!==a);return o._found=r,null==n||l<=n*n?i.site:null}};var t_=function(){var e=wx,t=xx,n=null;function r(r){return new e_(r.map(function(n,i){var o=[Math.round(e(n,i,r)/Jx)*Jx,Math.round(t(n,i,r)/Jx)*Jx];return o.index=i,o.data=n,o}),n)}return r.polygons=function(e){return r(e).polygons()},r.links=function(e){return r(e).links()},r.triangles=function(e){return r(e).triangles()},r.x=function(t){return arguments.length?(e=\"function\"==typeof t?t:bx(+t),r):e},r.y=function(e){return arguments.length?(t=\"function\"==typeof e?e:bx(+e),r):t},r.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},n_=function(e){return function(){return e}};function r_(e,t,n){this.k=e,this.x=t,this.y=n}r_.prototype={constructor:r_,scale:function(e){return 1===e?this:new r_(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new r_(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return\"translate(\"+this.x+\",\"+this.y+\") scale(\"+this.k+\")\"}};var i_=new r_(1,0,0);function o_(e){return e.__zoom||i_}function a_(){We.stopImmediatePropagation()}o_.prototype=r_.prototype;var s_=function(){We.preventDefault(),We.stopImmediatePropagation()};function u_(){return!We.button}function c_(){var e,t,n=this;return n instanceof SVGElement?(e=(n=n.ownerSVGElement||n).width.baseVal.value,t=n.height.baseVal.value):(e=n.clientWidth,t=n.clientHeight),[[0,0],[e,t]]}function l_(){return this.__zoom||i_}function f_(){return-We.deltaY*(We.deltaMode?120:1)/500}function d_(){return\"ontouchstart\"in this}function h_(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var p_=function(){var e,t,n=u_,r=c_,i=h_,o=f_,a=d_,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,l=sr,f=[],d=de(\"start\",\"zoom\",\"end\"),h=500,p=150,v=0;function g(e){e.property(\"__zoom\",l_).on(\"wheel.zoom\",k).on(\"mousedown.zoom\",T).on(\"dblclick.zoom\",C).filter(a).on(\"touchstart.zoom\",$).on(\"touchmove.zoom\",S).on(\"touchend.zoom touchcancel.zoom\",E).style(\"touch-action\",\"none\").style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\")}function m(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new r_(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new r_(e.k,r,i)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n){e.on(\"start.zoom\",function(){x(this,arguments).start()}).on(\"interrupt.zoom end.zoom\",function(){x(this,arguments).end()}).tween(\"zoom\",function(){var e=arguments,i=x(this,e),o=r.apply(this,e),a=n||b(o),s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),u=this.__zoom,c=\"function\"==typeof t?t.apply(this,e):t,f=l(u.invert(a).concat(s/u.k),c.invert(a).concat(s/c.k));return function(e){if(1===e)e=c;else{var t=f(e),n=s/t[2];e=new r_(n,a[0]-t[0]*n,a[1]-t[1]*n)}i.zoom(null,e)}})}function x(e,t){for(var n,r=0,i=f.length;r<i;++r)if((n=f[r]).that===e)return n;return new _(e,t)}function _(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=r.apply(e,t)}function k(){if(n.apply(this,arguments)){var e=x(this,arguments),t=this.__zoom,r=Math.max(s[0],Math.min(s[1],t.k*Math.pow(2,o.apply(this,arguments)))),a=ft(this);if(e.wheel)e.mouse[0][0]===a[0]&&e.mouse[0][1]===a[1]||(e.mouse[1]=t.invert(e.mouse[0]=a)),clearTimeout(e.wheel);else{if(t.k===r)return;e.mouse=[a,t.invert(a)],ei(this),e.start()}s_(),e.wheel=setTimeout(function(){e.wheel=null,e.end()},p),e.zoom(\"mouse\",i(y(m(t,r),e.mouse[0],e.mouse[1]),e.extent,u))}}function T(){if(!t&&n.apply(this,arguments)){var e=x(this,arguments),r=it(We.view).on(\"mousemove.zoom\",function(){if(s_(),!e.moved){var t=We.clientX-a,n=We.clientY-s;e.moved=t*t+n*n>v}e.zoom(\"mouse\",i(y(e.that.__zoom,e.mouse[0]=ft(e.that),e.mouse[1]),e.extent,u))},!0).on(\"mouseup.zoom\",function(){r.on(\"mousemove.zoom mouseup.zoom\",null),yt(We.view,e.moved),s_(),e.end()},!0),o=ft(this),a=We.clientX,s=We.clientY;mt(We.view),a_(),e.mouse=[o,this.__zoom.invert(o)],ei(this),e.start()}}function C(){if(n.apply(this,arguments)){var e=this.__zoom,t=ft(this),o=e.invert(t),a=e.k*(We.shiftKey?.5:2),s=i(y(m(e,a),t,o),r.apply(this,arguments),u);s_(),c>0?it(this).transition().duration(c).call(w,s,t):it(this).call(g.transform,s)}}function $(){if(n.apply(this,arguments)){var t,r,i,o,a=x(this,arguments),s=We.changedTouches,u=s.length;for(a_(),r=0;r<u;++r)i=s[r],o=[o=ht(this,s,i.identifier),this.__zoom.invert(o),i.identifier],a.touch0?a.touch1||(a.touch1=o):(a.touch0=o,t=!0);if(e&&(e=clearTimeout(e),!a.touch1))return a.end(),void((o=it(this).on(\"dblclick.zoom\"))&&o.apply(this,arguments));t&&(e=setTimeout(function(){e=null},h),ei(this),a.start())}}function S(){var t,n,r,o,a=x(this,arguments),s=We.changedTouches,c=s.length;for(s_(),e&&(e=clearTimeout(e)),t=0;t<c;++t)n=s[t],r=ht(this,s,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var l=a.touch0[0],f=a.touch0[1],d=a.touch1[0],h=a.touch1[1],p=(p=d[0]-l[0])*p+(p=d[1]-l[1])*p,v=(v=h[0]-f[0])*v+(v=h[1]-f[1])*v;n=m(n,Math.sqrt(p/v)),r=[(l[0]+d[0])/2,(l[1]+d[1])/2],o=[(f[0]+h[0])/2,(f[1]+h[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom(\"touch\",i(y(n,r,o),a.extent,u))}function E(){var e,n,r=x(this,arguments),i=We.changedTouches,o=i.length;for(a_(),t&&clearTimeout(t),t=setTimeout(function(){t=null},h),e=0;e<o;++e)n=i[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return g.transform=function(e,t){var n=e.selection?e.selection():e;n.property(\"__zoom\",l_),e!==n?w(e,t):n.interrupt().each(function(){x(this,arguments).start().zoom(null,\"function\"==typeof t?t.apply(this,arguments):t).end()})},g.scaleBy=function(e,t){g.scaleTo(e,function(){return this.__zoom.k*(\"function\"==typeof t?t.apply(this,arguments):t)})},g.scaleTo=function(e,t){g.transform(e,function(){var e=r.apply(this,arguments),n=this.__zoom,o=b(e),a=n.invert(o),s=\"function\"==typeof t?t.apply(this,arguments):t;return i(y(m(n,s),o,a),e,u)})},g.translateBy=function(e,t,n){g.transform(e,function(){return i(this.__zoom.translate(\"function\"==typeof t?t.apply(this,arguments):t,\"function\"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),u)})},g.translateTo=function(e,t,n){g.transform(e,function(){var e=r.apply(this,arguments),o=this.__zoom,a=b(e);return i(i_.translate(a[0],a[1]).scale(o.k).translate(\"function\"==typeof t?-t.apply(this,arguments):-t,\"function\"==typeof n?-n.apply(this,arguments):-n),e,u)})},_.prototype={start:function(){return 1==++this.active&&(this.index=f.push(this)-1,this.emit(\"start\")),this},zoom:function(e,t){return this.mouse&&\"mouse\"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&\"touch\"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&\"touch\"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit(\"zoom\"),this},end:function(){return 0==--this.active&&(f.splice(this.index,1),this.index=-1,this.emit(\"end\")),this},emit:function(e){Ke(new function(e,t,n){this.target=e,this.type=t,this.transform=n}(g,e,this.that.__zoom),d.apply,d,[e,this.that,this.args])}},g.wheelDelta=function(e){return arguments.length?(o=\"function\"==typeof e?e:n_(+e),g):o},g.filter=function(e){return arguments.length?(n=\"function\"==typeof e?e:n_(!!e),g):n},g.touchable=function(e){return arguments.length?(a=\"function\"==typeof e?e:n_(!!e),g):a},g.extent=function(e){return arguments.length?(r=\"function\"==typeof e?e:n_([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),g):r},g.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],g):[s[0],s[1]]},g.translateExtent=function(e){return arguments.length?(u[0][0]=+e[0][0],u[1][0]=+e[1][0],u[0][1]=+e[0][1],u[1][1]=+e[1][1],g):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},g.constrain=function(e){return arguments.length?(i=e,g):i},g.duration=function(e){return arguments.length?(c=+e,g):c},g.interpolate=function(e){return arguments.length?(l=e,g):l},g.on=function(){var e=d.on.apply(d,arguments);return e===d?g:e},g.clickDistance=function(e){return arguments.length?(v=(e=+e)*e,g):Math.sqrt(v)},g};n.d(t,\"version\",function(){return\"5.4.0\"}),n.d(t,\"bisect\",function(){return u}),n.d(t,\"bisectRight\",function(){return a}),n.d(t,\"bisectLeft\",function(){return s}),n.d(t,\"ascending\",function(){return r}),n.d(t,\"bisector\",function(){return i}),n.d(t,\"cross\",function(){return f}),n.d(t,\"descending\",function(){return d}),n.d(t,\"deviation\",function(){return v}),n.d(t,\"extent\",function(){return g}),n.d(t,\"histogram\",function(){return M}),n.d(t,\"thresholdFreedmanDiaconis\",function(){return L}),n.d(t,\"thresholdScott\",function(){return R}),n.d(t,\"thresholdSturges\",function(){return A}),n.d(t,\"max\",function(){return D}),n.d(t,\"mean\",function(){return P}),n.d(t,\"median\",function(){return H}),n.d(t,\"merge\",function(){return I}),n.d(t,\"min\",function(){return j}),n.d(t,\"pairs\",function(){return c}),n.d(t,\"permute\",function(){return O}),n.d(t,\"quantile\",function(){return N}),n.d(t,\"range\",function(){return _}),n.d(t,\"scan\",function(){return z}),n.d(t,\"shuffle\",function(){return q}),n.d(t,\"sum\",function(){return B}),n.d(t,\"ticks\",function(){return $}),n.d(t,\"tickIncrement\",function(){return S}),n.d(t,\"tickStep\",function(){return E}),n.d(t,\"transpose\",function(){return U}),n.d(t,\"variance\",function(){return p}),n.d(t,\"zip\",function(){return F}),n.d(t,\"axisTop\",function(){return re}),n.d(t,\"axisRight\",function(){return ie}),n.d(t,\"axisBottom\",function(){return oe}),n.d(t,\"axisLeft\",function(){return ae}),n.d(t,\"brush\",function(){return Co}),n.d(t,\"brushX\",function(){return ko}),n.d(t,\"brushY\",function(){return To}),n.d(t,\"brushSelection\",function(){return _o}),n.d(t,\"chord\",function(){return Ro}),n.d(t,\"ribbon\",function(){return Wo}),n.d(t,\"nest\",function(){return Jo}),n.d(t,\"set\",function(){return oa}),n.d(t,\"map\",function(){return Qo}),n.d(t,\"keys\",function(){return aa}),n.d(t,\"values\",function(){return sa}),n.d(t,\"entries\",function(){return ua}),n.d(t,\"color\",function(){return qt}),n.d(t,\"rgb\",function(){return Ft}),n.d(t,\"hsl\",function(){return Xt}),n.d(t,\"lab\",function(){return ln}),n.d(t,\"hcl\",function(){return yn}),n.d(t,\"lch\",function(){return mn}),n.d(t,\"gray\",function(){return cn}),n.d(t,\"cubehelix\",function(){return $n}),n.d(t,\"contours\",function(){return ya}),n.d(t,\"contourDensity\",function(){return ka}),n.d(t,\"dispatch\",function(){return de}),n.d(t,\"drag\",function(){return Ct}),n.d(t,\"dragDisable\",function(){return mt}),n.d(t,\"dragEnable\",function(){return yt}),n.d(t,\"dsvFormat\",function(){return Ma}),n.d(t,\"csvParse\",function(){return La}),n.d(t,\"csvParseRows\",function(){return Ra}),n.d(t,\"csvFormat\",function(){return Da}),n.d(t,\"csvFormatRows\",function(){return Pa}),n.d(t,\"tsvParse\",function(){return Ia}),n.d(t,\"tsvParseRows\",function(){return ja}),n.d(t,\"tsvFormat\",function(){return Oa}),n.d(t,\"tsvFormatRows\",function(){return za}),n.d(t,\"easeLinear\",function(){return ci}),n.d(t,\"easeQuad\",function(){return di}),n.d(t,\"easeQuadIn\",function(){return li}),n.d(t,\"easeQuadOut\",function(){return fi}),n.d(t,\"easeQuadInOut\",function(){return di}),n.d(t,\"easeCubic\",function(){return vi}),n.d(t,\"easeCubicIn\",function(){return hi}),n.d(t,\"easeCubicOut\",function(){return pi}),n.d(t,\"easeCubicInOut\",function(){return vi}),n.d(t,\"easePoly\",function(){return yi}),n.d(t,\"easePolyIn\",function(){return gi}),n.d(t,\"easePolyOut\",function(){return mi}),n.d(t,\"easePolyInOut\",function(){return yi}),n.d(t,\"easeSin\",function(){return ki}),n.d(t,\"easeSinIn\",function(){return xi}),n.d(t,\"easeSinOut\",function(){return _i}),n.d(t,\"easeSinInOut\",function(){return ki}),n.d(t,\"easeExp\",function(){return $i}),n.d(t,\"easeExpIn\",function(){return Ti}),n.d(t,\"easeExpOut\",function(){return Ci}),n.d(t,\"easeExpInOut\",function(){return $i}),n.d(t,\"easeCircle\",function(){return Ai}),n.d(t,\"easeCircleIn\",function(){return Si}),n.d(t,\"easeCircleOut\",function(){return Ei}),n.d(t,\"easeCircleInOut\",function(){return Ai}),n.d(t,\"easeBounce\",function(){return qi}),n.d(t,\"easeBounceIn\",function(){return zi}),n.d(t,\"easeBounceOut\",function(){return qi}),n.d(t,\"easeBounceInOut\",function(){return Bi}),n.d(t,\"easeBack\",function(){return Fi}),n.d(t,\"easeBackIn\",function(){return Ui}),n.d(t,\"easeBackOut\",function(){return Vi}),n.d(t,\"easeBackInOut\",function(){return Fi}),n.d(t,\"easeElastic\",function(){return Yi}),n.d(t,\"easeElasticIn\",function(){return Wi}),n.d(t,\"easeElasticOut\",function(){return Yi}),n.d(t,\"easeElasticInOut\",function(){return Xi}),n.d(t,\"blob\",function(){return Ba}),n.d(t,\"buffer\",function(){return Va}),n.d(t,\"dsv\",function(){return Ya}),n.d(t,\"csv\",function(){return Xa}),n.d(t,\"tsv\",function(){return Qa}),n.d(t,\"image\",function(){return Ja}),n.d(t,\"json\",function(){return Za}),n.d(t,\"text\",function(){return Ga}),n.d(t,\"xml\",function(){return ts}),n.d(t,\"html\",function(){return ns}),n.d(t,\"svg\",function(){return rs}),n.d(t,\"forceCenter\",function(){return is}),n.d(t,\"forceCollide\",function(){return ms}),n.d(t,\"forceLink\",function(){return ws}),n.d(t,\"forceManyBody\",function(){return $s}),n.d(t,\"forceRadial\",function(){return Ss}),n.d(t,\"forceSimulation\",function(){return Cs}),n.d(t,\"forceX\",function(){return Es}),n.d(t,\"forceY\",function(){return As}),n.d(t,\"formatDefaultLocale\",function(){return Fs}),n.d(t,\"format\",function(){return Is}),n.d(t,\"formatPrefix\",function(){return js}),n.d(t,\"formatLocale\",function(){return Vs}),n.d(t,\"formatSpecifier\",function(){return Rs}),n.d(t,\"precisionFixed\",function(){return Gs}),n.d(t,\"precisionPrefix\",function(){return Ws}),n.d(t,\"precisionRound\",function(){return Ys}),n.d(t,\"geoArea\",function(){return zu}),n.d(t,\"geoBounds\",function(){return Lc}),n.d(t,\"geoCentroid\",function(){return Vc}),n.d(t,\"geoCircle\",function(){return tl}),n.d(t,\"geoClipAntimeridian\",function(){return dl}),n.d(t,\"geoClipCircle\",function(){return hl}),n.d(t,\"geoClipExtent\",function(){return xl}),n.d(t,\"geoClipRectangle\",function(){return ml}),n.d(t,\"geoContains\",function(){return Ol}),n.d(t,\"geoDistance\",function(){return Ml}),n.d(t,\"geoGraticule\",function(){return Bl}),n.d(t,\"geoGraticule10\",function(){return Ul}),n.d(t,\"geoInterpolate\",function(){return Yl}),n.d(t,\"geoLength\",function(){return Sl}),n.d(t,\"geoPath\",function(){return Wf}),n.d(t,\"geoAlbers\",function(){return dd}),n.d(t,\"geoAlbersUsa\",function(){return hd}),n.d(t,\"geoAzimuthalEqualArea\",function(){return md}),n.d(t,\"geoAzimuthalEqualAreaRaw\",function(){return gd}),n.d(t,\"geoAzimuthalEquidistant\",function(){return bd}),n.d(t,\"geoAzimuthalEquidistantRaw\",function(){return yd}),n.d(t,\"geoConicConformal\",function(){return Cd}),n.d(t,\"geoConicConformalRaw\",function(){return Td}),n.d(t,\"geoConicEqualArea\",function(){return fd}),n.d(t,\"geoConicEqualAreaRaw\",function(){return ld}),n.d(t,\"geoConicEquidistant\",function(){return Ad}),n.d(t,\"geoConicEquidistantRaw\",function(){return Ed}),n.d(t,\"geoEquirectangular\",function(){return Sd}),n.d(t,\"geoEquirectangularRaw\",function(){return $d}),n.d(t,\"geoGnomonic\",function(){return Nd}),n.d(t,\"geoGnomonicRaw\",function(){return Md}),n.d(t,\"geoIdentity\",function(){return Rd}),n.d(t,\"geoProjection\",function(){return sd}),n.d(t,\"geoProjectionMutator\",function(){return ud}),n.d(t,\"geoMercator\",function(){return xd}),n.d(t,\"geoMercatorRaw\",function(){return wd}),n.d(t,\"geoNaturalEarth1\",function(){return Pd}),n.d(t,\"geoNaturalEarth1Raw\",function(){return Dd}),n.d(t,\"geoOrthographic\",function(){return Id}),n.d(t,\"geoOrthographicRaw\",function(){return Hd}),n.d(t,\"geoStereographic\",function(){return Od}),n.d(t,\"geoStereographicRaw\",function(){return jd}),n.d(t,\"geoTransverseMercator\",function(){return qd}),n.d(t,\"geoTransverseMercatorRaw\",function(){return zd}),n.d(t,\"geoRotation\",function(){return Kc}),n.d(t,\"geoStream\",function(){return Lu}),n.d(t,\"geoTransform\",function(){return Yf}),n.d(t,\"cluster\",function(){return Fd}),n.d(t,\"hierarchy\",function(){return Wd}),n.d(t,\"pack\",function(){return mh}),n.d(t,\"packSiblings\",function(){return dh}),n.d(t,\"packEnclose\",function(){return Zd}),n.d(t,\"partition\",function(){return kh}),n.d(t,\"stratify\",function(){return Ah}),n.d(t,\"tree\",function(){return Hh}),n.d(t,\"treemap\",function(){return qh}),n.d(t,\"treemapBinary\",function(){return Bh}),n.d(t,\"treemapDice\",function(){return _h}),n.d(t,\"treemapSlice\",function(){return Ih}),n.d(t,\"treemapSliceDice\",function(){return Uh}),n.d(t,\"treemapSquarify\",function(){return zh}),n.d(t,\"treemapResquarify\",function(){return Vh}),n.d(t,\"interpolate\",function(){return Jn}),n.d(t,\"interpolateArray\",function(){return zn}),n.d(t,\"interpolateBasis\",function(){return An}),n.d(t,\"interpolateBasisClosed\",function(){return Mn}),n.d(t,\"interpolateDate\",function(){return qn}),n.d(t,\"interpolateNumber\",function(){return Bn}),n.d(t,\"interpolateObject\",function(){return Un}),n.d(t,\"interpolateRound\",function(){return Kn}),n.d(t,\"interpolateString\",function(){return Qn}),n.d(t,\"interpolateTransformCss\",function(){return rr}),n.d(t,\"interpolateTransformSvg\",function(){return ir}),n.d(t,\"interpolateZoom\",function(){return sr}),n.d(t,\"interpolateRgb\",function(){return Hn}),n.d(t,\"interpolateRgbBasis\",function(){return jn}),n.d(t,\"interpolateRgbBasisClosed\",function(){return On}),n.d(t,\"interpolateHsl\",function(){return cr}),n.d(t,\"interpolateHslLong\",function(){return lr}),n.d(t,\"interpolateLab\",function(){return fr}),n.d(t,\"interpolateHcl\",function(){return hr}),n.d(t,\"interpolateHclLong\",function(){return pr}),n.d(t,\"interpolateCubehelix\",function(){return gr}),n.d(t,\"interpolateCubehelixLong\",function(){return mr}),n.d(t,\"piecewise\",function(){return yr}),n.d(t,\"quantize\",function(){return xr}),n.d(t,\"path\",function(){return qo}),n.d(t,\"polygonArea\",function(){return Fh}),n.d(t,\"polygonCentroid\",function(){return Gh}),n.d(t,\"polygonHull\",function(){return Qh}),n.d(t,\"polygonContains\",function(){return Jh}),n.d(t,\"polygonLength\",function(){return Kh}),n.d(t,\"quadtree\",function(){return fs}),n.d(t,\"randomUniform\",function(){return ep}),n.d(t,\"randomNormal\",function(){return tp}),n.d(t,\"randomLogNormal\",function(){return np}),n.d(t,\"randomBates\",function(){return ip}),n.d(t,\"randomIrwinHall\",function(){return rp}),n.d(t,\"randomExponential\",function(){return op}),n.d(t,\"scaleBand\",function(){return fp}),n.d(t,\"scalePoint\",function(){return dp}),n.d(t,\"scaleIdentity\",function(){return Tp}),n.d(t,\"scaleLinear\",function(){return kp}),n.d(t,\"scaleLog\",function(){return Lp}),n.d(t,\"scaleOrdinal\",function(){return lp}),n.d(t,\"scaleImplicit\",function(){return cp}),n.d(t,\"scalePow\",function(){return Dp}),n.d(t,\"scaleSqrt\",function(){return Pp}),n.d(t,\"scaleQuantile\",function(){return Hp}),n.d(t,\"scaleQuantize\",function(){return Ip}),n.d(t,\"scaleThreshold\",function(){return jp}),n.d(t,\"scaleTime\",function(){return Dm}),n.d(t,\"scaleUtc\",function(){return Pm}),n.d(t,\"scaleSequential\",function(){return Hm}),n.d(t,\"schemeCategory10\",function(){return jm}),n.d(t,\"schemeAccent\",function(){return Om}),n.d(t,\"schemeDark2\",function(){return zm}),n.d(t,\"schemePaired\",function(){return qm}),n.d(t,\"schemePastel1\",function(){return Bm}),n.d(t,\"schemePastel2\",function(){return Um}),n.d(t,\"schemeSet1\",function(){return Vm}),n.d(t,\"schemeSet2\",function(){return Fm}),n.d(t,\"schemeSet3\",function(){return Gm}),n.d(t,\"interpolateBrBG\",function(){return Xm}),n.d(t,\"schemeBrBG\",function(){return Ym}),n.d(t,\"interpolatePRGn\",function(){return Jm}),n.d(t,\"schemePRGn\",function(){return Qm}),n.d(t,\"interpolatePiYG\",function(){return Zm}),n.d(t,\"schemePiYG\",function(){return Km}),n.d(t,\"interpolatePuOr\",function(){return ty}),n.d(t,\"schemePuOr\",function(){return ey}),n.d(t,\"interpolateRdBu\",function(){return ry}),n.d(t,\"schemeRdBu\",function(){return ny}),n.d(t,\"interpolateRdGy\",function(){return oy}),n.d(t,\"schemeRdGy\",function(){return iy}),n.d(t,\"interpolateRdYlBu\",function(){return sy}),n.d(t,\"schemeRdYlBu\",function(){return ay}),n.d(t,\"interpolateRdYlGn\",function(){return cy}),n.d(t,\"schemeRdYlGn\",function(){return uy}),n.d(t,\"interpolateSpectral\",function(){return fy}),n.d(t,\"schemeSpectral\",function(){return ly}),n.d(t,\"interpolateBuGn\",function(){return hy}),n.d(t,\"schemeBuGn\",function(){return dy}),n.d(t,\"interpolateBuPu\",function(){return vy}),n.d(t,\"schemeBuPu\",function(){return py}),n.d(t,\"interpolateGnBu\",function(){return my}),n.d(t,\"schemeGnBu\",function(){return gy}),n.d(t,\"interpolateOrRd\",function(){return by}),n.d(t,\"schemeOrRd\",function(){return yy}),n.d(t,\"interpolatePuBuGn\",function(){return xy}),n.d(t,\"schemePuBuGn\",function(){return wy}),n.d(t,\"interpolatePuBu\",function(){return ky}),n.d(t,\"schemePuBu\",function(){return _y}),n.d(t,\"interpolatePuRd\",function(){return Cy}),n.d(t,\"schemePuRd\",function(){return Ty}),n.d(t,\"interpolateRdPu\",function(){return Sy}),n.d(t,\"schemeRdPu\",function(){return $y}),n.d(t,\"interpolateYlGnBu\",function(){return Ay}),n.d(t,\"schemeYlGnBu\",function(){return Ey}),n.d(t,\"interpolateYlGn\",function(){return Ny}),n.d(t,\"schemeYlGn\",function(){return My}),n.d(t,\"interpolateYlOrBr\",function(){return Ry}),n.d(t,\"schemeYlOrBr\",function(){return Ly}),n.d(t,\"interpolateYlOrRd\",function(){return Py}),n.d(t,\"schemeYlOrRd\",function(){return Dy}),n.d(t,\"interpolateBlues\",function(){return Iy}),n.d(t,\"schemeBlues\",function(){return Hy}),n.d(t,\"interpolateGreens\",function(){return Oy}),n.d(t,\"schemeGreens\",function(){return jy}),n.d(t,\"interpolateGreys\",function(){return qy}),n.d(t,\"schemeGreys\",function(){return zy}),n.d(t,\"interpolatePurples\",function(){return Uy}),n.d(t,\"schemePurples\",function(){return By}),n.d(t,\"interpolateReds\",function(){return Fy}),n.d(t,\"schemeReds\",function(){return Vy}),n.d(t,\"interpolateOranges\",function(){return Wy}),n.d(t,\"schemeOranges\",function(){return Gy}),n.d(t,\"interpolateCubehelixDefault\",function(){return Yy}),n.d(t,\"interpolateRainbow\",function(){return Ky}),n.d(t,\"interpolateWarm\",function(){return Xy}),n.d(t,\"interpolateCool\",function(){return Qy}),n.d(t,\"interpolateSinebow\",function(){return nb}),n.d(t,\"interpolateViridis\",function(){return ib}),n.d(t,\"interpolateMagma\",function(){return ob}),n.d(t,\"interpolateInferno\",function(){return ab}),n.d(t,\"interpolatePlasma\",function(){return sb}),n.d(t,\"create\",function(){return ot}),n.d(t,\"creator\",function(){return ge}),n.d(t,\"local\",function(){return st}),n.d(t,\"matcher\",function(){return Te}),n.d(t,\"mouse\",function(){return ft}),n.d(t,\"namespace\",function(){return ve}),n.d(t,\"namespaces\",function(){return pe}),n.d(t,\"clientPoint\",function(){return lt}),n.d(t,\"select\",function(){return it}),n.d(t,\"selectAll\",function(){return dt}),n.d(t,\"selection\",function(){return rt}),n.d(t,\"selector\",function(){return ye}),n.d(t,\"selectorAll\",function(){return we}),n.d(t,\"style\",function(){return Le}),n.d(t,\"touch\",function(){return ht}),n.d(t,\"touches\",function(){return pt}),n.d(t,\"window\",function(){return Ne}),n.d(t,\"event\",function(){return We}),n.d(t,\"customEvent\",function(){return Ke}),n.d(t,\"arc\",function(){return Sb}),n.d(t,\"area\",function(){return Rb}),n.d(t,\"line\",function(){return Lb}),n.d(t,\"pie\",function(){return Hb}),n.d(t,\"areaRadial\",function(){return Bb}),n.d(t,\"radialArea\",function(){return Bb}),n.d(t,\"lineRadial\",function(){return qb}),n.d(t,\"radialLine\",function(){return qb}),n.d(t,\"pointRadial\",function(){return Ub}),n.d(t,\"linkHorizontal\",function(){return Jb}),n.d(t,\"linkVertical\",function(){return Kb}),n.d(t,\"linkRadial\",function(){return Zb}),n.d(t,\"symbol\",function(){return mw}),n.d(t,\"symbols\",function(){return gw}),n.d(t,\"symbolCircle\",function(){return ew}),n.d(t,\"symbolCross\",function(){return tw}),n.d(t,\"symbolDiamond\",function(){return iw}),n.d(t,\"symbolSquare\",function(){return cw}),n.d(t,\"symbolStar\",function(){return uw}),n.d(t,\"symbolTriangle\",function(){return fw}),n.d(t,\"symbolWye\",function(){return vw}),n.d(t,\"curveBasisClosed\",function(){return kw}),n.d(t,\"curveBasisOpen\",function(){return Cw}),n.d(t,\"curveBasis\",function(){return xw}),n.d(t,\"curveBundle\",function(){return Sw}),n.d(t,\"curveCardinalClosed\",function(){return Lw}),n.d(t,\"curveCardinalOpen\",function(){return Dw}),n.d(t,\"curveCardinal\",function(){return Mw}),n.d(t,\"curveCatmullRomClosed\",function(){return Ow}),n.d(t,\"curveCatmullRomOpen\",function(){return qw}),n.d(t,\"curveCatmullRom\",function(){return Iw}),n.d(t,\"curveLinearClosed\",function(){return Uw}),n.d(t,\"curveLinear\",function(){return Ab}),n.d(t,\"curveMonotoneX\",function(){return Jw}),n.d(t,\"curveMonotoneY\",function(){return Kw}),n.d(t,\"curveNatural\",function(){return tx}),n.d(t,\"curveStep\",function(){return rx}),n.d(t,\"curveStepAfter\",function(){return ox}),n.d(t,\"curveStepBefore\",function(){return ix}),n.d(t,\"stack\",function(){return cx}),n.d(t,\"stackOffsetExpand\",function(){return lx}),n.d(t,\"stackOffsetDiverging\",function(){return fx}),n.d(t,\"stackOffsetNone\",function(){return ax}),n.d(t,\"stackOffsetSilhouette\",function(){return dx}),n.d(t,\"stackOffsetWiggle\",function(){return hx}),n.d(t,\"stackOrderAscending\",function(){return px}),n.d(t,\"stackOrderDescending\",function(){return gx}),n.d(t,\"stackOrderInsideOut\",function(){return mx}),n.d(t,\"stackOrderNone\",function(){return sx}),n.d(t,\"stackOrderReverse\",function(){return yx}),n.d(t,\"timeInterval\",function(){return qp}),n.d(t,\"timeMillisecond\",function(){return Up}),n.d(t,\"timeMilliseconds\",function(){return Vp}),n.d(t,\"utcMillisecond\",function(){return Up}),n.d(t,\"utcMilliseconds\",function(){return Vp}),n.d(t,\"timeSecond\",function(){return Yp}),n.d(t,\"timeSeconds\",function(){return Xp}),n.d(t,\"utcSecond\",function(){return Yp}),n.d(t,\"utcSeconds\",function(){return Xp}),n.d(t,\"timeMinute\",function(){return Jp}),n.d(t,\"timeMinutes\",function(){return Kp}),n.d(t,\"timeHour\",function(){return ev}),n.d(t,\"timeHours\",function(){return tv}),n.d(t,\"timeDay\",function(){return rv}),n.d(t,\"timeDays\",function(){return iv}),n.d(t,\"timeWeek\",function(){return av}),n.d(t,\"timeWeeks\",function(){return hv}),n.d(t,\"timeSunday\",function(){return av}),n.d(t,\"timeSundays\",function(){return hv}),n.d(t,\"timeMonday\",function(){return sv}),n.d(t,\"timeMondays\",function(){return pv}),n.d(t,\"timeTuesday\",function(){return uv}),n.d(t,\"timeTuesdays\",function(){return vv}),n.d(t,\"timeWednesday\",function(){return cv}),n.d(t,\"timeWednesdays\",function(){return gv}),n.d(t,\"timeThursday\",function(){return lv}),n.d(t,\"timeThursdays\",function(){return mv}),n.d(t,\"timeFriday\",function(){return fv}),n.d(t,\"timeFridays\",function(){return yv}),n.d(t,\"timeSaturday\",function(){return dv}),n.d(t,\"timeSaturdays\",function(){return bv}),n.d(t,\"timeMonth\",function(){return xv}),n.d(t,\"timeMonths\",function(){return _v}),n.d(t,\"timeYear\",function(){return Tv}),n.d(t,\"timeYears\",function(){return Cv}),n.d(t,\"utcMinute\",function(){return Sv}),n.d(t,\"utcMinutes\",function(){return Ev}),n.d(t,\"utcHour\",function(){return Mv}),n.d(t,\"utcHours\",function(){return Nv}),n.d(t,\"utcDay\",function(){return Rv}),n.d(t,\"utcDays\",function(){return Dv}),n.d(t,\"utcWeek\",function(){return Hv}),n.d(t,\"utcWeeks\",function(){return Uv}),n.d(t,\"utcSunday\",function(){return Hv}),n.d(t,\"utcSundays\",function(){return Uv}),n.d(t,\"utcMonday\",function(){return Iv}),n.d(t,\"utcMondays\",function(){return Vv}),n.d(t,\"utcTuesday\",function(){return jv}),n.d(t,\"utcTuesdays\",function(){return Fv}),n.d(t,\"utcWednesday\",function(){return Ov}),n.d(t,\"utcWednesdays\",function(){return Gv}),n.d(t,\"utcThursday\",function(){return zv}),n.d(t,\"utcThursdays\",function(){return Wv}),n.d(t,\"utcFriday\",function(){return qv}),n.d(t,\"utcFridays\",function(){return Yv}),n.d(t,\"utcSaturday\",function(){return Bv}),n.d(t,\"utcSaturdays\",function(){return Xv}),n.d(t,\"utcMonth\",function(){return Jv}),n.d(t,\"utcMonths\",function(){return Kv}),n.d(t,\"utcYear\",function(){return eg}),n.d(t,\"utcYears\",function(){return tg}),n.d(t,\"timeFormatDefaultLocale\",function(){return xm}),n.d(t,\"timeFormat\",function(){return sg}),n.d(t,\"timeParse\",function(){return ug}),n.d(t,\"utcFormat\",function(){return cg}),n.d(t,\"utcParse\",function(){return lg}),n.d(t,\"timeFormatLocale\",function(){return og}),n.d(t,\"isoFormat\",function(){return _m}),n.d(t,\"isoParse\",function(){return km}),n.d(t,\"now\",function(){return Nr}),n.d(t,\"timer\",function(){return Dr}),n.d(t,\"timerFlush\",function(){return Pr}),n.d(t,\"timeout\",function(){return Or}),n.d(t,\"interval\",function(){return zr}),n.d(t,\"transition\",function(){return ai}),n.d(t,\"active\",function(){return Zi}),n.d(t,\"interrupt\",function(){return ei}),n.d(t,\"voronoi\",function(){return t_}),n.d(t,\"zoom\",function(){return p_}),n.d(t,\"zoomTransform\",function(){return o_}),n.d(t,\"zoomIdentity\",function(){return i_})},function(e,t,n){e.exports=n(196)},function(e,t,n){e.exports=n(198)},function(e,t,n){var r=n(38),i=n(127),o=n(92)(\"IE_PROTO\"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:\"function\"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(218);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},,function(e,t,n){\"use strict\";var r=n(34),i=n(38),o=n(40),a=n(65),s=n(137),u=n(205).KEY,c=n(61),l=n(91),f=n(89),d=n(68),h=n(33),p=n(88),v=n(87),g=n(204),m=n(203),y=n(58),b=n(59),w=n(41),x=n(94),_=n(67),k=n(130),T=n(202),C=n(125),$=n(39),S=n(69),E=C.f,A=$.f,M=T.f,N=r.Symbol,L=r.JSON,R=L&&L.stringify,D=h(\"_hidden\"),P=h(\"toPrimitive\"),H={}.propertyIsEnumerable,I=l(\"symbol-registry\"),j=l(\"symbols\"),O=l(\"op-symbols\"),z=Object.prototype,q=\"function\"==typeof N,B=r.QObject,U=!B||!B.prototype||!B.prototype.findChild,V=o&&c(function(){return 7!=k(A({},\"a\",{get:function(){return A(this,\"a\",{value:7}).a}})).a})?function(e,t,n){var r=E(z,t);r&&delete z[t],A(e,t,n),r&&e!==z&&A(z,t,r)}:A,F=function(e){var t=j[e]=k(N.prototype);return t._k=e,t},G=q&&\"symbol\"==typeof N.iterator?function(e){return\"symbol\"==typeof e}:function(e){return e instanceof N},W=function(e,t,n){return e===z&&W(O,t,n),y(e),t=x(t,!0),y(n),i(j,t)?(n.enumerable?(i(e,D)&&e[D][t]&&(e[D][t]=!1),n=k(n,{enumerable:_(0,!1)})):(i(e,D)||A(e,D,_(1,{})),e[D][t]=!0),V(e,t,n)):A(e,t,n)},Y=function(e,t){y(e);for(var n,r=g(t=w(t)),i=0,o=r.length;o>i;)W(e,n=r[i++],t[n]);return e},X=function(e){var t=H.call(this,e=x(e,!0));return!(this===z&&i(j,e)&&!i(O,e))&&(!(t||!i(this,e)||!i(j,e)||i(this,D)&&this[D][e])||t)},Q=function(e,t){if(e=w(e),t=x(t,!0),e!==z||!i(j,t)||i(O,t)){var n=E(e,t);return!n||!i(j,t)||i(e,D)&&e[D][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=M(w(e)),r=[],o=0;n.length>o;)i(j,t=n[o++])||t==D||t==u||r.push(t);return r},K=function(e){for(var t,n=e===z,r=M(n?O:w(e)),o=[],a=0;r.length>a;)!i(j,t=r[a++])||n&&!i(z,t)||o.push(j[t]);return o};q||(s((N=function(){if(this instanceof N)throw TypeError(\"Symbol is not a constructor!\");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(O,n),i(this,D)&&i(this[D],e)&&(this[D][e]=!1),V(this,e,_(1,n))};return o&&U&&V(z,e,{configurable:!0,set:t}),F(e)}).prototype,\"toString\",function(){return this._k}),C.f=Q,$.f=W,n(133).f=T.f=J,n(86).f=X,n(134).f=K,o&&!n(70)&&s(z,\"propertyIsEnumerable\",X,!0),p.f=function(e){return F(h(e))}),a(a.G+a.W+a.F*!q,{Symbol:N});for(var Z=\"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables\".split(\",\"),ee=0;Z.length>ee;)h(Z[ee++]);for(var te=S(h.store),ne=0;te.length>ne;)v(te[ne++]);a(a.S+a.F*!q,\"Symbol\",{for:function(e){return i(I,e+=\"\")?I[e]:I[e]=N(e)},keyFor:function(e){if(!G(e))throw TypeError(e+\" is not a symbol!\");for(var t in I)if(I[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!q,\"Object\",{create:function(e,t){return void 0===t?k(e):Y(k(e),t)},defineProperty:W,defineProperties:Y,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:K}),L&&a(a.S+a.F*(!q||c(function(){var e=N();return\"[null]\"!=R([e])||\"{}\"!=R({a:e})||\"{}\"!=R(Object(e))})),\"JSON\",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!G(e))return m(t)||(t=function(e,t){if(\"function\"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,R.apply(L,r)}}),N.prototype[P]||n(53)(N.prototype,P,N.prototype.valueOf),f(N,\"Symbol\"),f(Math,\"Math\",!0),f(r.JSON,\"JSON\",!0)},function(e,t,n){var r=n(96),i=n(33)(\"toStringTag\"),o=\"Arguments\"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):\"Object\"==(a=r(t))&&\"function\"==typeof t.callee?\"Arguments\":a}},function(e,t,n){var r=n(184),i=n(33)(\"iterator\"),o=n(66);e.exports=n(19).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e[\"@@iterator\"]||o[r(e)]}},function(e,t,n){var r=n(93),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){\"use strict\";var r=n(14);Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadClipbook=function(){a.iziModal(s),$(\"#clipbook-modal .iziModal-content\").append(\"<div class='clipbook-data'><div class='panel panel-default'><div class='clipbook-add' style='display: none;'></div><div class='list-group clipbook-list'></div><div style='height:50px;'><button class='btn btn-default' id='button-clipbook-add'>Add</button><button style='display: none;' class='btn btn-success' id='button-clipbook-submit'>Submit</button></div></div></div>\"),$(\".clipbook-add\").append(\"<div class='form-group'><label for='input-clipbook-name'>Clip Name</label><input type='text' class='form-control' id='input-clipbook-name' placeholder='Name'></div>\"),$(\".clipbook-add\").append(\"<div class='form-group'><label for='input-clipbook-text'>Clip Text</label><textarea type='text' class='form-control' id='input-clipbook-text' placeholder='Text'></textarea></div>\"),Mousetrap.bind(\"command+shift+x\",function(){l(),a.iziModal(\"open\")}),$(\".clipbook-list\").on(\"click\",\"a\",function(){!function(e){var t=document.createElement(\"textarea\");t.style.position=\"fixed\",t.style.top=0,t.style.left=0,t.style.width=\"2em\",t.style.height=\"2em\",t.style.padding=0,t.style.border=\"none\",t.style.outline=\"none\",t.style.boxShadow=\"none\",t.style.background=\"transparent\",t.value=e,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand(\"copy\"),iziToast.show({title:\"Copied!\",position:\"topRight\",color:\"green\",timeout:\"2000\"})}catch(e){iziToast.show({title:\"Error!\",position:\"topRight\",color:\"red\",timeout:\"4000\"})}document.body.removeChild(t)}($(this).attr(\"data-clip\"))}),$(\".clipbook-list\").on(\"click\",\"span\",function(){!function(e){for(var t in o)o[t]&&o[t].name===e&&delete o[t]}($(this).parent().text()),c()}),o=[{name:\"testClip1\",clip:\"urn:ogf:network:service+45e188ec-d820-4e69-a618-08045ec58835:resource+virtual_clouds:tag+vpc1\",color:\"blue\"},{name:\"testClip2\",clip:\"urn:ogf:network:service+45e188ec-d820-4e69-a618-08045ec58835:resource+virtual_clouds:tag+vpc2\",color:\"green\"}],c(),$(\"#button-clipbook-add\").click(function(){$(this).hasClass(\"btn-default\")?u(\"add\"):u(\"list\")}),$(\"#button-clipbook-submit\").click(function(){var e=$(\"#input-clipbook-name\").val(),t=$(\"#input-clipbook-text\").val();!function(e,t,n){var r={};r.name=e,r.clip=t,void 0!==n&&(r.color=n);o.push(r)}(e,t),c(),$(\"#button-clipbook-add\").click()})},t.openClipbookAdd=function(){$(\"#input-clipbook-name\").val(),a.iziModal(\"open\"),u(\"add\")};var i=r(n(128)),o={},a=$(\"#clipbook-modal\"),s={title:\"Clipbook\",headerColor:\"#676e77\",width:\"60vh\",transitionIn:\"fadeInUp\",transitionOut:\"fadeOutDown\",group:\"clip\"};function u(e){switch(e){case\"add\":$(\".clipbook-list\").hide(),$(\".clipbook-add\").show(),$(\"#button-clipbook-add\").text(\"Cancel\"),$(\"#button-clipbook-submit\").show(),$(\"#button-clipbook-add\").removeClass(\"btn-default\"),$(\"#button-clipbook-add\").addClass(\"btn-primary\");break;case\"list\":$(\".clipbook-add\").hide(),$(\"#button-clipbook-add\").text(\"Add\"),$(\".clipbook-list\").show(),$(\"#button-clipbook-submit\").hide(),$(\"#button-clipbook-add\").removeClass(\"btn-primary\"),$(\"#button-clipbook-add\").addClass(\"btn-default\")}}function c(){l()}function l(){var e=$(\".clipbook-list\").empty(),t=!0,n=!1,r=void 0;try{for(var a,s=(0,i.default)(o);!(t=(a=s.next()).done);t=!0){var u=a.value;if(void 0!==u){var c=$(\"<a class='list-group-item' data-clip='\"+u.clip+\"'><p>\"+u.name+\"<span style='float:right;z-index:99;' class='glyphicon glyphicon-remove-circle'></span></p><div class='clip-text'>\"+u.clip+\"</div></a>\");c.css({\"box-shadow\":u.color+\" 0px 0px 1px 1px inset\"}),e.append(c)}}}catch(e){n=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}}},function(e,t,n){\"use strict\";var r=n(14);Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadIntent=function(e){o=e,$.ajax({type:\"GET\",url:\"/StackV-web/data/xml/\"+e+\".xml\",dataType:\"xml\",success:function(t){var n;if(i=t.children[0],function(){var e=$(\"#intent-panel-body\");g.intent=new TweenLite(\"#intent-panel\",.5,{ease:Power2.easeInOut,paused:!0,opacity:\"1\",display:\"block\"}),function(e){var t=$(\"#intent-panel-meta\");$(\"#meta-title\").text(e.children[0].innerHTML),$(\"#meta-alias\").change(function(){$(this).removeClass(\"invalid-input\"),0===$(\".invalid-input\").length&&$(\".intent-operations\").removeClass(\"blocked\")});for(var n=$(\"<div>\").attr(\"id\",\"intent-panel-meta-block\"),r=e.getElementsByTagName(\"block\"),i=0;i<r.length;i++){var o=$(\"<div>\").css(\"margin-bottom\",\"20px\"),s=r[i],u=s.children[0].innerHTML,c=s.children[1].innerHTML,d=s.getAttribute(\"condition\"),p=$(\"<label>\").text(c),v=$(\"<input>\",{type:\"number\",name:\"block-\"+u,value:1,min:0});v.attr(\"data-block\",u),v.change(function(){var e=$(\".block-\"+$(this).data(\"block\")),t=$(this).val(),n=e.first().data(\"factory\"),r=e.first().data(\"target\"),i=e.length;for(e.first().hasClass(\"block-removed\")&&(i=0);t>i;)0===i?(e.last().remove(),N(n,r),i++):(N(n,r),i++);for(;t<i;){if(1===i){e.last().empty().addClass(\"block-removed\"),h[n].count--;break}e.last().remove(),e=$(\".block-\"+$(this).data(\"block\")),i--,h[n].count--}U(),L()}),d&&(p.addClass(\"conditional\"),p.attr(\"data-condition\",d)),p.append(v),o.append(p),n.append(o)}t.append(n),$(\"#intent-prev\").click(function(){S()}),$(\"#intent-next\").click(function(){E()}),$(\"#intent-submit\").click(function(){T(0)}),$(\"#intent-save\").click(function(){T(1)}),$(\"#button-profile-save\").click(function(){!function(){var e={};e.name=$(\"#profile-name\").val(),e.description=$(\"#profile-description\").val(),e.username=sessionStorage.getItem(\"username\"),e.data=a;var t=window.location.origin+\"/StackV-web/restapi/app/profile/new\";$.ajax({url:t,type:\"PUT\",data:(0,l.default)(e),beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+f.keycloak.token)},success:function(e){window.location.href=\"/StackV-web/portal/\"}})}()})}(i.children[0]),\"true\"===i.getAttribute(\"simplify\")&&(b=!0);for(var t=i.children,n=$(\"#intent-progress\"),r=1;r<t.length;r++){var o=t[r],u=M(o),c=$(\"<div>\",{class:\"intent-stage-div\",id:u}),d=$(\"<li>\",{id:\"prog-\"+u});o.getAttribute(\"condition\")&&(c.addClass(\"conditional\"),c.attr(\"data-condition\",o.getAttribute(\"condition\")),d.addClass(\"conditional\"),d.attr(\"data-condition\",o.getAttribute(\"condition\"))),\"true\"===o.getAttribute(\"proceeding\")&&c.addClass(\"proceeding\"),\"false\"===o.getAttribute(\"return\")&&c.addClass(\"unreturnable\");var p=$(\"<a>\").text(o.getAttribute(\"name\"));d.append(p),e.append(c),t[u]=c;var v=c;g[u]=new TweenLite(\"#\"+u,.5,{ease:Power2.easeInOut,paused:!0,opacity:\"1\",display:\"block\"}),1===r&&(s=c,g[u].play(),d.addClass(\"active\"),s.addClass(\"active\")),n.append(d),_(o.children,v),L()}n.append($(\"<li>\")),P(),U(),setTimeout(function(){g.intent.play()},500),$(document).on(\"keyup\",\"[data-valid]\",function(){clearTimeout(w);var e=$(this);w=setTimeout(function(){C(e)},1e3)})}(),function(){for(var e=$(\"#intent-panel-body\").find(\".factory\"),t=0;t<e.length;t++){var n=e[t],r=n.id;k(r,n)}for(var o=0;o<e.length;o++){var a=e[o],s=a.id,u=a.children[0],c=u.children[0].innerText.split(\" #\")[0],l=s.replace(new RegExp(\"\\\\_num\\\\d*\",\"gm\"),\"\");if(void 0===h[l].block){var f=$(\"<button>\",{class:\"intent-button-factory\",text:\"Add \"+c});f.attr(\"data-factory\",l),f.attr(\"data-target\",a.parentElement.id),$(a).data(\"bound\")&&f.attr(\"data-bound\",$(a).data(\"bound\")),f.click(function(e){var t=$(this).data(\"factory\"),n=$(this).parent().parent().attr(\"id\");N(t,n,$(this)),e.preventDefault()}),$(u).append(f)}else $(a).attr(\"data-factory\",l),$(a).attr(\"data-target\",a.parentElement.id)}$(\".collapsing\").each(function(){var e=$(this),t=\"collapse-\"+e.attr(\"id\"),n=$(\"<div>\",{class:\"collapse in\",id:t}),r=$(\"<a>\").attr(\"data-toggle\",\"collapse\").attr(\"data-target\",\"#\"+t).addClass(\"group-collapse-toggle\");$($(e.children()[0]).children()[0]).after(r),e.children().each(function(){var e=$(this);e.hasClass(\"group-header\")||e.appendTo(n)}),e.append(n),e.removeClass(\"collapsing\")}),$(\".collapsed\").each(function(){var e=$(this),t=\"collapse-\"+e.attr(\"id\"),n=$(\"<div>\",{class:\"collapse\",id:t}),r=$(\"<a>\").attr(\"data-toggle\",\"collapse\").attr(\"data-target\",\"#\"+t).addClass(\"group-collapse-toggle collapsed\");$($(e.children()[0]).children()[0]).after(r),e.children().each(function(){var e=$(this);e.hasClass(\"group-header\")||e.appendTo(n)}),e.append(n),e.removeClass(\"collapsed\")}),function(){for(var e=$(\"[data-initial]\"),t=0;t<e.length;t++){var n=$(e[t]),r=n.data(\"initial\");n.val(r),n.removeAttr(\"data-initial\")}for(var o=$(\"[data-bound]\"),a=0;a<o.length;a++){var s=$(o[a]);for(var u in v[s.data(\"bound\")]){var c=B(s,u);c&&!c.hasClass(\"binding\")&&(c.change(function(){I()}),c.addClass(\"binding\"))}}for(var l=$(\"[data-valid]\"),f=0;f<l.length;f++){for(var d=$(l[f]),h=d.data(\"valid\"),p=i.children[0].getElementsByTagName(\"validation\")[0],g=null,m=0;m<p.children.length;m++){var y=p.children[m];if(y.children[0].innerHTML===h){g=y;break}}if(g){var b=$(\"<div>\",{class:\"intent-input-message\"});g.getElementsByTagName(\"message\").length>0&&b.text(g.getElementsByTagName(\"message\")[0].innerHTML),d.parent().append(b)}}}();for(var d=0;d<e.length;d++){var p=e[d],g=p.id,m=g.replace(new RegExp(\"\\\\_num\\\\d*\",\"gm\"),\"\"),y=$(p).clone(!0,!0);y.find(\"[data-initial]\").removeAttr(\"data-initial\"),h[m].clone=y}L(),I(),function(){for(var e=$(\"[data-start]\"),t=0;t<e.length;t++){var n=$(e[t]);n.data(\"start\")}}()}(),n={},$(i).find(\"input\").each(function(){for(var e=[this.children[0].innerHTML.toLowerCase().replace(/ /g,\"_\")],t=this.parentElement;\"intent\"!==t.tagName;){var r=t.getAttribute(\"name\").toLowerCase().replace(/ /g,\"_\");t.getAttribute(\"block\")||t.getAttribute(\"factory\")?e.unshift(r+\"_numX\"):e.unshift(r),t=t.parentElement}var i,o=n;for(i=1;i<e.length-1;i++){var a=e[i];a in o||(o[a]={}),o=o[a]}a=e[i],o[a]=\"\"}),a=n,(0,f.getURLParameter)(\"preload\"))switch(e){case\"dnc\":$(\"#meta-alias\").val(\"Preloaded DNC Test\"),$(\"#connections-type\").val(\"Multi-Point VLAN Bridge\").change(),setTimeout(function(){$(\"#connections-connection_num1-name\").val(\"mpvb1\"),$(\"#connections-connection_num1-terminal_num1-uri\").val(\"urn:ogf:network:odl.maxgigapop.net:network:node=openflow_1:port=openflow_1_1\"),$(\"#connections-connection_num1-terminal_num1-vlan_tag\").val(\"101\"),$(\"#connections-connection_num1-terminal_num2-uri\").val(\"urn:ogf:network:odl.maxgigapop.net:network:node=openflow_2:port=openflow_2_1\"),$(\"#connections-connection_num1-terminal_num2-vlan_tag\").val(\"102\"),$(\"#connections-connection_num1-terminal_num2-mac_address_list\").val(\"02:50:f2:00:00:01,02:50:f2:00:00:04\"),$(\"#connections-connection_num1-terminal_num3-uri\").val(\"urn:ogf:network:odl.maxgigapop.net:network:node=openflow_3:port=openflow_3_1\"),$(\"#connections-connection_num1-terminal_num3-vlan_tag\").val(\"103\")},500);break;case\"hybridcloud\":$(\"#meta-alias\").val(\"Preloaded AHC Test\"),$(\"#network-aws-parent\").val(\"urn:ogf:network:aws.amazon.com:aws-cloud\"),$(\"#network-aws-cidr\").val(\"10.0.0.0/16\"),$(\"#network-openstack-parent\").val(\"urn:ogf:network:openstack.com:openstack-cloud\"),$(\"#network-openstack-cidr\").val(\"10.1.0.0/16\"),$(\"#subnets-aws_subnet_num1-name\").val(\"subnet1\"),$(\"#subnets-aws_subnet_num1-cidr\").val(\"10.0.0.0/24\"),$(\"#subnets-aws_subnet_num1-route_num1-from\").val(\"vpn\"),$(\"#subnets-aws_subnet_num1-route_num1-to\").val(\"0.0.0.0/0\"),$(\"#subnets-aws_subnet_num1-route_num1-next_hop\").val(\"vpn\"),$(\"#subnets-openstack_subnet_num1-name\").val(\"subnet1\"),$(\"#subnets-openstack_subnet_num1-cidr\").val(\"10.1.0.0/24\"),$(\"#gateways-gateway_num1-name\").val(\"intercloud-1\"),$(\"#gateways-gateway_num1-type\").val(\"Inter Cloud Network\"),$(\"#vms-aws_vm_num1-name\").val(\"vm1\"),$(\"#vms-aws_vm_num1-keypair_name\").val(\"driver_key\"),$(\"#vms-aws_vm_num1-security_group\").val(\"geni\"),$(\"#vms-aws_vm_num1-image\").val(\"ami-0d1bf860\"),$(\"#vms-aws_vm_num1-instance_type\").val(\"m4.large\"),$(\"#vms-aws_vm_num1-interface_num1-type\").val(\"Ethernet\"),$(\"#vms-openstack_vm_num1-name\").val(\"vtn2-vm1\"),$(\"#vms-openstack_vm_num1-keypair_name\").val(\"demo-key\"),$(\"#vms-openstack_vm_num1-security_group\").val(\"rains\"),$(\"#vms-openstack_vm_num1-instance_type\").val(\"5\"),$(\"#vms-openstack_bgp-asn\").val(\"7224\"),$(\"#vms-openstack_bgp-authentication_key\").val(\"versastack\"),$(\"#vms-openstack_bgp-networks\").val(\"10.10.0.0/16\"),$(\"#vms-openstack_vm_num1-route_num1-to\").val(\"10.10.0.0/16\"),$(\"#vms-openstack_vm_num1-route_num1-next_hop\").val(\"10.1.0.1\"),$(\"#vms-openstack_vm_num1-interface_num1-name\").val(\"vtn2-vm1:eth1\"),$(\"#vms-openstack_vm_num1-interface_num1-type\").val(\"SRIOV\"),$(\"#vms-openstack_vm_num1-interface_num1-address\").val(\"ipv4+10.10.0.1/24,mac+aa:bb:cc:ff:01:11\");break;case\"vcn\":$(\"#meta-alias\").val(\"Preloaded VCN AWS Test\"),$(\"[name=block-gateways]\").val(2).change(),$(\"[name=block-sriovs]\").val(2).change(),setTimeout(function(){$(\"#details-network-parent\").val(\"urn:ogf:network:aws.amazon.com:aws-cloud\"),$(\"#details-network-type\").val(\"internal\"),$(\"#details-network-cidr\").val(\"10.0.0.0/16\"),$(\"#subnets-subnet_num1-name\").val(\"subnet1\"),$(\"#subnets-subnet_num1-cidr\").val(\"10.0.0.0/24\"),$(\"#vms-vm_num1-name\").val(\"ops-vtn1-vm1\"),$(\"#vms-vm_num1-subnet_host\").val(\"subnet_num1\"),$(\"#vms-vm_num1-instance_type\").val(\"m4.large\"),$(\"#vms-vm_num1-keypair_name\").val(\"driver_key\"),$(\"#vms-vm_num1-security_group\").val(\"geni\"),$(\"#vms-vm_num1-image\").val(\"ami-0d1bf860\"),$(\"#vms-vm_num1-interface_num1-type\").val(\"Ethernet\").change(),$(\"#gateways-gateway_num1-name\").val(\"l2path-aws-dc1\"),$(\"#gateways-gateway_num1-route_num1-to\").val(\"urn:ogf:network:domain=dragon.maxgigapop.net:node=CLPK:port=1-1-2:link=*\")},500)}(0,f.getURLParameter)(\"fullTest\")&&function(){$(\".conditional\").removeClass(\"conditional\"),$(\".intent-input\").each(function(){var e=this.tagName,t=$(this).attr(\"id\");switch(e){case\"INPUT\":$(this).val(t);break;case\"SELECT\":$(this).children('option[value!=\"\"][value]').size()>0?$(this).val($(this).children('option[value!=\"\"][value]').first().val()):$(this).append($(\"<option>\").val(t))}}),T(2);var e=[];$(\"[data-condition]\").each(function(){e.push($(this).data(\"condition\"))}),(e=$.unique(e)).length>0&&(a.options=e);a.alias=\"Test Alias\",a.uuid=\"TESTUUID\",a.username=\"Test Username\",$(\"body\").css(\"background\",\"white\"),$(\"body\").html((0,l.default)(a))}()},error:function(e){console.log(\"Error Loading XML! \\n\"+e)}});setInterval(function(){f.keycloak.updateToken(90)},6e4)};var i,o,a,s,u=r(n(124)),c=r(n(176)),l=r(n(20)),f=n(24),d=[],h={},p={},v={},g={},m={},y=!1,b=!1,w=null;Mousetrap.bind({left:function(){s&&S()},right:function(){s&&E()}});var x=$(\"#error-modal\").iziModal({title:\"Input Error\",subtitle:\"There are invalid inputs. Please review and correct!\",headerColor:\"#BD5B5B\",width:600,top:300,timeout:5e3,timeoutProgressbar:!0,transitionIn:\"fadeInDown\",transitionOut:\"fadeOutDown\",pauseOnHover:!0});function _(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(\"group\"===r.nodeName){var i=r.getAttribute(\"name\"),o=r.getAttribute(\"factory\"),a=r.getAttribute(\"label\"),s=r.getAttribute(\"condition\"),u=r.getAttribute(\"start\"),c=r.getAttribute(\"default\"),l=r.getAttribute(\"collapsible\"),d=r.getAttribute(\"opened\"),g=r.getAttribute(\"block\"),m=i.charAt(0).toUpperCase()+i.slice(1),y=M(r),b=$(\"<div>\",{class:\"intent-group-div\",id:y});t.append(b);var w=$('<div class=\"group-header col-sm-12\"><div class=\"group-name\">'+m+\"</div></div>\");b.append(w);var x=b;if(\"true\"===l&&(\"true\"===d?b.addClass(\"collapsing\"):b.addClass(\"collapsed\")),\"true\"===o){b.addClass(\"factory\");var k={count:1};h[y]=k}if(g){b.addClass(\"factory\"),b.addClass(\"block-\"+g);var T={count:1};T.block=g,h[y]=T}if(u&&b.attr(\"data-start\",u),c&&b.attr(\"data-default\",c),a){var C=b.find(\".group-name\");\"off\"===a?(C.addClass(\"unlabeled\"),C.text(C.text().split(\"#\")[0])):C.text(a+\" #1\")}else b.addClass(\"labeled\");if(s&&(b.addClass(\"conditional\"),b.attr(\"data-condition\",s)),$(r).children(\"bound\").length>0){b.attr(\"data-bound\",y);var S=$(r).children(\"bound\");y in v||(v[y]={});for(var A=v[y],N=0;N<S.length;N++){var L=S[N].children[0].innerHTML,R=S[N].children[1].innerHTML;L in A||(A[L]={}),A[L][R]={};var D=$(S[N]).children(\"min\")[0];D&&(A[L][R].min=D.innerHTML);var P=$(S[N]).children(\"max\")[0];P&&(A[L][R].max=P.innerHTML)}}if($(r).children(\"fulfilled\").length>0){for(var H=$($(r).children(\"fulfilled\")[0]),I=i.toLocaleLowerCase().replace(/ /g,\"_\"),j=[],O=H.children(),z=0;z<O.length;z++){var q=O[z];j.push(q.innerHTML)}p[I]=j}_(r.children,x)}else if(\"input\"===r.nodeName){var B=r.children[1].innerHTML,F=M(r),G=r.getAttribute(\"trigger\"),W=r.getAttribute(\"condition\"),Y=r.getAttribute(\"hidden\"),X=r.getAttribute(\"required\"),Q=$(\"<label>\").text(r.children[0].innerHTML),J=$(\"<input>\",{type:B,class:\"intent-input\",id:F});r.getElementsByTagName(\"hint\").length>0&&Q.text(Q.text()+\" \"+r.getElementsByTagName(\"hint\")[0].innerHTML);var K;switch(B){case\"button\":J.removeClass(\"intent-input\"),J.click(function(e){E(!0),e.preventDefault()}),J.val(\"Select\")}if(\"name\"===r.children[0].innerHTML.toLowerCase()&&\"group\"===r.parentElement.tagName)K=null===r.parentElement.getAttribute(\"passthrough\")&&r.parentElement.parentElement?r.parentElement.getAttribute(\"name\"):r.parentElement.parentElement.getAttribute(\"name\"),J.attr(\"data-name\",K+\" 1\"),J.val(K+\" 1\");if(r.getElementsByTagName(\"size\").length>0)switch(r.getElementsByTagName(\"size\")[0].innerHTML){case\"small\":Q.addClass(\"col-sm-4\");break;case\"large\":Q.addClass(\"col-sm-8\");break;case\"xlarge\":Q.addClass(\"col-sm-12\");break;default:Q.addClass(\"col-sm-6\")}else Q.addClass(\"col-sm-6\");if(r.getElementsByTagName(\"default\").length>0&&(\"checkbox\"===B&&\"true\"===r.getElementsByTagName(\"default\")[0].innerHTML&&J.attr(\"checked\",!0),r.getElementsByTagName(\"default\")[0].getAttribute(\"firstOnly\")||J.attr(\"data-default\",r.getElementsByTagName(\"default\")[0].innerHTML),J.val(r.getElementsByTagName(\"default\")[0].innerHTML)),r.getElementsByTagName(\"initial\").length>0&&J.attr(\"data-initial\",r.getElementsByTagName(\"initial\")[0].innerHTML),\"true\"===X&&J.attr(\"data-required\",!0),r.getElementsByTagName(\"source\").length>0){J=$(\"<select>\",{id:F,class:\"intent-input\"});var Z=F,ee=r.getElementsByTagName(\"source\")[0],te=window.location.origin+\"/StackV-web/restapi\"+ee.children[0].innerHTML;$.ajax({url:te,type:\"GET\",sourceSettings:[ee.children[1].innerHTML,ee.children[2].innerHTML,ee.children[3].innerHTML],beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+f.keycloak.token),e.setRequestHeader(\"Refresh\",f.keycloak.refreshToken)},success:function(e){for(var t=this.sourceSettings[1],n=this.sourceSettings[2],r=this.sourceSettings[0],i=-1;i<e.length-parseInt(r);i){var o=$(\"<option>\"),a=i+parseInt(t);o.text(e[a]);var s=i+parseInt(n);o.val(e[s]),$(\"#\"+Z).append(o),i+=parseInt(r)}},error:function(e,t,n){404===e.status&&console.log(n)}})}else if(r.getElementsByTagName(\"link\").length>0){J=$(\"<select>\",{id:F,class:\"intent-input\"});var ne=r.getElementsByTagName(\"link\")[0].innerHTML;J.attr(\"data-link\",ne);var re=$(\"<option>\",{selected:!0}).text(\"\");J.append(re),r.getElementsByTagName(\"link\")[0].getAttribute(\"nameVal\")&&J.addClass(\"nameVal\")}else if(r.getElementsByTagName(\"options\").length>0){J=$(\"<select>\",{id:F,class:\"intent-input\"});var ie=r.getElementsByTagName(\"options\")[0].children;if(!r.getAttribute(\"required\")){var oe=$(\"<option>\").text(\"N/A\").val(\"\");J.append(oe)}for(var ae=void 0,se=0;se<ie.length;se++){var ue;null!==ie[se].getAttribute(\"condition\")?(ue=$(\"<option>\",{disabled:!0})).attr(\"data-condition-select\",ie[se].getAttribute(\"condition\")):ue=$(\"<option>\"),J.change(function(){U()}),ue.text(ie[se].innerHTML),ue.val(ie[se].innerHTML),null!==ie[se].getAttribute(\"default\")&&(ae=ue.val()),J.append(ue)}ae?J.val(ae).change():J.val(J.children(\"option:not(:disabled):first\").val()).change()}if(G)switch(B){case\"text\":break;case\"button\":Q.attr(\"data-trigger\",G),Q.click(function(){V($(this).data(\"trigger\"))})}if(W&&(Q.addClass(\"conditional\"),Q.attr(\"data-condition\",W)),r.getElementsByTagName(\"valid\").length>0){var ce=r.getElementsByTagName(\"valid\")[0].innerHTML;J.attr(\"data-valid\",ce)}Y&&Q.addClass(\"hidden\"),Q.append(J),t.append(Q)}}}function k(e,t){if(t){var n=t.children,r=$(t).hasClass(\"labeled\"),i=t.id;if(i)i.indexOf(e)>=0&&(t.id=i.replace(e,e+\"_num1\"),r&&t.children[0]&&t.children[0].children[0]&&t.children[0].children[0].innerText.indexOf(\"#1\")<0&&$(t).hasClass(\"factory\")&&(t.children[0].children[0].innerText+=\" #1\"));if(n)for(var o=0;o<n.length;o++)k(e,n[o])}}function T(e){if(L(),0===$(\".invalid-input\").length){if($(\"#meta-alias\").val()||0!==e||(!1,$(\"#meta-alias\").addClass(\"invalid-input\")),function(){for(var e=$(\"[data-valid]\"),t=!0,n=0;n<e.length;n++){var r=$(e[n]);!1===C(r)&&(t=!1)}return t}()||2===e){var t={};if($(\"#intent-panel-body .intent-input\").each(function(){var e=$(this).parents(\".conditional\").length;if(!(e>0&&$(this).parents(\".conditioned\").length<e)){var n,r=this.id.split(\"-\"),i=t;for(n=1;n<r.length-1;n++){var o=r[n];o in i||(i[o]={}),i=i[o]}var a=r[n];\"checkbox\"===$(this).attr(\"type\")?i[a]=$(this).is(\":checked\"):i[a]=$(this).val()}}),a=t,function(){$(i).find(\"path\").each(function(){var e=this.children[0].innerHTML.toLowerCase().replace(/ /g,\"_\"),t=this.parentElement.getAttribute(\"name\");for(var n in H=[],function e(t,n){var r=null;if(t instanceof Array)for(var i=0;i<t.length&&!(r=e(t[i],n));i++);else for(var o in t)if(o.split(\"_num\")[0]===n&&(H[o]=t[o],delete t[o]),(t[o]instanceof Object||t[o]instanceof Array)&&(r=e(t[o],n)))break;return r}(a,t.toLowerCase().replace(/ /g,\"_\")),H){var r=H[n];if(\"root\"===e)for(var i in r)a[i]=r[i];else{var o=j(a,r[e]);if(o)delete r[e],o[n]=r;else{for(var s=e.split(\"/\"),u=a,c=0;c<s.length;c++)s[c]in u||(u[s[c]]={}),u=u[s[c]];u[n]=r}}}}),function e(t){for(var n in t)if((t[n]instanceof Object||t[n]instanceof Array)&&e(t[n]),n.indexOf(\"_num\")>-1){var r=n.split(\"_num\")[0]+\"s\";r in t||(t[r]=[]),t[r].push(t[n]),delete t[n]}}(a),b&&function(e){for(var t in e)O(e[t],t)}(a);(function e(t){for(var n in t)(t[n]instanceof Object||t[n]instanceof Array)&&e(t[n]),\"\"===t[n]||null===t[n]?delete t[n]:t[n]&&t[n].constructor===Object&&0===(0,c.default)(t[n]).length?delete t[n]:t[n]&&t[n].constructor===Array&&void 0===t[n][0]&&delete t[n]})(a),$(i).find(\"path\").each(function(){if(this.getElementsByTagName(\"name\").length>0){var e=this.getElementsByTagName(\"name\")[0].innerHTML.split(\"::\");a=JSON.parse((0,l.default)(a).replace(e[0],e[1]))}}),function(){for(var e in p){var t=p[e];for(var n in z=[],q(a,e),z){var r=z[n];for(var i in e in r||(e+=\"s\"),t){var o=t[i];if(r[e]instanceof Array){for(var s in r[e])o in r[e][s]||r[e].splice(r[e].indexOf(r[e][s]),1);0===r[e].length&&delete r[e]}else if(!(o in r[e])){delete r[e];break}}}}}();var e={};e.data=a,(a=e).service=o;var t=window.location.origin+\"/StackV-web/restapi/app/service/uuid\";$.ajax({url:t,async:!1,type:\"GET\",dataType:\"text\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+f.keycloak.token),e.setRequestHeader(\"Refresh\",f.keycloak.refreshToken)},success:function(e){m.uuid=e,a.data.uuid=e,d.length>0&&(m.options=d,a.data.options=d),m.service=o,m.alias=$(\"#meta-alias\").val(),m.data=a.data}})}(),null!==a)if(1===e)$(\"#saveModal\").modal(),setTimeout(function(){g.intent.play()},250);else if(2===e)console.log((0,l.default)(a));else{m.proceed=\"true\";var n=window.location.origin+\"/StackV-web/restapi/app/service\";$.ajax({url:n,type:\"POST\",data:(0,l.default)(m),contentType:\"application/json; charset=utf-8\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+f.keycloak.token),e.setRequestHeader(\"Refresh\",f.keycloak.refreshToken)}}),window.location.href=\"/StackV-web/portal/\"}}else $(\".intent-operations\").addClass(\"blocked\"),x.iziModal(\"open\")}}function C(e){if(function(e){var t=e.parents(\".conditional\").length;if(t>0&&e.parents(\".conditioned\").length<t)return!1;if(e.hasClass(\"conditional\")&&!e.hasClass(\"conditioned\"))return!1;return!0}(e)){for(var t=e.data(\"valid\"),n=i.children[0].getElementsByTagName(\"validation\")[0],r=null,o=0;o<n.children.length;o++){var a=n.children[o];if(a.children[0].innerHTML===t){r=a;break}}if(r){var s=r.children[1].innerHTML;if(s=s.replace(/\\\\/g,\"\\\\\"),s=new RegExp(s,\"gm\"),null===e.val()||\"\"===e.val()){if(e.data(\"required\")){e.addClass(\"invalid-input\");var u=$(e.parents(\".intent-stage-div\")[0]);return $(\"#prog-\"+u.attr(\"id\")).addClass(\"invalid-input\"),$(\".intent-operations\").addClass(\"blocked\"),!1}}else if(null===e.val().match(s)){e.addClass(\"invalid-input\");var c=$(e.parents(\".intent-stage-div\")[0]);return $(\"#prog-\"+c.attr(\"id\")).addClass(\"invalid-input\"),$(\".intent-operations\").addClass(\"blocked\"),!1}}}return e.removeClass(\"invalid-input\"),u=$(e.parents(\".intent-stage-div\")[0]),$(\"#prog-\"+u.attr(\"id\")).removeClass(\"invalid-input\"),0===$(\".invalid-input\").length&&$(\".intent-operations\").removeClass(\"blocked\"),!0}function S(){if(!y){y=!0;var e=s.prev();if(e.hasClass(\"unreturnable\"))return void(y=!1);for(;e.hasClass(\"conditional\")&&!e.hasClass(\"conditioned\");)if((e=e.prev()).hasClass(\"unreturnable\"))return void(y=!1);if(\"IMG\"===e[0].tagName)return void(y=!1);L();var t=$(\"#intent-progress\"),n=$(t.children(\".active\")[0]);n.removeClass(\"active\"),n.prev().addClass(\"active\");var r=s.attr(\"id\");s.removeClass(\"active\");var i=e.attr(\"id\");g[r].reverse(),(s=e).addClass(\"active\"),P(),setTimeout(function(){g[i].play(),y=!1},500)}}function E(e){if(!y){if(y=!0,s.hasClass(\"proceeding\")&&!e)return void(y=!1);for(var t=s.next();t.hasClass(\"conditional\")&&!t.hasClass(\"conditioned\");)t=t.next();if(0===t.length)return void(y=!1);L();var n=$(\"#intent-progress\"),r=$(n.children(\".active\")[0]);r.removeClass(\"active\"),r.next().addClass(\"active\");var i=s.attr(\"id\");s.removeClass(\"active\");var o=t.attr(\"id\");g[i].reverse(),(s=t).addClass(\"active\"),P(),setTimeout(function(){g[o].play(),y=!1},500)}}function A(e){var t=e.split(\"-\");return t[t.length-1]}function M(e){var t=e.getAttribute(\"name\");for(\"input\"===e.nodeName&&(t=e.children[0].innerHTML);\"stage\"!==e.nodeName;)null===(e=e.parentElement).getAttribute(\"passthrough\")&&(t=e.getAttribute(\"name\")+\"-\"+t);return t.replace(/ /g,\"_\").toLowerCase()}function N(e,t,n){var r=++h[e].count,i=h[e].clone.clone(!0,!0),o=A(e),a=i[0].children[0].children[0];a.innerText=a.innerText.replace(\"#1\",\"#\"+r);var s=new RegExp(o+\"_num1\",\"g\");i.html(i.html().replace(s,o+\"_num\"+r));var u=new RegExp(\"collapse-\"+o+\"_num1\",\"g\");i.html(i.html().replace(u,\"collapse-\"+o+\"_num\"+r));var c=$(\"#\"+t);if(void 0===h[e].block){var l=i.attr(\"id\").replace(A(i.attr(\"id\")),\"\"),f=c.attr(\"id\").replace(A(i.attr(\"id\")),\"\");i.attr(\"id\",f+o+\"_num\"+r);var d=new RegExp('id=\"'+l,\"g\");i.html(i.html().replace(d,'id=\"'+f))}else{var p=i.attr(\"id\"),v=i.attr(\"id\").substring(0,i.attr(\"id\").length-1)+r;i.attr(\"id\",v);var m=new RegExp('id=\"'+p,\"g\");i.html(i.html().replace(m,'id=\"'+v))}i.addClass(\"factored\");var y=i.attr(\"id\"),b=$(\"<button>\",{class:\"intent-button-remove close\"});b.attr(\"aria-label\",\"Close\"),b.html('<span aria-hidden=\"true\">&times;</span>'),b.click(function(){var e=$(this),t=e.parent().parent().attr(\"id\");g[t].reverse(),setTimeout(function(){var t=e.parent().parent(),n=function(e){var t=e.attr(\"id\");return $(\"#\"+t.slice(0,t.lastIndexOf(\"_num\"))+\"_num1\")}(t);t.remove(),R(n),D(),I()},500)}),i.find(\"[data-factory=\"+e+\"]\").replaceWith(b),n?n.parent().parent().after(i):c.append(i),g[y]=new TweenLite(\"#\"+y,.5,{ease:Power2.easeInOut,paused:!0,opacity:\"1\",display:\"block\"}),g[y].play(),$(\".intent-button-factory\").off(\"click\"),$(\".intent-button-factory\").click(function(e){N($(this).data(\"factory\"),$(this).parent().parent().attr(\"id\"),$(this)),e.preventDefault()}),i.find(\"select\").each(function(){$(this).hasClass(\"binding\")&&$(this).change(function(){I(),U()})}),i.find(\"input[data-valid]\").each(function(){$(this).change(function(){$(this).removeClass(\"invalid-input\");var e=$($(this).parents(\".intent-stage-div\")[0]);0===e.find(\".invalid-input\").length&&$(\"#prog-\"+e.attr(\"id\")).removeClass(\"invalid-input\"),0===$(\".invalid-input\").length&&$(\".intent-operations\").removeClass(\"blocked\")})});for(var w=i.find(\"[data-default]\"),x=0;x<w.length;x++){var _=$(w[x]);_.val(_.data(\"default\")).change()}U(),L(),n&&R(n.parent().parent()),D(),I()}function L(){for(var e=$(\"[data-link]\"),t=0;t<e.length;t++){var n=$(e[t]),r=n.hasClass(\"nameVal\"),i=n.val();n.children().remove();var o=n.data(\"link\"),a=$(\"<option>\",{selected:!0}).text(\"\");n.append(a);for(var s=$(\".block-\"+o),u=0;u<s.length;u++){var c=$(\"<option>\"),l=s[u].id,f=$(\"#\"+l+\"-name\").val();c.text(u+1+\" (\"+f+\")\"),r?c.val(f):c.val(A(l)),n.append(c)}i&&\"\"!==i?n.val(i):n.find(\"option:not(:empty)\").length>0&&n.val(n.find(\"option:not(:empty)\").val())}}function R(e){var t=$(e.children()[0].children[0]);if(!t.hasClass(\"unlabeled\")){var n=t.html().split(\"#\"),r=1,i=e.next();if(i.length>0)for(var o=$(i.children()[0].children[0]),a=o.html().split(\"#\");a&&a[0]===n[0]&&(o.html(n[0]+\"#\"+ ++r),0!==(i=i.next()).length);)a=(o=$(i.children()[0].children[0])).html().split(\"#\")}}function D(){for(var e=$(\"[data-name]\"),t=0;t<e.length;t++){var n=$(e[t]);if(\"\"===n.val()||n.val().match(new RegExp(/^connection_\\d+$/))){for(var r=n.data(\"name\"),i=n.parent(),o=new RegExp(\"_num\\\\d+$\");!i.hasClass(\"intent-group-div\")||!o.test(i.attr(\"id\"));)if(!(i=i.parent()))return;var a=i.children(\".group-header\").children(\".group-name\").text();r=r.split(\"_\")[0]+\"_\"+a.split(\"#\")[1],n.val(r)}}}function P(){var e=!0,t=!0;$(\".intent-controls\").removeClass(\"blocked\");var n=$(\"#intent-prev\"),r=$(\"#intent-next\"),i=s.prev();for(i.hasClass(\"unreturnable\")&&(t=!1);i.hasClass(\"conditional\")&&!i.hasClass(\"conditioned\");)(i=i.prev()).hasClass(\"unreturnable\")&&(t=!1);\"IMG\"===i[0].tagName&&(t=!1),s.hasClass(\"proceeding\")&&(e=!1);for(var o=s.next();o.hasClass(\"conditional\")&&!o.hasClass(\"conditioned\");)o=o.next();0===o.length&&(e=!1),t||n.addClass(\"blocked\"),e||r.addClass(\"blocked\")}var H={};function I(){for(var e=$(\"button[data-bound]\"),t=0;t<e.length;t++){var n=$(e[t]),r=n.data(\"bound\"),i=n.parent().parent().parent();i.find(\"[data-bound=\"+r+\"] .intent-button-remove\").removeAttr(\"disabled\"),n.removeAttr(\"disabled\");var o=i.children(\"div[data-bound=\"+r+\"]\").length;for(var a in v[r]){var s=B(n.parent().parent(),a);if(s){var u=s.val();for(var c in v[r][a])for(var l=!0;l;)if(l=!1,c===u){if(\"min\"in v[r][a][c]){var f=v[r][a][c].min;if(o<=f){for(;o<f;)n.click(),o=i.children(\"div[data-bound=\"+r+\"]\").length,l=!0;i.find(\"[data-bound=\"+r+\"] .intent-button-remove\").attr(\"disabled\",!0)}}if(\"max\"in v[r][a][c]){var d=v[r][a][c].max;if(o>=d){for(;o>d;)i.children(\"[data-bound=\"+r+\"]\").last().remove(),o=i.children(\"div[data-bound=\"+r+\"]\").length,l=!0;n.attr(\"disabled\",!0)}}}}}}}function j(e,t){var n=null;if(e instanceof Array)for(var r=0;r<e.length&&!(n=j(e[r],t));r++);else for(var i in e){if(i===t)return e[i];if((e[i]instanceof Object||e[i]instanceof Array)&&(n=j(e[i],t)))break}return n}function O(e,t){for(var n in e){if(n.indexOf(t)>-1){var r=n.slice(n.indexOf(t)+t.length+1);e[r]=e[n],delete e[n],O(e[r],t)}else(e[n]instanceof Object||e[n]instanceof Array)&&O(e[n],t)}}var z=[];function q(e,t){for(var n in e)e.hasOwnProperty(n)&&(n!==t&&n!==t+\"s\"||z.push(e),\"object\"===(0,u.default)(e[n])&&q(e[n],t))}function B(e,t){var n,r=e.children(\".collapse\");n=r.length>0?r.children(\"label\"):e.children(\"label\");for(var i=0;i<n.length;i++){var o=$(n[i])[0].children[0],a=F(o.id);if(a===t||A(a)===t)return $(o)}if(e.hasClass(\"intent-stage-div\"))return null;for(var s=e.parent();!s.hasClass(\"intent-group-div\")&&!s.hasClass(\"intent-stage-div\");)s=s.parent();return B(s,t)}function U(){$(\".conditional\").removeClass(\"conditioned\");for(var e=$(\".conditional\"),t=0;t<e.length;t++)for(var n=$(e[t]),r=n.data(\"condition\").split(\",\"),i=0;i<r.length;i++){var o=r[i];if(o.split(\"::\").length>1){var a=o.split(\"::\"),s=B(n,a[0]),u=a[1].toLowerCase().replace(/ /g,\"_\");s&&s.val()&&s.val().toLowerCase().replace(/ /g,\"_\")===u&&n.addClass(\"conditioned\")}else d.indexOf(o)>-1&&n.addClass(\"conditioned\")}$(\"[data-condition-select]\").attr(\"disabled\",!0),e=$(\"[data-condition-select]\");for(var c=0;c<e.length;c++)for(var l=$(e[c]),f=l.data(\"condition-select\").split(\",\"),h=0;h<f.length;h++){var p=f[h];if(p.split(\"::\").length>1){var v=p.split(\"::\"),g=B(l,v[0]),m=v[1].toLowerCase().replace(/ /g,\"_\");g&&g.val()&&g.val().toLowerCase().replace(/ /g,\"_\")===m&&l.removeAttr(\"disabled\")}else d.indexOf(p)>-1&&l.removeAttr(\"disabled\")}}function V(e){-1===d.indexOf(e)&&d.push(e),U()}function F(e){return e.replace(new RegExp(\"\\\\_num\\\\d*\",\"gm\"),\"\")}},function(e,t,n){\"use strict\";var r=n(14);Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadDriverPortal=x;var i,o=r(n(20)),a=r(n(128)),s=n(24),u=n(60),c=n(52),l=new TweenLite(\"#installed-panel\",1,{ease:Power2.easeInOut,paused:!0,top:\"0px\"}),f=new TweenLite(\"#driver-add-panel\",1,{ease:Power2.easeInOut,paused:!0,left:\"0px\"}),d=new TweenLite(\"#driver-template-panel\",1,{ease:Power2.easeInOut,paused:!0,right:\"0px\"}),h=new TweenLite(\"#driver-content-panel\",1,{ease:Power2.easeInOut,paused:!0,bottom:\"10%\"}),p=(new TweenLite(\"#driver-overflow-details-panel\",1,{ease:Power2.easeInOut,paused:!0,bottom:\"10%\"}),new TweenLite(\"#black-screen\",.5,{ease:Power2.easeInOut,paused:!0,autoAlpha:\"1\"})),v=\"center\";function g(e){switch(v){case\"left\":\"right\"===e&&m(\"installed\");break;case\"center\":switch(e){case\"left\":m(\"add\");break;case\"right\":m(\"template\")}v=e;break;case\"right\":\"left\"===e&&m(\"installed\")}}function m(e){switch(y(),e){case\"add\":f.play(),$(\"#driver-add-tab\").addClass(\"active\"),v=\"left\";break;case\"installed\":l.play(),$(\"#installed-tab\").addClass(\"active\"),v=\"center\";break;case\"template\":d.play(),$(\"#driver-template-tab\").addClass(\"active\"),v=\"right\"}}function y(){switch(v){case\"left\":$(\"#sub-nav .active\").removeClass(\"active\"),$(\"#driver-content-panel\").hasClass(\"open\")&&(h.reverse(),p.reverse()),f.reverse();break;case\"center\":$(\"#sub-nav .active\").removeClass(\"active\"),l.reverse();break;case\"right\":$(\"#sub-nav .active\").removeClass(\"active\"),d.reverse()}}function b(){$(\"#driver-content-panel\").hasClass(\"open\")||(p.play(),h.play(),$(\"#driver-content-panel\").addClass(\"open\"),$(\"#driver-content-panel\").removeClass(\"hidden\"),$(\"#driver-content-panel\").addClass(\"active\"))}function w(){$(\"#driver-content-panel\").hasClass(\"active\")&&(p.reverse(),h.reverse(),$(\"#driver-content-panel\").removeClass(\"open\"),$(\"#driver-content-panel\").removeClass(\"active\"),$(\"#driver-content-panel\").addClass(\"hidden\"))}function x(){$(\".checkbox-level\").change(function(){$(this).is(\":checked\")?$(\"#log-div\").removeClass(\"hide-\"+this.name):$(\"#log-div\").addClass(\"hide-\"+this.name)}),$(\"#sub-nav\").load(\"/StackV-web/nav/driver_navbar.html\",function(){switch((0,c.setRefresh)($(\"#refresh-timer\").val()),v){case\"left\":$(\"#driver-add-tab\").addClass(\"active\");break;case\"center\":$(\"#installed-tab\").addClass(\"active\");break;case\"right\":$(\"#driver-template-tab\").addClass(\"active\")}$(\"#driver-add-tab\").click(function(){y(),m(\"add\")}),$(\"#installed-tab\").click(function(){y(),m(\"installed\")}),$(\"#driver-template-tab\").click(function(){y(),m(\"template\")})}),$(\"#filter-search-clear\").click(function(){$(\"#filter-search-input\").val(\"\"),(0,u.loadLogs)()}),A(),C(),D(),$(\".install-button\").click(function(){switch(b(),k(),_(),$(this).id()){case\"button-install-aws\":t=document.createElement(\"p\"),n=document.createElement(\"input\"),r=document.createElement(\"p\"),i=document.createElement(\"input\"),o=document.createElement(\"p\"),a=document.createElement(\"input\"),u=document.createElement(\"p\"),c=document.createElement(\"input\"),l=document.createElement(\"p\"),f=document.createElement(\"input\"),d=document.createElement(\"p\"),h=document.createElement(\"input\"),p=document.createElement(\"p\"),v=document.createElement(\"input\"),g=document.createElement(\"p\"),m=document.createElement(\"SELECT\"),y=document.createElement(\"option\"),x=document.createElement(\"option\"),C=document.createElement(\"option\"),S=document.createElement(\"option\"),E=document.createElement(\"option\"),A=document.createElement(\"option\"),M=document.createElement(\"option\"),N=document.createElement(\"option\"),L=document.createElement(\"option\"),D=document.createElement(\"option\"),P=document.getElementById(\"install-type\"),$(\"#info-panel-title\").text(\"AWS Driver\"),document.getElementById(\"info-panel-title\").title=\"AwsDriver\",t.innerHTML=\"Topology URI:\",t.style.color=\"#333\",n.type=\"text\",n.id=\"TOPURI\",r.innerHTML=\"Amazon Access ID:\",r.style.color=\"#333\",i.type=\"text\",i.id=\"aws_access_key_id\",o.innerHTML=\"Amazon Secret Key:\",o.style.color=\"#333\",a.type=\"text\",a.id=\"aws_secret_access_key\",u.innerHTML=\"Default Instance\",u.style.color=\"#333\",c.type=\"text\",c.id=\"instance\",l.innerHTML=\"Default Image\",l.style.color=\"#333\",f.type=\"text\",f.id=\"image\",d.innerHTML=\"Default Key Pair\",d.style.color=\"#333\",h.type=\"text\",h.id=\"key-pair\",p.innerHTML=\"Default Sec Group\",p.style.color=\"#333\",v.type=\"text\",v.id=\"sec-group\",g.innerHTML=\"Region\",g.style.color=\"#333\",y.text=\"us-east-1\",x.text=\"us-east-2\",C.text=\"us-west-1\",S.text=\"us-west-2\",E.text=\"eu-west-1\",A.text=\"eu-central-1\",M.text=\"ap-southeast-1\",N.text=\"ap-southeast-2\",L.text=\"ap-northeast-1\",D.text=\"sa-east-1\",m.add(y),m.add(x),m.add(C),m.add(S),m.add(E),m.add(A),m.add(M),m.add(N),m.add(L),m.add(D),m.id=\"region\",P.appendChild(t),P.appendChild(n),P.appendChild(r),P.appendChild(i),P.appendChild(o),P.appendChild(a),P.appendChild(u),P.appendChild(c),P.appendChild(l),P.appendChild(f),P.appendChild(d),P.appendChild(h),P.appendChild(p),P.appendChild(v),P.appendChild(g),P.appendChild(m),T();break;case\"button-install-generic\":!function(){var e=document.createElement(\"p\"),t=document.createElement(\"input\"),n=document.createElement(\"p\"),r=document.createElement(\"input\"),i=document.getElementById(\"install-type\");$(\"#info-panel-title\").text(\"Generic REST Driver\"),document.getElementById(\"info-panel-title\").title=\"GenericRESTDriver\",e.innerHTML=\"Topology URI:\",e.style.color=\"#333\",t.type=\"text\",t.id=\"TOPURI\",n.innerHTML=\"Subsystem Base URL:\",n.style.color=\"#333\",r.type=\"text\",r.id=\"subsystemwindow.location.origin\",i.appendChild(e),i.appendChild(t),i.appendChild(n),i.appendChild(r)}(),T();break;case\"button-install-openstack\":!function(){var e=document.getElementById(\"install-type\"),t=document.createElement(\"p\"),n=document.createElement(\"textarea\"),r=[];$(\"#info-panel-title\").text(\"Open Stack Driver\"),document.getElementById(\"info-panel-title\").title=\"OpenStackDriver\";for(var i=0;i<26;i+=2){var o=document.createElement(\"p\"),a=document.createElement(\"input\");o.style.color=\"#333\",a.type=\"text\",r[i]=o,r[i+1]=a}r[0].innerHTML=\"Topology URI:\",r[1].id=\"TOPURI\",r[2].innerHTML=\"Openstack Username:\",r[3].id=\"username\",r[4].innerHTML=\"Openstack Password:\",r[5].id=\"password\",r[6].innerHTML=\"NAT Server:\",r[7].id=\"NATServer\",r[8].innerHTML=\"URL:\",r[9].id=\"url\",r[10].innerHTML=\"Tenant:\",r[11].id=\"tenant\",r[12].innerHTML=\"Admin Username:\",r[13].id=\"adminUsername\",r[14].innerHTML=\"Admin Password:\",r[15].id=\"adminPassword\",r[16].innerHTML=\"Admin Tenant:\",r[17].id=\"adminTenant\",r[18].innerHTML=\"Default Image:\",r[19].id=\"defaultImage\",r[20].innerHTML=\"Default Flavor:\",r[21].id=\"defaultFlavor\",r[22].innerHTML=\"Default Key Pair\",r[23].id=\"key-pair\",r[24].innerHTML=\"Default Sec Group\",r[25].id=\"sec-group\",t.innerHTML=\"ModelExt:\",t.style.color=\"#333\",n.id=\"modelExt\",n.rows=\"15\",n.cols=\"30\";for(var s=0;s<26;s++)e.appendChild(r[s]);e.appendChild(t),e.appendChild(n)}(),T();break;case\"button-install-stack\":!function(){var e=document.createElement(\"p\"),t=document.createElement(\"input\"),n=document.createElement(\"p\"),r=document.createElement(\"input\"),i=document.createElement(\"p\"),o=document.createElement(\"input\"),a=document.createElement(\"p\"),s=document.createElement(\"input\"),u=document.getElementById(\"install-type\");$(\"#info-panel-title\").text(\"Stack System Driver\"),document.getElementById(\"info-panel-title\").title=\"StackSystemDriver\",e.innerHTML=\"Topology URI:\",e.style.color=\"#333\",t.type=\"text\",t.id=\"TOPURI\",n.innerHTML=\"Subsystem Base URL:\",n.style.color=\"#333\",r.type=\"text\",r.id=\"subsystemwindow.location.origin\",i.innerHTML=\"Authorization Server:\",i.style.color=\"#333\",o.type=\"text\",o.id=\"authServer\",a.innerHTML=\"Credentials:\",a.style.color=\"#333\",s.type=\"password\",s.id=\"credentials\",u.appendChild(e),u.appendChild(t),u.appendChild(n),u.appendChild(r),u.appendChild(i),u.appendChild(o),u.appendChild(a),u.appendChild(s)}(),T();break;case\"button-install-stub\":!function(){var e=document.createElement(\"p\"),t=document.createElement(\"input\"),n=document.createElement(\"p\"),r=document.createElement(\"textarea\"),i=document.getElementById(\"install-type\");$(\"#info-panel-title\").text(\"Stub System Driver\"),document.getElementById(\"info-panel-title\").title=\"StubSystemDriver\",e.innerHTML=\"Topology URI:\",e.style.color=\"#333\",t.type=\"text\",t.id=\"TOPURI\",n.innerHTML=\"TTL:\",n.style.color=\"#333\",r.id=\"stubModelTtl\",r.rows=\"20\",r.cols=\"50\",i.appendChild(e),i.appendChild(t),i.appendChild(n),i.appendChild(r)}(),T();break;case\"button-install-raw\":!function(){var e=document.createElement(\"p\"),t=document.createElement(\"textarea\"),n=document.getElementById(\"install-type\");$(\"#info-panel-title\").text(\"Raw Driver\"),document.getElementById(\"info-panel-title\").title=\"RawDriver\",e.innerHTML=\"Enter Raw XML:\",e.style.color=\"#333\",t.id=\"rawXML\",t.rows=\"15\",t.cols=\"45\",n.appendChild(e),n.appendChild(t)}(),(e=document.createElement(\"button\")).className=\"button-profile-select btn btn-default\",e.innerHTML=\"Install Driver\",e.onclick=function(){var e,t;e=window.location.origin+\"/StackV-web/restapi/driver\",t=document.getElementById(\"rawXML\").value,$.ajax({url:e,data:t,type:\"POST\",contentType:\"application/xml\",dataType:\"xml\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+s.keycloak.token),e.setRequestHeader(\"Refresh\",s.keycloak.refreshToken)},success:function(e){document.getElementById(\"ret_field\").innerHTML=e}}),R(),w()},document.getElementById(\"install-options\").appendChild(e)}var e,t,n,r,i,o,a,u,c,l,f,d,h,p,v,g,m,y,x,C,S,E,A,M,N,L,D,P})}function _(){$(\"#driver-content-panel\").removeClass(\"hidden\"),$(\"#driver-content-panel\").addClass(\"active\"),$(\"#driver-panel-right\").addClass(\"active-detail\"),$(\"#install-content\").addClass(\"active\"),$(\"#driver-panel-top\").removeClass(\"no-side-tab\"),$(\"#driver-panel-bot\").removeClass(\"no-side-tab\"),$(\"#driver-panel-top\").addClass(\"side-tab\"),$(\"#driver-panel-bot\").addClass(\"side-tab\")}function k(){$(\"#info-panel-title\").text(\"Details\"),$(\"#install-type\").empty(),$(\"#install-options\").empty(),$(\"#install-type-right\").empty(),document.getElementById(\"info-panel-title\").title=\"\",document.getElementById(\"install-type-right\").style=\"\",document.getElementById(\"install-type\").style=\"\",document.getElementById(\"install-options\").style=\"\";var e=document.createElement(\"button\");e.innerHTML=\"Close\",e.className=\"button-profile-select btn btn-default\",e.onclick=function(){k(),w()},document.getElementById(\"install-options\").appendChild(e)}function T(){var e=document.createElement(\"button\");e.className=\"button-profile-select btn btn-default\",e.innerHTML=\"Save Driver\",e.onclick=function(){!function(){$(\"#info-fields\").empty(),$(\"#info-option\").empty();var e=document.getElementById(\"info-fields\"),t=document.createElement(\"p\"),n=document.createElement(\"input\"),r=document.createElement(\"p\"),i=document.createElement(\"input\"),u=document.createElement(\"button\"),c=document.createElement(\"button\");u.className=\"button-profile-select btn btn-warning\",c.className=\"button-profile-select btn btn-default\",$(\"#info-panel\").addClass(\"active\"),t.innerHTML=\"Driver Name:\",n.type=\"text\",n.id=\"drivername\",e.appendChild(t),e.appendChild(n),r.innerHTML=\"Description:\",i.type=\"text\",i.id=\"description\",e.appendChild(r),e.appendChild(i),u.innerHTML=\"Save Driver\",u.style=\"margin: 5px\",u.onclick=function(){var e=$(\"#drivername\");e.val().length>0?function(){var e=s.keycloak.tokenParsed.preferred_username,t=window.location.origin+\"/StackV-web/restapi/app/driver/\"+e+\"/add\",n=[],r={},i=document.getElementById(\"description\").value,u=document.getElementById(\"drivername\").value,c=document.getElementById(\"TOPURI\").value,l=document.getElementById(\"info-panel-title\").title;$(\"#black-screen\").addClass(\"off\"),$(\"#info-panel\").removeClass();var f=!0,d=!1,h=void 0;try{for(var p,v=(0,a.default)(document.getElementsByTagName(\"input\"));!(f=(p=v.next()).done);f=!0){var g=p.value;g!==document.getElementById(\"description\")&&g!==document.getElementById(\"drivername\")&&\"\"!==g.value&&(r[g.id]=g.value)}}catch(e){d=!0,h=e}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}var m=!0,y=!1,b=void 0;try{for(var w,x=(0,a.default)(document.getElementsByTagName(\"textarea\"));!(m=(w=x.next()).done);m=!0){var _=w.value;\"\"!==_.value&&(r[_.id]=_.value)}}catch(e){y=!0,b=e}finally{try{m||null==x.return||x.return()}finally{if(y)throw b}}n.push(r);var k=(0,o.default)({jsonData:n}),T=(0,o.default)({username:e,drivername:u,driverDescription:i,data:k,topuri:c,drivertype:l});$.ajax({url:t,type:\"PUT\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+s.keycloak.token),e.setRequestHeader(\"Refresh\",s.keycloak.refreshToken)},contentType:\"application/json\",data:T,success:function(){R()},error:function(e){$(\"#dialog-confirm-text\").text(e),$(\"#dialog-confirm\").dialog({show:\"slide\",resizeable:!1,draggable:!1,title:\"Saving Driver Profile Failed\",height:\"auto\",width:400,modal:!0,buttons:[{text:\"Close\",click:function(){$(this).dialog(\"close\")}}]})}})}():(e.addClass(\"invalid\"),e.change(function(){$(this).removeClass(\"invalid\")}))},c.innerHTML=\"Close\",c.style=\"margin: 5px\",c.onclick=function(){$(\"#info-panel\").removeClass(\"active\")},document.getElementById(\"info-option\").appendChild(c),document.getElementById(\"info-option\").appendChild(u)}()},document.getElementById(\"install-options\").appendChild(e);var t=document.createElement(\"button\");t.innerHTML=\"Install Driver\",t.className=\"button-profile-select btn btn-default\",t.onclick=function(){!function(){document.getElementById(\"install-type\");var e=window.location.origin+\"/StackV-web/restapi/app/driver/install\",t=[],n={},r=document.getElementById(\"info-panel-title\").title;console.log(\"installDriver type: \"+r);var i=!0,u=!1,c=void 0;try{for(var l,f=(0,a.default)(document.getElementsByTagName(\"input\"));!(i=(l=f.next()).done);i=!0){var d=l.value;d!==document.getElementById(\"description\")&&d!==document.getElementById(\"drivername\")&&\"\"!==d.value&&(n[d.id]=d.value)}}catch(e){u=!0,c=e}finally{try{i||null==f.return||f.return()}finally{if(u)throw c}}var h=!0,p=!1,v=void 0;try{for(var g,m=(0,a.default)(document.getElementsByTagName(\"textarea\"));!(h=(g=m.next()).done);h=!0){var y=g.value;\"\"!==y.value&&(n[y.id]=y.value)}}catch(e){p=!0,v=e}finally{try{h||null==m.return||m.return()}finally{if(p)throw v}}var b=!0,w=!1,x=void 0;try{for(var _,k=(0,a.default)(document.getElementsByTagName(\"select\"));!(b=(_=k.next()).done);b=!0){var T=_.value;T!==document.getElementById(\"select-logging-level\")&&T!==document.getElementById(\"refresh-timer\")&&\"\"!==T.value&&(n[T.id]=T.value)}}catch(e){w=!0,x=e}finally{try{b||null==k.return||k.return()}finally{if(w)throw x}}n.driverType=r,t.push(n);var C=(0,o.default)({jsonData:t});$.ajax({url:e,type:\"PUT\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+s.keycloak.token),e.setRequestHeader(\"Refresh\",s.keycloak.refreshToken)},contentType:\"application/json\",data:C,success:function(e){$(\"#dialog-confirm-text\").text(e),$(\"#dialog-confirm\").dialog({show:\"slide\",resizable:!1,draggable:!1,title:\"Driver Installation Result\",height:\"auto\",width:400,modal:!0,buttons:[{text:\"OK\",click:function(){$(this).dialog(\"close\")}}]}),setTimeout(A(),3e3)},error:function(e){var t=e.responseText,n=e.status,r=e.statusText;console.log(\"installDriver error: \\nResponse Text: \"+(0,o.default)(t)+\"\\nStatus: \"+n+\"\\nStatus Text: \"+r),$(\"#dialog-confirm-text\").text(\"EXCEPTION:\"+t),$(\"#dialog-confirm\").dialog({show:\"slide\",resizable:!0,draggable:!0,title:\"Driver Installation Failed Due to \"+n+\" \"+r,height:500,width:600,modal:!0,buttons:[{text:\"OK\",click:function(){$(this).dialog(\"close\")}}]})}})}(),R(),w()},document.getElementById(\"install-options\").appendChild(t)}function C(){var e=s.keycloak.tokenParsed.preferred_username,t=document.getElementById(\"saved-table\"),n=window.location.origin+\"/StackV-web/restapi/app/driver/\"+e+\"/get\";$.ajax({url:n,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+s.keycloak.token),e.setRequestHeader(\"Refresh\",s.keycloak.refreshToken)},success:function(e){$(\"#saved-table\").empty();for(var n=0;n<e.length;n+=5){var r=document.createElement(\"tr\"),i=document.createElement(\"td\"),a=document.createElement(\"td\"),u=document.createElement(\"td\"),c=document.createElement(\"button\"),l=document.createElement(\"button\"),f=document.createElement(\"button\"),d=document.createElement(\"button\"),h=e[n+2];c.className=\"button-profile-select btn btn-default\",c.style.width=\"64px\",c.innerHTML=\"Details\",c.id=h,c.onclick=function(){$(\"#driver-content-panel\").removeClass(\"hidden\"),$(\"#driver-content-panel\").addClass(\"active\"),$(\"#info-panel-title\").text(\"Details\"),k(),_(),E(this.id),b()},l.className=\"button-profile-select btn btn-danger\",l.style.width=\"64px\",l.innerHTML=\"Delete\",l.id=h,l.setAttribute(\"del-button-for\",e[n]),l.onclick=function(){var e=this.id,t=this.getAttribute(\"del-button-for\");$(\"#dialog-confirm-text\").text(t),$(\"#dialog-confirm\").dialog({show:\"slide\",resizeable:!1,draggable:!1,title:\"Are you sure you want to delete this template?\",height:\"auto\",width:400,modal:!0,buttons:[{text:\"Delete\",click:function(){var t,n,r,i;t=e,n=s.keycloak.tokenParsed.preferred_username,r=t,i=window.location.origin+\"/StackV-web/restapi/app/driver/\"+n+\"/delete/\"+r,$.ajax({url:i,type:\"DELETE\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+s.keycloak.token),e.setRequestHeader(\"Refresh\",s.keycloak.refreshToken)},success:function(e){C(),R()},error:function(e){var t=e.responseText,n=e.status,r=e.statusText;console.log(\"removeDriverProfile error: \\nResponse Text: \"+(0,o.default)(t)+\"\\nStatus: \"+n+\"\\nStatus Text: \"+r),$(\"#dialog-confirm-text\").text(\"EXCEPTION:\"+t),$(\"#dialog-confirm\").dialog({show:\"slide\",resizable:!0,draggable:!0,title:\"Driver Profile Deletion Failed Due to \"+n+\" \"+r,height:500,width:600,modal:!0,buttons:[{text:\"OK\",click:function(){$(this).dialog(\"close\")}}]})}}),$(this).dialog(\"close\")}},{text:\"Close\",click:function(){$(this).dialog(\"close\")}}]})},f.innerHTML=\"Edit\",f.style.width=\"64px\",f.className=\"button-profile-select btn btn-warning\",f.id=h,f.onclick=function(){$(\"#driver-content-panel\").removeClass(\"hidden\"),$(\"#driver-content-panel\").addClass(\"active\"),$(\"#info-panel-title\").text(\"Details\"),k(),_(),S(this.id),b()},d.innerHTML=\"Install\",d.style.width=\"64px\",d.className=\"button-profile-select btn btn-primary\",d.id=h,d.onclick=function(){L(this.id)},i.innerHTML=e[n],a.innerHTML=e[n+3],u.appendChild(c),u.appendChild(d),u.appendChild(f),u.appendChild(l),u.style.width=\"350px\",r.appendChild(i),r.appendChild(a),r.appendChild(u),t.appendChild(r)}}})}function S(e){var t=s.keycloak.tokenParsed.preferred_username,n=document.getElementById(\"install-type\"),r=document.getElementById(\"install-options\"),i=e,u=window.location.origin+\"/StackV-web/restapi/app/driver/\"+t+\"/getdetails/\"+i,c=document.createElement(\"table\"),l=document.createElement(\"thead\"),f=document.createElement(\"tr\"),d=document.createElement(\"th\"),h=document.createElement(\"th\");$(c).addClass(\"management-table\"),c.id=\"details_table\",d.innerHTML=\"Key\",h.innerHTML=\"Value\",f.appendChild(d),f.appendChild(h),l.appendChild(f),c.appendChild(l),$.ajax({url:u,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+s.keycloak.token),e.setRequestHeader(\"Refresh\",s.keycloak.refreshToken)},success:function(e){var t=e.TOPURI;for(var n in e)if(e.hasOwnProperty(n)){var i=document.createElement(\"tr\"),u=document.createElement(\"td\"),l=document.createElement(\"td\"),f=document.createElement(\"textarea\");f.rows=\"1\",u.innerHTML=n,f.id=n,f.value=e[n],l.appendChild(f),i.appendChild(u),i.appendChild(l),c.appendChild(i)}var d=document.createElement(\"button\");d.className=\"button-profile-select btn btn-success\",d.id=t,d.innerHTML=\"Save Changes\",d.onclick=function(){!function(e){var t=s.keycloak.tokenParsed.preferred_username,n=window.location.origin+\"/StackV-web/restapi/app/driver/\"+t+\"/edit/\"+e,r=[],i={},u=document.getElementById(\"TOPURI\").value,c=!0,l=!1,f=void 0;try{for(var d,h=(0,a.default)(document.getElementsByTagName(\"textarea\"));!(c=(d=h.next()).done);c=!0){var p=d.value;\"\"!==p&&(i[p.id]=p.value)}}catch(e){l=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}r.push(i);var v=(0,o.default)({jsonData:r}),g=(0,o.default)({username:t,topuri:u,data:v});$.ajax({url:n,type:\"PUT\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+s.keycloak.token),e.setRequestHeader(\"Refresh\",s.keycloak.refreshToken)},contentType:\"application/json\",data:g,success:function(t){$(\"button[id=\"+e+\"]\").attr(\"id\",u),w(),$(\"#dialog-confirm-text\").text(t),$(\"#dialog-confirm\").dialog({show:\"slide\",resizable:!1,draggable:!1,title:\"Edit Driver Result\",height:\"auto\",width:400,modal:!0,buttons:[{text:\"OK\",click:function(){$(this).dialog(\"close\")}}]})},error:function(e){console.log(\"Error in saveEditedDriverProfile: \"+e)}})}(this.id)},r.appendChild(d),$(\"#info-panel-title\").text(\"Edit Details\")},error:function(e,t,n){console.log(\"Failure. Status: \"+t+\", errorThrown: \"+n)}}),n.appendChild(c)}function E(e){var t=s.keycloak.tokenParsed.preferred_username,n=document.getElementById(\"install-type\"),r=document.getElementById(\"install-options\"),i=e,o=window.location.origin+\"/StackV-web/restapi/app/driver/\"+t+\"/getdetails/\"+i,a=document.createElement(\"table\"),u=document.createElement(\"thead\"),c=document.createElement(\"tr\"),l=document.createElement(\"th\"),f=document.createElement(\"th\");$(a).addClass(\"management-table\"),a.id=\"details_table\",l.innerHTML=\"Key\",f.innerHTML=\"Value\",c.appendChild(l),c.appendChild(f),u.appendChild(c),a.appendChild(u),$.ajax({url:o,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+s.keycloak.token),e.setRequestHeader(\"Refresh\",s.keycloak.refreshToken)},success:function(e){for(var t in $(\"#installed-type\").empty(),e)if(e.hasOwnProperty(t)){var n=document.createElement(\"tr\"),i=document.createElement(\"td\"),o=document.createElement(\"td\");i.innerHTML=t,o.innerHTML=e[t],n.appendChild(i),n.appendChild(o),a.appendChild(n)}var s=document.createElement(\"button\");s.className=\"button-profile-select btn btn-primary\",s.innerHTML=\"Install\",s.onclick=function(){L(e.TOPURI)},r.appendChild(s)},error:function(e,t,n){console.log(\"Failure. Status: \"+t+\", errorThrown: \"+n)}}),n.appendChild(a)}function A(){var e=document.getElementById(\"installed-body\"),t=window.location.origin+\"/StackV-web/restapi/driver/\";$.ajax({url:t,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+s.keycloak.token),e.setRequestHeader(\"Refresh\",s.keycloak.refreshToken)},success:function(t){$(\"#installed-body\").empty();for(var n=0;n<t.length;n+=3){var r=document.createElement(\"tr\"),i=document.createElement(\"td\"),a=document.createElement(\"td\"),u=document.createElement(\"td\"),c=document.createElement(\"button\"),f=document.createElement(\"button\");i.innerHTML=t[n+2],a.innerHTML=t[n+1],c.innerHTML=\"Details\",c.style.width=\"64px\",c.className=\"button-profile-select btn btn-default\",c.onclick=function(){k(),_(),N(this.id),b()},c.id=t[n],f.innerHTML=\"Delete\",f.style.width=\"64px\",f.className=\"button-profile-select btn btn-danger\",f.setAttribute(\"del-button-for\",t[n+2]),f.onclick=function(){var e=this.getAttribute(\"del-button-for\"),t=this.id;$(\"#dialog-confirm-text\").text(e),$(\"#dialog-confirm\").dialog({show:\"slide\",resizable:!1,draggable:!1,title:\"Are you sure you want to delete this driver?\",height:\"auto\",width:400,modal:!0,buttons:[{text:\"Delete\",click:function(){var e,n;e=t,n=window.location.origin+\"/StackV-web/restapi/driver/\"+e,$.ajax({url:n,type:\"DELETE\",datatype:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+s.keycloak.token),e.setRequestHeader(\"Refresh\",s.keycloak.refreshToken)},success:function(){C(),R()},error:function(t){k(),_(),console.log(\"removeDriver error: \"+(0,o.default)(t)),console.log(\"removeDriver error status: \"+(0,o.default)(t.status)),console.log(\"removeDriver error statusText: \"+(0,o.default)(t.statusText));var n,r=t.responseText,i=r.replace(/\\[/g,'[\"'),a=i.replace(/,/g,'\",\"'),s=a.replace(/\\]/g,'\"]'),u=s.replace(/\\s/g,\"\");try{n=JSON.parse(u)}catch(e){return console.log(\"removeDriver syntax error: \"+e),$(\"#dialog-confirm-text\").text((0,o.default)(t)),void $(\"#dialog-confirm\").dialog({show:\"slide\",resizeable:!1,draggable:!1,title:\"Driver Deletion Failed Due to \"+t.status+\" \"+t.statusText,height:\"auto\",width:400,modal:!0,buttons:[{text:\"Close\",click:function(){$(this).dialog(\"close\")}}]})}console.log(\"parsed Well formatted Response Text: \"+n);var c=$(\"#service-instances\"),l=$(\"#service-instances-body\");l.append(\"<hr>\");for(var f=0;f<n.length;f++){var d=n[f],h=document.createElement(\"div\"),p=document.createElement(\"p\"),v=document.createElement(\"button\");p.innerHTML=d,p.style.display=\"inline-block\",v.id=d,v.title=e,v.className=\"button-profile-select btn btn-danger\",v.style.display=\"inline-block\",v.style.margin=\"10px\",v.innerHTML=\"Delete Service\",v.onclick=function(){M(this.id,$(this))},h.appendChild(p),h.appendChild(v),l.append(h),l.append(\"<hr>\")}c.dialog({close:function(){$(\"#service-instances-body\").empty()},show:\"slide\",resizeable:!0,draggable:!0,title:\"Driver Deletion Failed Due to Service Instances:\",height:\"auto\",width:450,modal:!0,buttons:[{text:\"Close\",click:function(){$(this).dialog(\"close\")}}]})}}),$(this).dialog(\"close\")}},{text:\"Cancel\",click:function(){$(this).dialog(\"close\")}}]})},f.id=t[n+2],u.appendChild(c),u.appendChild(f),u.style.width=\"170px\",r.appendChild(i),r.appendChild(a),r.appendChild(u),e.appendChild(r)}\"center\"===v&&l.play()}})}function M(e,t){var n=window.location.origin+\"/StackV-web/restapi/app/service/\"+e+\"/status/\",r=\"\";$.ajax({url:n,async:!1,type:\"GET\",success:function(e){r=e}}),\"\"===r?(n=window.location.origin+\"/StackV-web/restapi/service/\"+e,$.ajax({url:n,type:\"DELETE\",success:function(e){$(\"#dialog-confirm-text\").text(e),$(\"#dialog-confirm\").dialog({show:\"slide\",resizeable:!1,draggable:!1,title:\"Service Instance Deletion Result\",height:\"auto\",width:400,modal:!0,buttons:[{text:\"Close\",click:function(){$(this).dialog(\"close\")}}]}),t.parent().remove()},error:function(e){console.log(\"deleteServiceInstance error: \"+e)}})):($(\"#dialog-confirm-text\").text(\"Service Instance is currently in \"+r+\" status. The service context will be permanently lost after deletion. Please confirm this operation.\"),$(\"#dialog-confirm\").dialog({show:\"slide\",resizeable:!1,draggable:!1,title:\"Service Instance Deletion Result\",height:\"auto\",width:400,modal:!0,buttons:[{text:\"Confirm\",click:function(){var n=window.location.origin+\"/StackV-web/restapi/service/\"+e;$.ajax({url:n,type:\"DELETE\",success:function(e){$(\"#dialog-confirm-text\").text(e),$(\"#dialog-confirm\").dialog({show:\"slide\",resizeable:!1,draggable:!1,title:\"Service Instance Deletion Result\",height:\"auto\",width:400,modal:!0,buttons:[{text:\"Close\",click:function(){$(this).dialog(\"close\")}}]}),t.parent().remove()},error:function(e){console.log(\"deleteServiceInstance error: \"+e)}})}},{text:\"Cancel\",click:function(){$(this).dialog(\"close\")}}]}))}function N(e){var t=e,n=document.getElementById(\"install-type\"),r=window.location.origin+\"/StackV-web/restapi/driver/\"+t,i=document.createElement(\"table\"),o=document.createElement(\"thead\"),a=document.createElement(\"tr\"),u=document.createElement(\"th\"),c=document.createElement(\"th\");$(i).addClass(\"management-table\"),u.innerHTML=\"Key\",c.innerHTML=\"Value\",a.appendChild(u),a.appendChild(c),o.appendChild(a),i.appendChild(o),$.ajax({url:r,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+s.keycloak.token),e.setRequestHeader(\"Refresh\",s.keycloak.refreshToken)},success:function(e){for(var t=0;t<e.length;t+=2){var r=document.createElement(\"tr\"),o=document.createElement(\"td\"),a=document.createElement(\"td\");o.innerHTML=e[t];var s=e[t+1];if(s.length>80){var u=document.createElement(\"button\");u.id=o.innerHTML,u.title=s,u.innerHTML=\"View Value\",u.className=\"button-profile-select btn btn-default\",u.onclick=function(){var e=this.id,t=this.title;$(\"#dialog-overflow-details-text\").text(t),$(\"#dialog-overflow-details\").dialog({height:450,show:\"slide\",width:400,resizable:!0,draggable:!0,title:e,modal:!0,buttons:[{text:\"Close\",click:function(){$(this).dialog(\"close\")}}]})},a.appendChild(u)}else a.innerHTML=s;r.appendChild(o),r.appendChild(a),i.appendChild(r),n.appendChild(i)}}})}function L(e){var t=e,n=s.keycloak.tokenParsed.preferred_username,r=window.location.origin+\"/StackV-web/restapi/app/driver/\"+n+\"/install/\"+t;$.ajax({url:r,type:\"PUT\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+s.keycloak.token),e.setRequestHeader(\"Refresh\",s.keycloak.refreshToken)},success:function(e){A(),k(),w(),$(\"#dialog-confirm-text\").text(e),$(\"#dialog-confirm\").dialog({show:\"slide\",resizable:!1,draggable:!1,title:\"Driver Installation Result\",height:\"auto\",width:400,modal:!0,buttons:[{text:\"OK\",click:function(){$(this).dialog(\"close\")}}]})},error:function(e){console.log(\"Error in plugDriver: \"+e)}})}function R(){s.keycloak.updateToken(90).error(function(){console.log(\"Error updating token!\")}).success(function(e){var t=$(\"#refresh-timer\").val();t>15?(\"center\"===v&&l.reverse(),setTimeout(function(){x(),D(),(0,c.refreshSync)(e,t)},1e3)):setTimeout(function(){x(),D(),(0,c.refreshSync)(e,t)},500)})}function D(){var e=window.location.origin+\"/StackV-web/restapi/service/ready\",t=$(\"#system-health-check\"),n=$(\"#system-health-check-text\");$.ajax({url:e,type:\"GET\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+s.keycloak.token),e.setRequestHeader(\"Refresh\",s.keycloak.refreshToken)},success:function(e){i!==e&&(!0===e?(n.text(\"System is fully intialized!\"),t.dialog({position:{my:\"right bottom\",at:\"right bottom\",of:window},show:\"slide\",resizeable:!1,draggable:!0,title:\"System Health Check\",height:100,width:250,classes:{\"ui-dialog\":\"ui-corner-all health-dialog-pass\"},modal:!1})):(n.text(\"System is not yet fully initialized! Please wait...\"),t.dialog({position:{my:\"right bottom\",at:\"right bottom\",of:window},show:\"slide\",resizeable:!1,draggable:!0,title:\"System Health Check\",height:100,width:250,classes:{\"ui-dialog\":\"ui-corner-all health-dialog-fail\"},modal:!1})),i=e)},error:function(e){console.log(\"Error in system health check: \"+(0,o.default)(e))}})}Mousetrap.bind({\"shift+left\":function(){window.location.href=\"/StackV-web/ops/details/templateDetails.jsp\"},\"shift+right\":function(){window.location.href=\"/StackV-web/portal/acl/\"},left:function(){g(\"left\")},right:function(){g(\"right\")},escape:function(){w()}})},function(module,exports,__webpack_require__){\"use strict\";var _interopRequireDefault=__webpack_require__(14);Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.loadDetails=loadDetails;var _stringify=_interopRequireDefault(__webpack_require__(20)),_nexus=__webpack_require__(24),_logging=__webpack_require__(60),_refresh=__webpack_require__(52),tweenDetailsPanel=new TweenLite(\"#details-panel\",1,{ease:Power2.easeInOut,paused:!0,top:\"0px\",opacity:\"1\",display:\"block\"}),tweenLoggingPanel=new TweenLite(\"#logging-panel\",1,{ease:Power2.easeInOut,paused:!0,left:\"0px\",opacity:\"1\",display:\"block\"}),tweenVisualPanel=new TweenLite(\"#visual-panel\",1,{ease:Power2.easeInOut,paused:!0,right:\"0px\",opacity:\"1\",display:\"block\"}),view=\"center\",$intentModal=$(\"#details-intent-modal\"),$loadingModal=$(\"#loading-modal\"),$confirmModal=$(\"#confirm-modal\"),intentConfig={width:750},loadingConfig={title:\"Loading\",icon:\"icon-power_settings_new\",headerColor:\"#229d43\",width:300,timeout:3e3,timeoutProgressbar:!0,transitionIn:\"fadeInDown\",transitionOut:\"fadeOutDown\",pauseOnHover:!1,overlayClose:!1,closeButton:!1,closeOnEscape:!1,onOpening:function(){$(\"#main-pane\").addClass(\"blurred\")},onClosing:function(){$(\"#main-pane\").removeClass(\"blurred\")}},confirmConfig={title:\"Confirm Deletion\",subtitle:\"Please confirm deletion of service instance. For termination of service, use Cancel instead of Delete.\",headerColor:\"#BD5B5B\",top:300,timeout:5e3,timeoutProgressbar:!0,transitionIn:\"fadeInDown\",transitionOut:\"fadeOutDown\",pauseOnHover:!0,onClosing:function(){$(\".instance-command\").attr(\"disabled\",!1),(0,_refresh.resumeRefresh)(),reloadData()}},refUUID,superState,subState,lastState,intent,$superState=$(\"#instance-superstate\"),$subState=$(\"#instance-substate\"),$lastState=$(\"#instance-laststate\"),buttons,instruction,$instruction=$(\"#instruction-block\"),verificationHasDrone=!0,verificationState,verificationResult,verificationRun,verificationElapsed,verificationTime,verificationAddition,verificationReduction;function viewShift(e){switch(view){case\"left\":\"right\"===e&&newView(\"details\");break;case\"center\":switch(e){case\"left\":newView(\"logging\");break;case\"right\":newView(\"visual\")}view=e;break;case\"right\":\"left\"===e&&newView(\"details\")}}function newView(e){switch(resetView(),e){case\"logging\":tweenLoggingPanel.play(),$(\"#logging-tab\").addClass(\"active\"),view=\"left\";break;case\"details\":tweenDetailsPanel.play(),$(\"#sub-details-tab\").addClass(\"active\"),view=\"center\";break;case\"visual\":tweenVisualPanel.play(),$(\"#visual-tab\").addClass(\"active\"),view=\"right\"}}function resetView(){switch(view){case\"left\":$(\"#sub-nav .active\").removeClass(\"active\"),tweenLoggingPanel.reverse();break;case\"center\":$(\"#sub-nav .active\").removeClass(\"active\"),tweenDetailsPanel.reverse();break;case\"right\":closeVisTabs(),$(\"#sub-nav .active\").removeClass(\"active\"),tweenVisualPanel.reverse()}}function loadDetails(){$(\"#sub-nav\").load(\"/StackV-web/nav/details_navbar.html\",function(){switch((0,_refresh.setRefresh)($(\"#refresh-timer\").val()),view){case\"left\":$(\"#logging-tab\").addClass(\"active\");break;case\"center\":$(\"#sub-details-tab\").addClass(\"active\");break;case\"right\":$(\"#visual-tab\").addClass(\"active\")}$(\"#logging-tab\").click(function(){resetView(),newView(\"logging\")}),$(\"#sub-details-tab\").click(function(){resetView(),newView(\"details\")}),$(\"#visual-tab\").click(function(){resetView(),newView(\"visual\")})}),$intentModal.html('<textarea readonly id=\"details-intent-modal-text\"></textarea>'),$intentModal.iziModal(intentConfig),$(\"#button-view-intent\").click(function(){$intentModal.iziModal(\"open\")}),$loadingModal.iziModal(loadingConfig),$confirmModal.html('</button><button class=\"button-confirm-delete btn btn-danger\">Delete</button><button class=\"button-confirm-close btn btn-primary\" data-izimodal-close=\"\">Close</button>'),$confirmModal.iziModal(confirmConfig),$(\".button-confirm-delete\").click(function(){executeCommand($(this).data(\"mode\"))});var e=sessionStorage.getItem(\"instance-uuid\");startDetailsEngine(e);var t=window.location.origin+\"/StackV-web/restapi/app/logging/logs/serverside?refUUID=\"+e;(0,_logging.loadLoggingDataTable)(t),(0,_logging.reloadLogs)(),tweenDetailsPanel.play()}Mousetrap.bind({\"shift+left\":function(){window.location.href=\"/StackV-web/portal/\"},\"shift+right\":function(){window.location.href=\"/StackV-web/portal/driver/\"},left:function(){viewShift(\"left\")},right:function(){viewShift(\"right\")}});var hasDrone=!0;function buildDeltaTable(e){var t=document.getElementById(\"details-panel\"),n=document.createElement(\"table\");n.className=\"management-table details-table \"+e.toLowerCase()+\"-delta-table\",n.id=e.toLowerCase()+\"-delta-table\";var r=document.createElement(\"thead\");r.className=\"delta-table-header\";var i=document.createElement(\"tr\"),o=document.createElement(\"th\");o.innerHTML=e+\" Delta\",i.appendChild(o),(o=document.createElement(\"th\")).innerHTML=\"Verified\",i.appendChild(o),(o=document.createElement(\"th\")).innerHTML=\"Unverified\",i.appendChild(o),i.appendChild(o),r.appendChild(i),n.appendChild(r);var a=document.createElement(\"tbody\");a.className=\"delta-table-body\",i=document.createElement(\"tr\");var s=e.substring(0,4).toLowerCase(),u=document.createElement(\"td\");i.appendChild(u),(u=document.createElement(\"td\")).id=s+\"-add\",i.appendChild(u);var c=document.createElement(\"td\");c.id=s+\"-red\",i.appendChild(c),a.appendChild(i),i=document.createElement(\"tr\");var l=document.createElement(\"td\");l.colSpan=\"3\",l.innerHTML='<button  class=\"details-model-toggle btn btn-default\" onclick=\"toggleTextModel(\\'.'+e.toLowerCase()+\"-delta-table', '#delta-\"+e+\"');\\\">Toggle Text Model</button>\",i.appendChild(l),a.appendChild(i),n.appendChild(a),t.appendChild(n)}function loadVisualization(){\"INIT\"===subState||\"FAILED\"===subState&&\"INIT\"===lastState||$(\"#details-viz\").load(\"/StackV-web/details_viz.html\",function(){document.getElementById(\"visual-panel\").innerHTML=\"\";var e={INIT:0,COMPILED:1,COMMITTING:2,\"COMMITTING-PARTIAL\":2,COMMITTED:3,FAILED:4,READY:5},t=[{name:\"Service\",state:\"COMPILED\",createContent:n.bind(void 0,\"Service\")},{name:\"System\",state:\"COMMITTING\",createContent:n.bind(void 0,\"System\")},{name:\"Verification\",state:\"COMMITTED\",createContent:n.bind(void 0,\"Verification\")}];function n(e){var t=document.createElement(\"div\");return t.classList.add(\"viz\"),t.id=\"sd_\"+e,t.appendChild(i(e+\" Addition\")),t.appendChild(i(e+\" Reduction\")),t.classList.add(\"tab-pane\"),t.classList.add(\"fade\"),t.classList.add(\"in\"),t.classList.add(\"viz-tab-content\"),t}function r(e,t){var n=document.createElement(\"a\");return n.href=\"#\",n.classList.add(\"viz-hdr\"),n.classList.add(\"unexpanded\"),n.id=e,n.text=t,n}function i(e){var t=document.createElement(\"table\");t.classList.add(\"management-table\"),t.classList.add(\"viz-table\");var n=document.createElement(\"tr\"),i=document.createElement(\"tr\"),o=document.createElement(\"th\"),a=document.createElement(\"th\"),s=document.createElement(\"td\");s.classList.add(\"viz-cell\");var u,c=document.createElement(\"td\");switch(c.classList.add(\"viz-cell\"),e){case\"System Addition\":if(t.id=\"sd_System_Addition\",u=r(\"sd_System_Addition_Link\",\"Addition\"),o.appendChild(u),s.classList.add(\"viz-cell\"),s.id=\"sd_System_Addition_Viz\",i.appendChild(s),!$(\"#sysa_viz_div\").hasClass(\"emptyViz\")){var l=document.getElementById(\"sysa_viz_div\");s.appendChild(l),l.classList.remove(\"hidden\")}break;case\"System Reduction\":if(t.id=\"sd_System_Reduction\",u=r(\"sd_System_Reduction_Link\",\"Reduction\"),a.appendChild(u),c.classList.add(\"viz-cell\"),c.id=\"sd_System_Reduction_Viz\",i.appendChild(c),!$(\"#sysr_viz_div\").hasClass(\"emptyViz\")){var f=document.getElementById(\"sysr_viz_div\");c.appendChild(f),f.classList.remove(\"hidden\")}break;case\"Service Addition\":if(t.id=\"sd_Service_Addition\",u=r(\"sd_Service_Addition_Link\",\"Addition\"),o.appendChild(u),s.classList.add(\"viz-cell\"),s.id=\"sd_Service_Addition_Viz\",i.appendChild(s),!$(\"#serva_viz_div\").hasClass(\"emptyViz\")){var d=document.getElementById(\"serva_viz_div\");s.appendChild(d),d.classList.remove(\"hidden\")}break;case\"Service Reduction\":if(t.id=\"sd_Service_Reduction\",u=r(\"sd_Service_Reduction_Link\",\"Reduction\"),a.appendChild(u),c.classList.add(\"viz-cell\"),c.id=\"sd_Service_Addition_Viz\",i.appendChild(c),!$(\"#servr_viz_div\").hasClass(\"emptyViz\")){var h=document.getElementById(\"servr_viz_div\");c.appendChild(h),h.classList.remove(\"hidden\")}break;case\"Verification Addition\":if(u=r(\"sd_Unverified_Addition_Link\",\"Unverified Addition\"),o.appendChild(u),s.classList.add(\"viz-cell\"),s.id=\"sd_Unverified_Addition_Viz\",i.appendChild(s),u=r(\"sd_Verified_Addition_Link\",\"Verified Addition\"),a.appendChild(u),c.classList.add(\"viz-cell\"),c.id=\"sd_Verified_Addition_Viz\",i.appendChild(c),!$(\"#va_viz_div\").hasClass(\"emptyViz\")||!$(\"#ua_viz_div\").hasClass(\"emptyViz\")){var p=document.getElementById(\"va_viz_div\"),v=document.getElementById(\"ua_viz_div\");s.appendChild(v),c.appendChild(p),v.classList.remove(\"hidden\"),p.classList.remove(\"hidden\")}break;case\"Verification Reduction\":if(u=r(\"sd_Unverified_Reduction_Link\",\"Unverified Reduction\"),o.appendChild(u),s.classList.add(\"viz-cell\"),s.id=\"sd_Unverified_Reduction_Viz\",i.appendChild(s),u=r(\"sd_Verified_Reduction_Link\",\"Verified Reduction\"),a.appendChild(u),c.classList.add(\"viz-cell\"),c.id=\"sd_Verified_Reduction_Viz\",i.appendChild(c),!$(\"#vr_viz_div\").hasClass(\"emptyViz\")||!$(\"#ur_viz_div\").hasClass(\"emptyViz\")){var g=document.getElementById(\"ur_viz_div\"),m=document.getElementById(\"vr_viz_div\");s.appendChild(g),c.appendChild(m),g.classList.remove(\"hidden\"),m.classList.remove(\"hidden\")}}return e.includes(\"Verification\")?(n.appendChild(o),n.appendChild(a)):e.includes(\"Addition\")?n.appendChild(o):n.appendChild(a),t.appendChild(n),t.appendChild(i),t}function o(e,t){var n=document.createElement(\"li\"),r=document.createElement(\"a\");r.href=\"#\"+function(e){return\"sd_\"+e.name.replace(/\\s+/g,\"\")}(e),r.text=e.name,r.setAttribute(\"data-toggle\",\"tab\"),n.appendChild(r),t.appendChild(n)}!function(){$(\".verification-table\").addClass(\"hide\"),$(\".system-delta-table\").addClass(\"hide\"),$(\".service-delta-table\").addClass(\"hide\"),$(\"#delta-Service\").addClass(\"hide\"),$(\"#delta-System\").addClass(\"hide\");var n=document.createElement(\"ul\");n.classList.add(\"nav\"),n.classList.add(\"nav-tabs\");var r=document.createElement(\"div\");r.classList.add(\"tab-content\"),r.classList.add(\"viz-tab-content\");for(var i=0;i<t.length;i++){var a=t[i];\"Verification\"===a.name&&null===verificationState||e[a.state]<=e[subState]&&(o(a,n),r.appendChild(a.createContent()))}if(n.lastChild){n.lastChild.classList.add(\"active\"),r.lastChild.classList.add(\"active\");var s=document.getElementById(\"visual-panel\");s.appendChild(n),s.appendChild(r),$(\".viz-hdr\").on(\"click\",function(){var e=$(this).closest(\".tab-pane\"),t=$(this).closest(\"th\"),n=t.closest(\"table\").find(\"td\").eq(t.index()),r=$(this).closest(\"table\"),i=n.children().eq(0),o=i.children(\".details-viz-text-model\"),a=o.children(\"pre\").eq(0),s=(a.width(),a.height());if(!i.hasClass(\"emptyViz\")){var u=i.children(\".details-viz-recenter-button\");$(this).hasClass(\"unexpanded\")?($(\"#instance-details-table\").hasClass(\"hide\")||$(\"#instance-details-table\").addClass(\"hide\"),e.find(\".viz-cell\").not(n).addClass(\"hide\"),e.find(\".viz-hdr\").closest(\"th\").not(t).addClass(\"hide\"),e.find(\".viz-table\").not(r).addClass(\"hide\"),i.addClass(\"expanded-viz-div\"),r.height(\"95%\"),$(this).removeClass(\"unexpanded\"),$(this).addClass(\"expanded\"),u.trigger(\"click\",[i.width(),i.height()]),a.width(\"inherit\"),a.addClass(\"expanded\"),a.height(2*i.height()),(0,_refresh.pauseRefresh)()):($(\"#instance-details-table\").hasClass(\"hide\")&&!$(\".viz-hdr.expanded\").not(this).length&&$(\"#instance-details-table\").removeClass(\"hide\"),e.find(\".viz-cell\").not(n).removeClass(\"hide\"),e.find(\".viz-hdr\").closest(\"th\").not(t).removeClass(\"hide\"),e.find(\".viz-table\").not(\".emptyVizTable\").removeClass(\"hide\"),r.height(\"10%\"),i.removeClass(\"expanded-viz-div\"),$(this).removeClass(\"expanded\"),$(this).addClass(\"unexpanded\"),u.trigger(\"click\",[i.width(),i.height()]),a.removeClass(\"expanded\"),a.width(\"initial\"),a.height(s/2.5),(0,_refresh.resumeRefresh)())}})}}(),\"right\"===view&&tweenVisualPanel.play()})}function closeVisTabs(){$(\".viz-hdr.expanded\").click()}function toggleTextModel(e,t){$(e.toLowerCase()).length?$(t).length?($(e.toLowerCase()).toggleClass(\"hide\"),t.toLowerCase().indexOf(\"service\")>0&&$(t).insertAfter(\"#instance-details-table\"),$(t).toggleClass(\"hide\")):alert(\"Text model not found\"):alert(\"Visualization not found\")}function reloadData(){_nexus.keycloak.updateToken(90).error(function(){console.log(\"Error updating token!\")}).success(function(e){var t=$(\"#refresh-timer\").val();if(t>15){switch(view){case\"left\":break;case\"center\":tweenDetailsPanel.reverse();break;case\"right\":tweenVisualPanel.reverse()}setTimeout(function(){(0,_logging.reloadLogs)(),updateData(),renderDetails(),$(\".delta-table-header\").click(function(){$(\"#body-\"+this.id).toggleClass(\"hide\")}),(0,_refresh.refreshSync)(e,t)},250)}else(0,_logging.reloadLogs)(),updateData(),renderDetails(),$(\".delta-table-header\").click(function(){$(\"#body-\"+this.id).toggleClass(\"hide\")}),(0,_refresh.refreshSync)(e,t)})}function startDetailsEngine(e){refUUID=e,attachListeners(),updateData(),renderDetails()}function renderDetails(){\"FAILED\"===subState?null!==lastState?$subState.html(subState+\" (after \"+lastState+\")\"):$subState.html(subState+\" (Fatal error)\"):$subState.html(subState),$superState.html(superState);var instructionRegEx=/{{(\\S*)}}/g.exec(instruction);if(instructionRegEx)for(var i=1;i<instructionRegEx.length;i++){var str=instructionRegEx[i],result=eval(instructionRegEx[i]);instruction=instruction.replace(\"{{\"+str+\"}}\",result)}for(var _i in verificationHasDrone&&verificationElapsed&&(instruction+=\" (Verification elapsed time: \"+verificationElapsed+\")\"),$instruction.html(instruction),$(\".instance-command\").addClass(\"hide\"),buttons){var button=buttons[_i];\"verify\"===button&&verificationHasDrone?$(\"#unverify\").removeClass(\"hide\"):\"cancel\"===button&&\"CANCEL\"===superState?$(\"#reinstate\").removeClass(\"hide\"):\"force_cancel\"===button&&\"CANCEL\"===superState?$(\"#force_reinstate\").removeClass(\"hide\"):$(\"#\"+button).removeClass(\"hide\")}}function updateData(){var e=window.location.origin+\"/StackV-web/restapi/app/details/\"+refUUID+\"/instance\";$.ajax({url:e,async:!1,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+_nexus.keycloak.token)},success:function(e){var t=e[1],n=e[2],r=e[3];if(superState=e[4],lastState=e[5],intent=e[6],$(\"#instance-alias\").html(t),$(\"#instance-uuid\").html(refUUID),$(\"#instance-owner\").html(r),$(\"#instance-creation-time\").html(n),0===intent.length)$(\"#button-view-intent\").hide();else{$(\"#button-view-intent\").show(),$(\"#details-intent-modal-text\").text(intent);var i=document.getElementById(\"details-intent-modal-text\").value,o=JSON.parse(i),a=(0,_stringify.default)(o,void 0,4);document.getElementById(\"details-intent-modal-text\").value=a}}}),e=window.location.origin+\"/StackV-web/restapi/app/service/\"+refUUID+\"/substatus\",$.ajax({url:e,async:!1,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+_nexus.keycloak.token),e.setRequestHeader(\"Refresh\",_nexus.keycloak.refreshToken)},success:function(e){subState=e}}),e=window.location.origin+\"/StackV-web/restapi/app/details/\"+refUUID+\"/verification\",$.ajax({url:e,async:!1,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+_nexus.keycloak.token)},success:function(t){verificationState=t[0],verificationResult=t[1],verificationRun=t[2],verificationTime=t[3],verificationAddition=t[4],verificationReduction=t[5],verificationElapsed=t[7],$.ajax({url:e+=\"/drone\",async:!1,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+_nexus.keycloak.token)},success:function(e){verificationHasDrone=\"1\"===e}})}}),$.ajax({type:\"GET\",async:!1,url:\"/StackV-web/data/json/detailsStates.json\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+_nexus.keycloak.token)},success:function(e){var t,n=superState in e&&subState in e[superState];n&&\"FAILED\"===subState&&(n=\"lastState\"in e[superState][subState]&&lastState in e[superState][subState].lastState),t=n?e[superState][subState]:e.default[subState],instruction=t.instruction,buttons=t.buttons;var r=t.verificationResult;if(r){var i=r[verificationResult];i&&i.instruction&&(instruction=i.instruction),i&&i.buttons&&(buttons=i.buttons)}var o=t.lastState;if(o){var a=o[lastState];a&&a.instruction&&(instruction=a.instruction),a&&a.buttons&&(buttons=a.buttons)}}})}function attachListeners(){$(document).on(\"click\",\".instance-command\",function(){$(\".instance-command\").attr(\"disabled\",!0),(0,_refresh.pauseRefresh)();var e=this.id,t=($(this),$(this).data(\"mode\"),window.location.origin+\"/StackV-web/restapi/service/\"+refUUID+\"/status\");$.ajax({url:t,async:!1,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+_nexus.keycloak.token),e.setRequestHeader(\"Refresh\",_nexus.keycloak.refreshToken)},success:function(t){subState!==t?($(\".instance-command\").attr(\"disabled\",!1),(0,_refresh.resumeRefresh)(),reloadData()):\"delete\"===e||\"force_delete\"===e?($(\".button-confirm-delete\").attr(\"data-mode\",e),$confirmModal.iziModal(\"open\")):($loadingModal.iziModal(\"open\"),executeCommand(e))}})})}function executeCommand(e){var t=window.location.origin+\"/StackV-web/restapi/app/service/\"+refUUID+\"/\"+e;switch($.ajax({url:t,type:\"PUT\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+_nexus.keycloak.token),e.setRequestHeader(\"Refresh\",_nexus.keycloak.refreshToken)},success:function(){\"delete\"!==e&&\"force_delete\"!==e||setTimeout(function(){sessionStorage.removeItem(\"instance-uuid\"),window.document.location=\"/StackV-web/portal/\"},250)}}),e){case\"delete\":case\"force_delete\":break;default:setTimeout(function(){$(\".instance-command\").attr(\"disabled\",!1),(0,_refresh.resumeRefresh)(),reloadData()},3e3)}}},function(e,t,n){\"use strict\";var r=n(14);Object.defineProperty(t,\"__esModule\",{value:!0}),t.ipaLogin=function(){var e=window.location.origin+\"/StackV-web/restapi/app/acl/ipa/login\";return $.ajax({url:e,type:\"POST\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+o.keycloak.token)},success:function(e){return\"Login Successful\"===e.Result},error:function(e){console.log(\"ipaLogin error: \"+(0,i.default)(e))}})},t.createUserGroup=s,t.addUsersToUserGroup=u,t.createHost=c,t.createHostGroup=l,t.addHostsToHostGroup=f,t.getHostsForServiceInstance=d,t.createHBACRule=h,t.addUserGroupToHBACRule=p,t.addHostGroupToHBACRule=v,t.addServicesToHBACRule=g,t.createLoginAclPolicy=function(e,t){var n=\"ug-login-\"+e,r=\"hg-login-\"+e,o=\"hbac-login-\"+e,a=[\"login\",\"sshd\"],c=[],m=null,y=null,b=null,x=!0,_={},k=s(n,\"Login user group for service instance: \"+e),T=l(r,\"Login host group for service instance: \"+e),C=h(o,\"Login HBAC Rule (login,ssh) for service instance: \"+e),S=d(e);return $.when(k,T,C,S).done(function(t,n,r,o){if(m=t[0].error,y=n[0].error,b=r[0].error,x=!0,o[0].serviceUUID===e){x=!1;var a=JSON.parse(o[0].jsonTemplate),s=a.hostgroup;s?(s.forEach(function(e){c.push(e.hostname)}),_.ReceivedHostsForServiceInstance=!0):(_.ReceivedHostsForServiceInstance=!1,_.ReceivedHostsForServiceInstanceError=(0,i.default)(o),x=!0)}else _.ReceivedHostsForServiceInstance=!1,_.ReceivedHostsForServiceInstanceError=(0,i.default)(o);null===m?_.CreatedUserGroup=!0:(_.CreatedUserGroup=!1,_.CreatedUserGroupError=m),null===y?_.CreatedHostGroup=!0:(_.CreatedHostGroup=!1,_.CreatedHostGroupError=y),null===b?_.CreatedHBACRule=!0:(_.CreatedHBACRule=!1,_.CreatedHBACRuleError=b)}).then(function(){if(m||y||b||x)return _.GroupAndRuleCreatedAndRightHostsFound=!1,w(e,\"login\"),_;_.GroupAndRuleCreatedAndRightHostsFound=!0;var s=u(t,n),l=f(c,r),d=p(n,o),h=v(r,o),k=g(a,o);return $.when(s,l,d,h,k).then(function(t,n,r,i,o){var a=t[0].error,s=t[0].result.completed,u=n[0].error,c=r[0].error,l=i[0].error,f=o[0].error;return null===a&&1===s?_.AddedUsersToUserGroup=!0:(_.AddedUsersToUserGroup=!1,_.AddedUsersToUserGroupError=a),null===u?_.AddedHostsToHostGroup=!0:(_.AddedHostsToHostGroup=!1,_.AddedHostsToHostGroupError=u),null===c?_.AddedUserGroupToHBAC=!0:(_.AddedUserGroupToHBAC=!1,_.AddedUserGroupToHBACError=c),null===l?_.AddedHostGroupToHBAC=!0:(_.AddedHostGroupToHBAC=!1,_.AddedHostGroupToHBACError=l),null===f?_.AddedServicesToHBAC=!0:(_.AddedServicesToHBAC=!1,_.AddedServicesToHBACError=f),f||a||1!==s||l||c?(_.AddedUsersHostsToGroupAndServicesToRule=!1,w(e,\"login\")):_.AddedUsersHostsToGroupAndServicesToRule=!0,_}).fail(function(e){console.log(\"IPA ACL Login policy creation failed: \"+(0,i.default)(e))})}).fail(function(e){console.log(\"IPA ACL Login policy creation failed: \"+(0,i.default)(e))})},t.createSudoAclPolicy=function(e,t){var n=\"ug-sudo-\"+e,r=\"hg-sudo-\"+e,o=\"hbac-sudo-\"+e,a=[\"login\",\"sshd\",\"sudo\"],c={},m=[],y=null,b=null,x=null,_=!0,k=s(n,\"Sudo user group for service instance: \"+e),T=l(r,\"Sudo host group for service instance: \"+e),C=h(o,\"Sudo HBAC Rule (login,ssh,sudo) for service instance: \"+e),S=d(e);return $.when(k,T,C,S).done(function(t,n,r,o){if(y=t[0].error,b=n[0].error,x=r[0].error,_=!0,o[0].serviceUUID===e){_=!1,c.ReceivedHostsForServiceInstance=!0;var a=JSON.parse(o[0].jsonTemplate),s=a.hostgroup;s?(s.forEach(function(e){m.push(e.hostname)}),c.ReceivedHostsForServiceInstance=!0):(c.ReceivedHostsForServiceInstance=!1,c.ReceivedHostsForServiceInstanceError=(0,i.default)(o),_=!0)}else c.ReceivedHostsForServiceInstance=!1,c.ReceivedHostsForServiceInstanceError=(0,i.default)(o);null===y?c.CreatedUserGroup=!0:(c.CreatedUserGroup=!1,c.CreatedUserGroupError=y),null===b?c.CreatedHostGroup=!0:(c.CreatedHostGroup=!1,c.CreatedHostGroupError=b),null===x?c.CreatedHBACRule=!0:(c.CreatedHBACRule=!1,c.CreatedHBACRuleError=x)}).then(function(){if(y||b||x||_)return c.GroupAndRuleCreatedAndRightHostsFound=!1,w(e,\"sudo\"),c;c.GroupAndRuleCreatedAndRightHostsFound=!0;var s=u(t,n),l=f(m,r),d=p(n,o),h=v(r,o),k=g(a,o);return $.when(s,l,d,h,k).then(function(t,n,r,i,o){var a=t[0].error,s=t[0].result.completed,u=n[0].error,l=r[0].error,f=i[0].error,d=o[0].error;return null===a&&1===s?c.AddedUsersToUserGroup=!0:(c.AddedUsersToUserGroup=!1,c.AddedUsersToUserGroupError=a),null===u?c.AddedHostsToHostGroup=!0:(c.AddedHostsToHostGroup=!1,c.AddedHostsToHostGroupError=u),null===l?c.AddedUserGroupToHBAC=!0:(c.AddedUserGroupToHBAC=!1,c.AddedUserGroupToHBACError=l),null===f?c.AddedHostGroupToHBAC=!0:(c.AddedHostGroupToHBAC=!1,c.AddedHostGroupToHBACError=f),null===d?c.AddedServicesToHBAC=!0:(c.AddedServicesToHBAC=!1,c.AddedServicesToHBACError=d),d||a||1!==s||f||l?(c.AddedUsersHostsToGroupAndServicesToRule=!1,w(e,\"sudo\")):c.AddedUsersHostsToGroupAndServicesToRule=!0,c}).fail(function(e){console.log(\"IPA ACL Sudo policy creation failed: \"+(0,i.default)(e))})}).fail(function(e){console.log(\"IPA ACL Sudo policy creation failed: \"+(0,i.default)(e))})},t.isUserInAclPolicy=function(e,t,n){var r={method:\"user_find\",params:[[n],{in_group:[\"ug-\"+t+\"-\"+e],in_hbacrule:[\"hbac-\"+t+\"-\"+e]}],id:0},s={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(r)};return $.ajax(s)},t.checkForExistingACLPolicy=function(e,t){var n={method:\"hbacrule_find\",params:[[\"hbac-\"+t+\"-\"+e],{}],id:0},r={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(n)};return $.ajax(r)},t.removeUserFromACLPolicy=function(e,t,n){var r=\"ug-\"+n+\"-\"+t;Array.isArray(e)||(e=[e]);var s={method:\"group_remove_member\",params:[[r],{user:e}],id:0},u={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(s)};return $.ajax(u)},t.deleteHostGroup=m,t.deleteUserGroup=y,t.deleteHBACRule=b,t.removeACLPolicy=w,t.removeAllACLPolicies=function(e){var t={},n=w(e,\"login\"),r=w(e,\"sudo\");return $.when(n,r).done(function(e,n){return t.RemovedLoginACLPolicy=(0,i.default)(e),t.RemovedSudoACLPolicy=(0,i.default)(n),t})},t.parseACLPolicyResult=function(e){var t=\"\";if(!1===e.GroupAndRuleCreatedAndRightHostsFound){!1===e.ReceivedHostsForServiceInstance&&(t+=\"Could not find or receive hosts for service instance.\\n\",console.log(\"Error: \"+e.ReceivedHostsForServiceInstanceError)),!1===e.CreatedUserGroup&&(t+=\"Could not create user group.\\n\",console.log(\"Error: \"+e.CreatedUserGroupError)),!1===e.CreatedHostGroup&&(t+=\"Could not create host group.\\n\",console.log(\"Error: \"+e.CreatedHostGroupError)),!1===e.CreatedHBACRule&&(t+=\"Could not create HBAC rule.\\n\",console.log(\"Error: \"+\"CreatedHBACRule\".CreatedHostGroupError))}if(!1===e.AddedUsersHostsToGroupAndServicesToRule){!1===e.AddedUsersToUserGroup&&(t+=\"Could not add user to user group. Ensure user is registered with IPA server and is NOT already in ACL policy.\\n\",console.log(\"Error: \"+e.AddedUsersToUserGroupError)),!1===e.AddedHostsToHostGroup&&(t+=\"Could not add hosts to host group. Ensure hosts has a fully qualied domain name.\\n\",console.log(\"Error: \"+e.AddedHostsToHostGroupError)),!1===e.AddedUserGroupToHBAC&&(t+=\"Could not add user group to HBAC Rule.\\n\",console.log(\"Error: \"+e.AddedUserGroupToHBACError)),!1===e.AddedHostGroupToHBAC&&(t+=\"Could not add host group to HBAC Rule.\\n\",console.log(\"Error: \"+e.AddedHostGroupToHBACError)),!1===e.AddedServicesToHBAC&&(t+=\"Could not add services to HBAC Rule.\\n\",console.log(\"Error: \"+e.AddedServicesToHBACError))}!1===e.DeletedUserGroup&&(t+=\"Could not delete user group.\\n\",console.log(\"Error: \"+e.DeletedUserGroupError));!1===e.DeletedHostGroup&&(t+=\"Could not delete host group.\\n\",console.log(\"Error: \"+e.DeletedHostGroupError));!1===e.DeletedHBAC&&(t+=\"Could not delete HBAC Rule.\\n\",console.log(\"Error: \"+e.DeletedHBACError));0===t.length&&(t+=\"Unkown error. Error output: \"+(0,i.default)(e));return t};var i=r(n(20)),o=n(24),a=window.location.origin+\"/StackV-web/restapi/app/acl/ipa/request\";function s(e,t){var n={method:\"group_add\",params:[[e],{description:t}],id:0},r={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(n)};return $.ajax(r)}function u(e,t){Array.isArray(e)||(e=[e]);var n={method:\"group_add_member\",params:[[t],{user:e}],id:0},r={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(n)};return $.ajax(r)}function c(e){var t={method:\"host_add\",params:[[e],{}],id:0},n={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(t)};return $.ajax(n)}function l(e,t){var n={method:\"hostgroup_add\",params:[[e],{description:t}],id:0},r={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(n)};return $.ajax(r)}function f(e,t){Array.isArray(e)||(e=[e]);var n=[];if(e.forEach(function(e){$.when(c(e)).done(function(t){null!==t.error&&4002!==t.error.code?n.push(e):console.log(\"new host added: \"+e)})}),0!==n.length)return{BadHosts:n};var r={method:\"hostgroup_add_member\",params:[[t],{host:e}],id:0},s={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(r)};return $.ajax(s)}function d(e){var t={async:!0,crossDomain:!0,url:window.location.origin+\"/StackV-web/restapi/service/manifest/\"+e,method:\"POST\",headers:{\"Content-Type\":\"application/xml\",Authorization:\"bearer \"+o.keycloak.token},data:'<serviceManifest>\\n<serviceUUID></serviceUUID>\\n<jsonTemplate>\\n{\\n    \"hostgroup\": [\\n        {\\n          \"hostname\": \"?fqdn?\",\\n          \"sparql\": \"SELECT DISTINCT ?fqdn WHERE {?hypervisor mrs:providesVM ?vm. ?vm mrs:hasNetworkAddress ?na. ?na mrs:type \\\\\"fqdn\\\\\". ?na mrs:value ?fqdn.}\",\\n          \"required\": \"false\"\\n        }\\n      ]\\n}\\n</jsonTemplate>\\n</serviceManifest>'};return $.ajax(t)}function h(e,t){var n={method:\"hbacrule_add\",params:[[e],{description:t}],id:0},r={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(n)};return $.ajax(r)}function p(e,t){Array.isArray(e)||(e=[e]);var n={method:\"hbacrule_add_user\",params:[[t],{group:e}],id:0},r={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(n)};return $.ajax(r)}function v(e,t){Array.isArray(e)||(e=[e]);var n={method:\"hbacrule_add_host\",params:[[t],{hostgroup:e}],id:0},r={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(n)};return $.ajax(r)}function g(e,t){Array.isArray(e)||(e=[e]);var n={method:\"hbacrule_add_service\",params:[[t],{hbacsvc:e}],id:0},r={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(n)};return $.ajax(r)}function m(e){Array.isArray(e)||(e=[e]);var t={method:\"hostgroup_del\",params:[e,{}],id:0},n={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(t)};return $.ajax(n)}function y(e){Array.isArray(e)||(e=[e]);var t={method:\"group_del\",params:[e,{}],id:0},n={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(t)};return $.ajax(n)}function b(e){Array.isArray(e)||(e=[e]);var t={method:\"hbacrule_del\",params:[e,{}],id:0},n={url:a,method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"bearer \"+o.keycloak.token},data:(0,i.default)(t)};return $.ajax(n)}function w(e,t){var n=\"hg-\"+t+\"-\"+e,r=\"hbac-\"+t+\"-\"+e,o={},a=y(\"ug-\"+t+\"-\"+e),s=m(n),u=b(r);return $.when(a,s,u).done(function(e,t,n){var r=e[0].error,a=t[0].error,s=n[0].error;return null===r?o.DeletedUserGroup=!0:(o.DeletedUserGroup=!1,o.DeletedUserGroupError=(0,i.default)(e)),null===a?o.DeletedHostGroup=!0:(o.DeletedHostGroup=!1,o.DeletedHostGroupError=(0,i.default)(t)),null===s?o.DeletedHBAC=!0:(o.DeletedHBAC=!1,o.DeletedHBACError=(0,i.default)(n)),o})}},function(e,t,n){\"use strict\";var r=n(123),i=n(14);Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadACLPortal=function(){$(\"#sub-nav\").load(\"/StackV-web/nav/acl_navbar.html\",function(){switch(d){case\"left\":$(\"#roles-tab\").addClass(\"active\");break;case\"center\":$(\"#instances-tab\").addClass(\"active\")}$(\"#roles-tab\").click(function(){p(),v(\"roles\")}),$(\"#instances-tab\").click(function(){p(),v(\"instances\")})}),e=document.getElementById(\"user-body\"),t=window.location.origin+\"/StackV-web/restapi/app/keycloak/users\",a.keycloak.updateToken(30).success(function(){$.ajax({url:t,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(t){for(var n=0;n<t.length;n++){var r=t[n],i=document.createElement(\"tr\");i.className=\"acl-role-row\",i.setAttribute(\"data-subject\",r[4]);var o=document.createElement(\"td\");o.innerHTML=r[0],i.appendChild(o),e.appendChild(i)}$(\".acl-role-row\").click(function(){$(\".acl-role-selected-row\").removeClass(\"acl-role-selected-row\"),$(\"#acl-user\").val($(this).data(\"subject\")),g(),$(this).addClass(\"acl-role-selected-row\")}),\"left\"===d&&v(\"roles\")}})}).error(function(){console.log(\"Fatal Error: Token update failed!\")}),function(){var e=window.location.origin+\"/StackV-web/restapi/app/keycloak/roles\";a.keycloak.updateToken(30).success(function(){$.ajax({url:e,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(e){for(var t=0;t<e.length;t++){var n=e[t];$(\"#acl-role-select\").append(new Option(n[1],n[0]))}}})}).error(function(){console.log(\"Fatal Error: Token update failed!\")})}(),function(){a.keycloak.subject;var e=document.getElementById(\"instance-body\"),t=window.location.origin+\"/StackV-web/restapi/app/logging/instances\";a.keycloak.updateToken(30).success(function(){$.ajax({url:t,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(t){if(t){for(var n=0;n<t.data.length;n++){var r=t.data[n],i=document.createElement(\"tr\");i.className=\"acl-instance-row\",i.setAttribute(\"data-uuid\",r.referenceUUID);var o=document.createElement(\"td\");o.innerHTML=r.alias;var a=document.createElement(\"td\");a.innerHTML=r.type;var s=document.createElement(\"td\");s.innerHTML=r.referenceUUID,i.appendChild(o),i.appendChild(a),i.appendChild(s),e.appendChild(i)}$(\".acl-instance-row\").click(function(){$(\".acl-instance-selected-row\").removeClass(\"acl-instance-selected-row\"),m($(this).data(\"uuid\")),$(e).addClass(\"acl-instance-selected\"),$(this).addClass(\"acl-instance-selected-row\"),$(\".acl-instance-row\").not(\".acl-instance-selected-row\").hide()}),\"center\"===d&&v(\"instances\")}}})}).error(function(){console.log(\"Fatal Error: Token update failed!\")})}(),function(){var e=window.location.origin+\"/StackV-web/restapi/app/keycloak/users\",t=document.getElementById(\"users-body\");t.innerHTML=\"\",a.keycloak.updateToken(30).success(function(){$.ajax({url:e,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(e){if(e){for(var n=0;n<e.length;n++){var r=e[n],i=document.createElement(\"tr\"),o=document.createElement(\"td\");o.innerHTML=r[0];var s=document.createElement(\"td\");s.innerHTML=r[1];var u=document.createElement(\"td\");u.innerHTML=r[2];var c=document.createElement(\"td\");c.innerHTML='<button data-username=\"'+r[0]+'\" class=\"button-instanceacl-add btn btn-default pull-right\">Add</button>',i.appendChild(o),i.appendChild(s),i.appendChild(u),i.appendChild(c),t.appendChild(i)}$(\".button-instanceacl-add\").click(function(e){var t=$(this).data(\"username\"),n=$(\"#acl-instance\").val(),r=window.location.origin+\"/StackV-web/restapi/app/acl/\"+n;a.keycloak.updateToken(30).success(function(){$.ajax({url:r,type:\"POST\",data:t,contentType:\"application/json; charset=utf-8\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(e){m(n)}})}).error(function(){console.log(\"Fatal Error: Token update failed!\")}),e.preventDefault()})}}})}).error(function(){console.log(\"Fatal Error: Token update failed!\")})}(),$(\"#acl-group-add\").click(function(e){var t=$(\"#acl-user\").val(),n=window.location.origin+\"/StackV-web/restapi/app/keycloak/users/\"+t+\"/groups\";a.keycloak.updateToken(30).success(function(){$.ajax({url:n,type:\"POST\",data:'{\"id\":\"'+$(\"#acl-group-select\").val()+'\",\"name\":\"'+$(\"#acl-group-select\").children(\"option:selected\").text()+'\"}',contentType:\"application/json; charset=utf-8\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(){g()}})}).error(function(){console.log(\"Fatal Error: Token update failed!\")}),e.preventDefault()}),$(\"#acl-role-add\").click(function(e){var t=$(\"#acl-user\").val(),n=window.location.origin+\"/StackV-web/restapi/app/keycloak/users/\"+t+\"/roles\";a.keycloak.updateToken(30).success(function(){$.ajax({url:n,type:\"POST\",data:'{\"id\":\"'+$(\"#acl-role-select\").val()+'\",\"name\":\"'+$(\"#acl-role-select\").children(\"option:selected\").text()+'\"}',contentType:\"application/json; charset=utf-8\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(){g()}})}).error(function(){console.log(\"Fatal Error: Token update failed!\")}),e.preventDefault()}),$(\".acl-user-close\").click(function(e){$(\".acl-role-selected-row\").removeClass(\"acl-role-selected-row\"),c.reverse(),e.preventDefault()}),$(\".acl-instance-close\").click(function(e){$(\".acl-instance-selected-row\").removeClass(\"acl-instance-selected-row\"),$(\".acl-instance-row\").show(),$(\".acl-instance-selected\").removeClass(\"acl-instance-selected\"),f.reverse(),e.preventDefault()});var e,t};var o=i(n(20)),a=n(24),s=r(n(191)),u=new TweenLite(\"#acl-role-panel\",.5,{ease:Power2.easeInOut,paused:!0,right:\"5%\"}),c=new TweenLite(\"#acl-role-role-div\",.5,{ease:Power2.easeInOut,paused:!0,bottom:\"55%\"}),l=new TweenLite(\"#acl-instance-panel\",.5,{ease:Power2.easeInOut,paused:!0,left:\"5%\"}),f=new TweenLite(\"#acl-instance-acl\",.5,{ease:Power2.easeInOut,paused:!0,bottom:\"0\"}),d=(new TweenLite(\"#acl-role-user-div\",.5,{ease:Power2.easInOut,paused:!0,left:\"-100%\"}),\"center\");function h(e){switch(d){case\"left\":\"right\"===e&&v(\"instances\");break;case\"center\":\"left\"===e&&v(\"roles\")}}function p(){switch(d){case\"left\":$(\"#sub-nav .active\").removeClass(\"active\"),u.reverse();break;case\"center\":$(\"#sub-nav .active\").removeClass(\"active\"),l.reverse()}}function v(e){switch(p(),e){case\"roles\":u.play(),$(\"#roles-tab\").addClass(\"active\"),d=\"left\";break;case\"instances\":l.play(),$(\"#instances-tab\").addClass(\"active\"),d=\"center\"}}function g(){c.reverse();var e=$(\"#acl-user\").val(),t=document.getElementById(\"role-body\");t.innerHTML=\"\",$(\"#acl-role-select option.hide\").removeClass(\"hide\");var n=window.location.origin+\"/StackV-web/restapi/app/keycloak/users/\"+e+\"/roles\";$.ajax({url:n,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(e){if(e){for(var n=0;n<e.length;n++){var r=e[n],i=document.createElement(\"tr\");i.className=\"acl-role-row\";var o=document.createElement(\"td\");r.hasOwnProperty(\"from\")?o.innerHTML=r.name+\" (delegated from \"+r.from+\")\":o.innerHTML=r.name+'<button data-roleid=\"'+r.id+'\" data-rolename=\"'+r.name+'\" class=\"button-role-delete btn btn-default pull-right\">Remove</button>',i.appendChild(o),t.appendChild(i),$(\"#acl-role-select option[value=\"+r.id+\"]\").addClass(\"hide\"),$(\"#acl-role-select\").val(null)}$(\".button-role-delete\").click(function(e){var t=$(\"#acl-user\").val(),n=$(this).data(\"roleid\"),r=$(this).data(\"rolename\"),i=window.location.origin+\"/StackV-web/restapi/app/keycloak/users/\"+t+\"/roles\";a.keycloak.updateToken(30).success(function(){$.ajax({url:i,type:\"DELETE\",data:'{\"id\":\"'+n+'\",\"name\":\"'+r+'\"}',contentType:\"application/json; charset=utf-8\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(e){g()}})}).error(function(){console.log(\"Fatal Error: Token update failed!\")}),e.preventDefault()}),c.play()}}})}function m(e){f.reverse(),setTimeout(function(){a.keycloak.updateToken(30).success(function(){var t=window.location.origin+\"/StackV-web/restapi/app/acl/\"+e,n=document.getElementById(\"acl-body\");n.innerHTML=\"\",$(\"#acl-instance\").val(e),$.ajax({url:t,type:\"GET\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(t){var r=[];if(t){for(var i=0;i<t.length;i++){var u=t[i];r.push(u[0]);var c=document.createElement(\"tr\"),l=document.createElement(\"td\");l.innerHTML=u[0];var d=document.createElement(\"td\");d.innerHTML=u[1];var h=document.createElement(\"td\");h.innerHTML=u[2];var p=document.createElement(\"td\");p.innerHTML='<button data-username=\"'+u[0]+'\" class=\"button-acl-remove btn btn-default pull-right\">Remove</button>';var v=document.createElement(\"td\"),g=document.createElement(\"input\");g.id=\"loginaccess-\"+u[0],g.style=\"display: block; margin: 0 auto\",g.setAttribute(\"data-access\",\"login\"),g.setAttribute(\"data-username\",u[0]),g.type=\"checkbox\",g.onmouseover=function(){var e=$(\"#instance-body > tr.acl-instance-selected-row\").attr(\"data-uuid\"),t={url:window.location.origin+\"/StackV-web/restapi/service/\"+e+\"/status\",method:\"GET\",headers:{authorization:\"bearer \"+a.keycloak.token,Refresh:a.keycloak.refreshToken}};$.ajax(t).done(function(e){\"READY\"===e?this.enable=!0:(this.disable=!0,swal(\"Service Instance is not yet ready\",\"Please wait...\",\"warning\"))})},g.onclick=function(){var e=$(\"#instance-body > tr.acl-instance-selected-row\").attr(\"data-uuid\"),t=this.getAttribute(\"data-username\");this.checked?(swal({title:\"Adding \"+t+\"...\",text:\"Please wait\",icon:\"/StackV-web/img/ajax-loader.gif\",buttons:!1,timer:15e3}).then(function(t){swal(\"The ACL Request could not be completed.\",\"Please try again.\",\"error\"),m(e),s.removeACLPolicy(e,\"login\")}),$.when(s.ipaLogin()).done(function(){$.when(s.checkForExistingACLPolicy(e,\"login\")).done(function(n){if(0===n.result.count)s.createLoginAclPolicy(e,t).done(function(n){!0===n.GroupAndRuleCreatedAndRightHostsFound&&!0===n.AddedUsersHostsToGroupAndServicesToRule?swal(\"Login ACL Policy Created Successfully!\",\"Added \"+t+\" to the Login ACL Policy\",\"success\"):(m(e),swal(\"Login ACL Policy Creation Failed!\",s.parseACLPolicyResult(n),\"error\"))});else{var r=\"ug-login-\"+e;s.addUsersToUserGroup(t,r).done(function(n){null===n.error&&1===n.result.completed?swal({title:\"Added \"+t+\" to the Login ACL Policy!\",icon:\"success\"}):(m(e),swal(\"Could not add \"+t+\" to the Login ACL Policy\",\"Ensure \"+t+\" is registered with the IPA server.\",\"error\"))})}}).fail(function(t){m(e),swal(\"Request could not be completed\",\"Error: \"+(0,o.default)(t),\"error\"),s.removeACLPolicy(e,\"login\")})})):(swal({title:\"Removing \"+t+\"...\",text:\"Please wait\",icon:\"/StackV-web/img/ajax-loader.gif\",buttons:!1,timer:15e3}).then(function(t){swal(\"The ACL Request could not be completed.\",\"Please try again.\",\"error\"),m(e),s.removeACLPolicy(e,\"login\")}),$.when(s.ipaLogin()).done(function(){s.removeUserFromACLPolicy(t,e,\"login\").done(function(n){null===n.error&&1===n.result.completed?swal({title:\"Removed \"+t+\" from Login ACL Policy\",icon:\"success\"}):(console.log(\"Could not remove \"+t+\"from Login ACL Policy. Error: \"+(0,o.default)(n)),m(e),swal(\"Not able to remove \"+t+\" from Login ACL Policy\",\"Ensure \"+t+\" is in the ACL policy\",\"error\"));var r=document.getElementById(\"sudoaccess-\"+t);r.checked&&r.click()})}).fail(function(t){m(e),swal(\"Request could not be completed\",\"Error: \"+(0,o.default)(t),\"error\"),s.removeACLPolicy(e,\"login\")}))},v.appendChild(g);var y=document.createElement(\"td\"),b=document.createElement(\"input\");b.id=\"sudoaccess-\"+u[0],b.style=\"display: block; margin: 0 auto\",b.setAttribute(\"data-access\",\"sudo\"),b.setAttribute(\"data-username\",u[0]),b.type=\"checkbox\",b.onmouseover=function(){var e=$(\"#instance-body > tr.acl-instance-selected-row\").attr(\"data-uuid\"),t={url:window.location.origin+\"/StackV-web/restapi/service/\"+e+\"/status\",method:\"GET\",headers:{authorization:\"bearer \"+a.keycloak.token,Refresh:a.keycloak.refreshToken}};$.ajax(t).done(function(e){\"READY\"===e?this.enable=!0:(this.disable=!0,swal(\"Service Instance is not yet ready\",\"Please wait...\",\"warning\"))})},b.onclick=function(){var e=$(\"#instance-body > tr.acl-instance-selected-row\").attr(\"data-uuid\"),t=this.getAttribute(\"data-username\");this.checked?(swal({title:\"Adding \"+t+\"...\",text:\"Please wait\",icon:\"/StackV-web/img/ajax-loader.gif\",buttons:!1,timer:15e3}).then(function(t){m(e),swal(\"The ACL Request could not be completed.\",\"Please try again.\",\"error\"),s.removeACLPolicy(e,\"sudo\")}),$.when(s.ipaLogin()).done(function(){$.when(s.checkForExistingACLPolicy(e,\"sudo\")).done(function(n){if(0===n.result.count)s.createSudoAclPolicy(e,t).done(function(e){!0===e.GroupAndRuleCreatedAndRightHostsFound&&!0===e.AddedUsersHostsToGroupAndServicesToRule?swal(\"Sudo ACL Policy Created Successfully\",\"Added \"+t+\" to the Sudo ACL Policy\",\"success\"):(swal(\"Sudo ACL Policy Creation Failed\",s.parseACLPolicyResult(e),\"error\"),$(\"#sudoaccess-\"+t).attr(\"checked\",!1))});else{var r=\"ug-sudo-\"+e;s.addUsersToUserGroup(t,r).done(function(n){null===n.error&&1===n.result.completed?swal({title:\"Added \"+t+\" to the Sudo ACL Policy\",icon:\"success\"}):(m(e),swal(\"Could not add \"+t+\" to Sudo ACL Policy\",\"Ensure \"+t+\" is registered with the IPA server.\",\"error\"))})}var i=document.getElementById(\"loginaccess-\"+t);console.log(\"login check box checked?: \"+i.checked),!1===i.checked&&i.click()}).fail(function(t){m(e),swal(\"Request could not be completed\",\"Error: \"+(0,o.default)(t),\"error\"),s.removeACLPolicy(e,\"sudo\")})})):(swal({title:\"Removing \"+t+\"...\",text:\"Please wait\",icon:\"/StackV-web/img/ajax-loader.gif\",buttons:!1,timer:15e3}).then(function(t){swal(\"The ACL Request could not be completed.\",\"Please try again.\",\"error\"),m(e),s.removeACLPolicy(e,\"sudo\")}),$.when(s.ipaLogin()).done(function(){s.removeUserFromACLPolicy(t,e,\"sudo\").done(function(n){null===n.error&&1===n.result.completed?swal({title:\"Removed \"+t+\" from Sudo ACL Policy\",icon:\"success\"}):(m(e),console.log(\"Could not remove \"+t+\"from Sudo ACL Policy. Error: \"+(0,o.default)(n)),swal(\"Not able to remove \"+t+\" from Sudo ACL Policy\",\"Ensure \"+t+\" is in the ACL policy\",\"error\"))}).fail(function(t){m(e),swal(\"Request could not be completed\",\"Error: \"+(0,o.default)(t),\"error\"),s.removeACLPolicy(e,\"sudo\")})}))},y.appendChild(b),c.appendChild(l),c.appendChild(d),c.appendChild(h),c.appendChild(v),c.appendChild(y),c.appendChild(p),n.appendChild(c),$(\".button-acl-remove\").click(function(e){var t=$(this).data(\"username\"),n=$(\"#acl-instance\").val(),r=document.getElementById(\"loginaccess-\"+t);!0===r.checked&&swal(\"Not able to remove \"+t+\" from Login ACL Policy\",\"Please uncheck the Login Access checkbox\",\"error\");var i=document.getElementById(\"sudoaccess-\"+t);if(!0===i.checked&&swal(\"Not able to remove \"+t+\" from Sudo ACL Policy\",\"Please uncheck the Sudo Access checkbox\",\"error\"),!1===r.checked&&!1===i.checked){var o=window.location.origin+\"/StackV-web/restapi/app/acl/\"+n;a.keycloak.updateToken(30).success(function(){$.ajax({url:o,type:\"DELETE\",data:t,contentType:\"application/json; charset=utf-8\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token)},success:function(e){$('.button-acl-remove[data-username=\"'+t+'\"]').closest(\"tr\").hide();var n=$(\"#users-body tr\");n.removeClass(\"hide\");for(var r=0;r<n.length;++r)for(var i=$(\"#acl-body tr\"),o=0;o<i.length;++o)n[r].firstChild.innerHTML===i[o].firstChild.innerHTML&&(n[r].className=\"\");f.play()}})}).error(function(){console.log(\"Fatal Error: Token update failed!\")}),e.preventDefault()}})}var w=$(\"#users-body tr\");w.removeClass(\"hide\");for(var x=0;x<w.length;++x)for(var _=$(\"#acl-body tr\"),k=0;k<_.length;++k)w[x].firstChild.innerHTML===_[k].firstChild.innerHTML&&(w[x].className=\"hide\");f.play()}r.forEach(function(t){$.when(s.ipaLogin()).done(function(){s.isUserInAclPolicy(e,\"login\",t).done(function(e){1===e.result.count&&(e.result.result[0].uid.includes(t)?$(\"#loginaccess-\"+t).prop(\"checked\",!0):$(\"#loginaccess-\"+t).prop(\"checked\",!1))}),s.isUserInAclPolicy(e,\"sudo\",t).done(function(e){1===e.result.count&&(e.result.result[0].uid.includes(t)?$(\"#sudoaccess-\"+t).prop(\"checked\",!0):$(\"#sudoaccess-\"+t).prop(\"checked\",!1))})})})}})}).error(function(){console.log(\"Fatal Error: Token update failed!\")})},500)}Mousetrap.bind({\"shift+left\":function(){window.location.href=\"/StackV-web/portal/driver/\"},left:function(){h(\"left\")},right:function(){h(\"right\")}})},function(e,t,n){var r=n(127),i=n(69);n(129)(\"keys\",function(){return function(e){return i(r(e))}})},function(e,t,n){n(193),e.exports=n(19).Object.keys},function(e,t,n){var r=n(65);r(r.S+r.F*!n(40),\"Object\",{defineProperty:n(39).f})},function(e,t,n){n(195);var r=n(19).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(41),i=n(125).f;n(129)(\"getOwnPropertyDescriptor\",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){n(197);var r=n(19).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){n(87)(\"observable\")},function(e,t,n){n(87)(\"asyncIterator\")},function(e,t){},function(e,t,n){var r=n(41),i=n(133).f,o={}.toString,a=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&\"[object Window]\"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(96);e.exports=Array.isArray||function(e){return\"Array\"==r(e)}},function(e,t,n){var r=n(69),i=n(134),o=n(86);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(68)(\"meta\"),i=n(59),o=n(38),a=n(39).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(61)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:\"O\"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return\"symbol\"==typeof e?e:(\"string\"==typeof e?\"S\":\"P\")+e;if(!o(e,r)){if(!u(e))return\"F\";if(!t)return\"E\";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&f.NEED&&u(e)&&!o(e,r)&&l(e),e}}},function(e,t,n){n(183),n(201),n(200),n(199),e.exports=n(19).Symbol},function(e,t,n){e.exports=n(206)},function(e,t,n){n(126),n(131),e.exports=n(88).f(\"iterator\")},function(e,t,n){e.exports=n(208)},function(e,t,n){\"use strict\";var r=n(14);Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadAdmin=function(){$(\"#sub-nav\").load(\"/StackV-web/nav/admin_navbar.html\",function(){switch((0,o.initRefresh)($(\"#refresh-timer\").val()),l){case\"left\":$(\"#logging-tab\").addClass(\"active\");break;case\"center\":$(\"#sub-admin-tab\").addClass(\"active\")}$(\"#logging-tab\").click(function(){d(),h(\"logging\")}),$(\"#sub-admin-tab\").click(function(){d(),h(\"admin\")})}),$(\"#API-panel .action-button\").click(function(){var e,t,n,r,o,s;e=$(\"#API-request\").val(),t=$(\"#URL\").val(),n=window.location.origin+\"/StackV-web/restapi\"+t,r=e,o=$(\"#api_result\").val(),s=t.split(\"/\"),\"GET\"===r?$.ajax({url:n,type:r,dataType:\"text\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token),e.setRequestHeader(\"Refresh\",a.keycloak.refreshToken)},success:function(e){if(\"string\"==typeof e)if(\"keycloak\"===s[0]){var t=String(e).split(\",\"),n=\"[\",r=0;for(r=0;r<t.length;r+=2)r+2===t.length?n+='[\"'+t[r+1]+'\" , \"'+t[r]+'\"]':n+='[\"'+t[r+1]+'\" , \"'+t[r]+'\"],';n+=\"]\";var o=JSON.parse(n);$(\"#api_result\").val((0,i.default)(o,null,2))}else $(\"#api_result\").val(e);else $(\"#api_result\").val((0,i.default)(e,null,2))},error:function(){$(\"#api_result\").val(\"Failure\")}}):\"PUT\"===r||\"POST\"===r?$.ajax({url:n,type:r,data:o,contentType:\"application/json; charset=utf-8\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token),e.setRequestHeader(\"Refresh\",a.keycloak.refreshToken)},success:function(e){\"POST\"===r?$(\"#api_result\").val(e):$(\"#api_result\").val(\"Success\")},error:function(){$(\"#api_result\").val(\"Failure\")}}):\"DELETE\"===r?$.ajax({url:n,type:r,beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token),e.setRequestHeader(\"Refresh\",a.keycloak.refreshToken)},success:function(e){$(\"#api_result\").val(\"success\")},error:function(){$(\"#api_result\").val(\"failure\")}}):\"DELETE\"===r&&$.ajax({url:n,type:r,data:o,contentType:\"application/json; charset=utf-8\",dataType:\"json\",beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"bearer \"+a.keycloak.token),e.setRequestHeader(\"Refresh\",a.keycloak.refreshToken)},success:function(e){$(\"#api_result\").val(\"Success\")},error:function(){$(\"#api_result\").val(\"Failure\")}})}),$(\".checkbox-level\").change(function(){$(this).is(\":checked\")?$(\"#log-div\").removeClass(\"hide-\"+this.name):$(\"#log-div\").addClass(\"hide-\"+this.name)}),$(\"#filter-search-clear\").click(function(){$(\"#filter-search-input\").val(\"\"),(0,s.loadLogs)()});var e=window.location.origin+\"/StackV-web/restapi/app/logging/logs/serverside\";(0,s.loadLoggingDataTable)(e),setTimeout(function(){\"left\"===l?(c.play(),$(\"div.dataTables_filter input\").focus()):u.play()},1e3),(0,s.reloadLogs)()};var i=r(n(20)),o=n(52),a=n(24),s=n(60),u=new TweenLite(\"#admin-panel\",1,{ease:Power2.easeInOut,paused:!0,top:\"0px\",opacity:\"1\",display:\"block\"}),c=new TweenLite(\"#logging-panel\",1,{ease:Power2.easeInOut,paused:!0,left:\"0px\",opacity:\"1\",display:\"block\"}),l=\"center\";function f(e){switch(l){case\"left\":\"right\"===e&&h(\"admin\");break;case\"center\":\"left\"===e&&(h(\"logging\"),l=e)}}function d(){switch(l){case\"left\":$(\"#sub-nav .active\").removeClass(\"active\"),c.reverse();break;case\"center\":$(\"#sub-nav .active\").removeClass(\"active\"),u.reverse()}}function h(e){switch(d(),e){case\"logging\":c.play(),$(\"#logging-tab\").addClass(\"active\"),l=\"left\";break;case\"admin\":u.play(),$(\"#sub-admin-tab\").addClass(\"active\"),l=\"center\"}}Mousetrap.bind({left:function(){f(\"left\")},right:function(){f(\"right\")}})},function(e,t,n){var r=n(58),i=n(185);e.exports=n(19).getIterator=function(e){var t=i(e);if(\"function\"!=typeof t)throw TypeError(e+\" is not iterable!\");return r(t.call(e))}},function(e,t,n){var r=n(93),i=n(95);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?\"\":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(34).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(93),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(41),i=n(186),o=n(214);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(39),i=n(58),o=n(69);e.exports=n(40)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){\"use strict\";var r=n(130),i=n(67),o=n(89),a={};n(53)(a,n(33)(\"iterator\"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+\" Iterator\")}},function(e,t){e.exports=function(e){if(\"function\"!=typeof e)throw TypeError(e+\" is not a function!\");return e}},function(e,t,n){var r=n(96);e.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(e){return\"String\"==r(e)?e.split(\"\"):Object(e)}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=function(){}},function(e,t,n){\"use strict\";var r=n(221),i=n(220),o=n(66),a=n(41);e.exports=n(140)(Array,\"Array\",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,\"keys\"==t?n:\"values\"==t?e[n]:[n,e[n]])},\"values\"),o.Arguments=o.Array,r(\"keys\"),r(\"values\"),r(\"entries\")},function(e,t,n){n(131),n(126),e.exports=n(211)},function(e,t){!function(e){\"use strict\";var t=function(n,r){this.options=e.extend({},t.DEFAULTS,r),this.$target=e(this.options.target).on(\"scroll.bs.affix.data-api\",e.proxy(this.checkPosition,this)).on(\"click.bs.affix.data-api\",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function n(n){return this.each(function(){var r=e(this),i=r.data(\"bs.affix\"),o=\"object\"==typeof n&&n;i||r.data(\"bs.affix\",i=new t(this,o)),\"string\"==typeof n&&i[n]()})}t.VERSION=\"3.3.7\",t.RESET=\"affix affix-top affix-bottom\",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&\"top\"==this.affixed)return i<n&&\"top\";if(\"bottom\"==this.affixed)return null!=n?!(i+this.unpin<=o.top)&&\"bottom\":!(i+a<=e-r)&&\"bottom\";var s=null==this.affixed,u=s?i:o.top;return null!=n&&i<=n?\"top\":null!=r&&u+(s?a:t)>=e-r&&\"bottom\"},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass(\"affix\");var e=this.$target.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(\":visible\")){var n=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=Math.max(e(document).height(),e(document.body).height());\"object\"!=typeof r&&(o=i=r),\"function\"==typeof i&&(i=r.top(this.$element)),\"function\"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,n,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css(\"top\",\"\");var u=\"affix\"+(s?\"-\"+s:\"\"),c=e.Event(u+\".bs.affix\");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin=\"bottom\"==s?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(u).trigger(u.replace(\"affix\",\"affixed\")+\".bs.affix\")}\"bottom\"==s&&this.$element.offset({top:a-n-o})}};var r=e.fn.affix;e.fn.affix=n,e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on(\"load\",function(){e('[data-spy=\"affix\"]').each(function(){var t=e(this),r=t.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),n.call(t,r)})})}(jQuery)},function(e,t){!function(e){\"use strict\";var t=function(t){this.element=e(t)};function n(n){return this.each(function(){var r=e(this),i=r.data(\"bs.tab\");i||r.data(\"bs.tab\",i=new t(this)),\"string\"==typeof n&&i[n]()})}t.VERSION=\"3.3.7\",t.TRANSITION_DURATION=150,t.prototype.show=function(){var t=this.element,n=t.closest(\"ul:not(.dropdown-menu)\"),r=t.data(\"target\");if(r||(r=(r=t.attr(\"href\"))&&r.replace(/.*(?=#[^\\s]*$)/,\"\")),!t.parent(\"li\").hasClass(\"active\")){var i=n.find(\".active:last a\"),o=e.Event(\"hide.bs.tab\",{relatedTarget:t[0]}),a=e.Event(\"show.bs.tab\",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest(\"li\"),n),this.activate(s,s.parent(),function(){i.trigger({type:\"hidden.bs.tab\",relatedTarget:t[0]}),t.trigger({type:\"shown.bs.tab\",relatedTarget:i[0]})})}}},t.prototype.activate=function(n,r,i){var o=r.find(\"> .active\"),a=i&&e.support.transition&&(o.length&&o.hasClass(\"fade\")||!!r.find(\"> .fade\").length);function s(){o.removeClass(\"active\").find(\"> .dropdown-menu > .active\").removeClass(\"active\").end().find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!1),n.addClass(\"active\").find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!0),a?(n[0].offsetWidth,n.addClass(\"in\")):n.removeClass(\"fade\"),n.parent(\".dropdown-menu\").length&&n.closest(\"li.dropdown\").addClass(\"active\").end().find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!0),i&&i()}o.length&&a?o.one(\"bsTransitionEnd\",s).emulateTransitionEnd(t.TRANSITION_DURATION):s(),o.removeClass(\"in\")};var r=e.fn.tab;e.fn.tab=n,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(t){t.preventDefault(),n.call(e(this),\"show\")};e(document).on(\"click.bs.tab.data-api\",'[data-toggle=\"tab\"]',i).on(\"click.bs.tab.data-api\",'[data-toggle=\"pill\"]',i)}(jQuery)},function(e,t){!function(e){\"use strict\";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(n).is(document.body)?e(window):e(n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||\"\")+\" .nav li > a\",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on(\"scroll.bs.scrollspy\",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data(\"bs.scrollspy\"),o=\"object\"==typeof n&&n;i||r.data(\"bs.scrollspy\",i=new t(this,o)),\"string\"==typeof n&&i[n]()})}t.VERSION=\"3.3.7\",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n=\"offset\",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n=\"position\",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data(\"target\")||t.attr(\"href\"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(\":visible\")&&[[o[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)a!=o[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target=\"'+t+'\"],'+this.selector+'[href=\"'+t+'\"]',r=e(n).parents(\"li\").addClass(\"active\");r.parent(\".dropdown-menu\").length&&(r=r.closest(\"li.dropdown\").addClass(\"active\")),r.trigger(\"activate.bs.scrollspy\")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,\".active\").removeClass(\"active\")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on(\"load.bs.scrollspy.data-api\",function(){e('[data-spy=\"scroll\"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery)},function(e,t){!function(e){\"use strict\";var t=function(e,t){this.init(\"popover\",e,t)};if(!e.fn.tooltip)throw new Error(\"Popover requires tooltip.js\");t.VERSION=\"3.3.7\",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:\"right\",trigger:\"click\",content:\"\",template:'<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(\".popover-title\")[this.options.html?\"html\":\"text\"](t),e.find(\".popover-content\").children().detach().end()[this.options.html?\"string\"==typeof n?\"html\":\"append\":\"text\"](n),e.removeClass(\"fade top bottom left right in\"),e.find(\".popover-title\").html()||e.find(\".popover-title\").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr(\"data-content\")||(\"function\"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".arrow\")};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data(\"bs.popover\"),o=\"object\"==typeof n&&n;!i&&/destroy|hide/.test(n)||(i||r.data(\"bs.popover\",i=new t(this,o)),\"string\"==typeof n&&i[n]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery)},function(e,t){!function(e){\"use strict\";var t=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init(\"tooltip\",e,t)};t.VERSION=\"3.3.7\",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:\"top\",selector:!1,template:'<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',trigger:\"hover focus\",title:\"\",delay:0,html:!1,container:!1,viewport:{selector:\"body\",padding:0}},t.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error(\"`selector` option must be specified when initializing \"+this.type+\" on the window.document object!\");for(var i=this.options.trigger.split(\" \"),o=i.length;o--;){var a=i[o];if(\"click\"==a)this.$element.on(\"click.\"+this.type,this.options.selector,e.proxy(this.toggle,this));else if(\"manual\"!=a){var s=\"hover\"==a?\"mouseenter\":\"focusin\",u=\"hover\"==a?\"mouseleave\":\"focusout\";this.$element.on(s+\".\"+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(u+\".\"+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:\"manual\",selector:\"\"}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&\"number\"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data(\"bs.\"+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data(\"bs.\"+this.type,n)),t instanceof e.Event&&(n.inState[\"focusin\"==t.type?\"focus\":\"hover\"]=!0),n.tip().hasClass(\"in\")||\"in\"==n.hoverState)n.hoverState=\"in\";else{if(clearTimeout(n.timeout),n.hoverState=\"in\",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){\"in\"==n.hoverState&&n.show()},n.options.delay.show)}},t.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data(\"bs.\"+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data(\"bs.\"+this.type,n)),t instanceof e.Event&&(n.inState[\"focusout\"==t.type?\"focus\":\"hover\"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState=\"out\",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){\"out\"==n.hoverState&&n.hide()},n.options.delay.hide)}},t.prototype.show=function(){var n=e.Event(\"show.bs.\"+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr(\"id\",a),this.$element.attr(\"aria-describedby\",a),this.options.animation&&o.addClass(\"fade\");var s=\"function\"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,u=/\\s?auto?\\s?/i,c=u.test(s);c&&(s=s.replace(u,\"\")||\"top\"),o.detach().css({top:0,left:0,display:\"block\"}).addClass(s).data(\"bs.\"+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger(\"inserted.bs.\"+this.type);var l=this.getPosition(),f=o[0].offsetWidth,d=o[0].offsetHeight;if(c){var h=s,p=this.getPosition(this.$viewport);s=\"bottom\"==s&&l.bottom+d>p.bottom?\"top\":\"top\"==s&&l.top-d<p.top?\"bottom\":\"right\"==s&&l.right+f>p.width?\"left\":\"left\"==s&&l.left-f<p.left?\"right\":s,o.removeClass(h).addClass(s)}var v=this.getCalculatedOffset(s,l,f,d);this.applyPlacement(v,s);var g=function(){var e=i.hoverState;i.$element.trigger(\"shown.bs.\"+i.type),i.hoverState=null,\"out\"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass(\"fade\")?o.one(\"bsTransitionEnd\",g).emulateTransitionEnd(t.TRANSITION_DURATION):g()}},t.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css(\"margin-top\"),10),s=parseInt(r.css(\"margin-left\"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass(\"in\");var u=r[0].offsetWidth,c=r[0].offsetHeight;\"top\"==n&&c!=o&&(t.top=t.top+o-c);var l=this.getViewportAdjustedDelta(n,t,u,c);l.left?t.left+=l.left:t.top+=l.top;var f=/top|bottom/.test(n),d=f?2*l.left-i+u:2*l.top-o+c,h=f?\"offsetWidth\":\"offsetHeight\";r.offset(t),this.replaceArrow(d,r[0][h],f)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?\"left\":\"top\",50*(1-e/t)+\"%\").css(n?\"top\":\"left\",\"\")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(\".tooltip-inner\")[this.options.html?\"html\":\"text\"](t),e.removeClass(\"fade in top bottom left right\")},t.prototype.hide=function(n){var r=this,i=e(this.$tip),o=e.Event(\"hide.bs.\"+this.type);function a(){\"in\"!=r.hoverState&&i.detach(),r.$element&&r.$element.removeAttr(\"aria-describedby\").trigger(\"hidden.bs.\"+r.type),n&&n()}if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass(\"in\"),e.support.transition&&i.hasClass(\"fade\")?i.one(\"bsTransitionEnd\",a).emulateTransitionEnd(t.TRANSITION_DURATION):a(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr(\"title\")||\"string\"!=typeof e.attr(\"data-original-title\"))&&e.attr(\"data-original-title\",e.attr(\"title\")||\"\").attr(\"title\",\"\")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){var n=(t=t||this.$element)[0],r=\"BODY\"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=r?{top:0,left:0}:o?null:t.offset(),s={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},u=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,s,u,a)},t.prototype.getCalculatedOffset=function(e,t,n,r){return\"bottom\"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:\"top\"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:\"left\"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,u=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:u>a.top+a.height&&(i.top=a.top+a.height-u)}else{var c=t.left-o,l=t.left+o+n;c<a.left?i.left=a.left-c:l>a.right&&(i.left=a.left+a.width-l)}return i},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr(\"data-original-title\")||(\"function\"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},t.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+\" `template` option must consist of exactly 1 top-level element!\");return this.$tip},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".tooltip-arrow\")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data(\"bs.\"+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data(\"bs.\"+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass(\"in\")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off(\".\"+e.type).removeData(\"bs.\"+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data(\"bs.tooltip\"),o=\"object\"==typeof n&&n;!i&&/destroy|hide/.test(n)||(i||r.data(\"bs.tooltip\",i=new t(this,o)),\"string\"==typeof n&&i[n]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery)},function(e,t){!function(e){\"use strict\";var t=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(\".modal-dialog\"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(\".modal-content\").load(this.options.remote,e.proxy(function(){this.$element.trigger(\"loaded.bs.modal\")},this))};function n(n,r){return this.each(function(){var i=e(this),o=i.data(\"bs.modal\"),a=e.extend({},t.DEFAULTS,i.data(),\"object\"==typeof n&&n);o||i.data(\"bs.modal\",o=new t(this,a)),\"string\"==typeof n?o[n](r):a.show&&o.show(r)})}t.VERSION=\"3.3.7\",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(n){var r=this,i=e.Event(\"show.bs.modal\",{relatedTarget:n});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass(\"modal-open\"),this.escape(),this.resize(),this.$element.on(\"click.dismiss.bs.modal\",'[data-dismiss=\"modal\"]',e.proxy(this.hide,this)),this.$dialog.on(\"mousedown.dismiss.bs.modal\",function(){r.$element.one(\"mouseup.dismiss.bs.modal\",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass(\"fade\");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass(\"in\"),r.enforceFocus();var o=e.Event(\"shown.bs.modal\",{relatedTarget:n});i?r.$dialog.one(\"bsTransitionEnd\",function(){r.$element.trigger(\"focus\").trigger(o)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger(\"focus\").trigger(o)}))},t.prototype.hide=function(n){n&&n.preventDefault(),n=e.Event(\"hide.bs.modal\"),this.$element.trigger(n),this.isShown&&!n.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off(\"focusin.bs.modal\"),this.$element.removeClass(\"in\").off(\"click.dismiss.bs.modal\").off(\"mouseup.dismiss.bs.modal\"),this.$dialog.off(\"mousedown.dismiss.bs.modal\"),e.support.transition&&this.$element.hasClass(\"fade\")?this.$element.one(\"bsTransitionEnd\",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off(\"focusin.bs.modal\").on(\"focusin.bs.modal\",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger(\"focus\")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on(\"keydown.dismiss.bs.modal\",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off(\"keydown.dismiss.bs.modal\")},t.prototype.resize=function(){this.isShown?e(window).on(\"resize.bs.modal\",e.proxy(this.handleUpdate,this)):e(window).off(\"resize.bs.modal\")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass(\"modal-open\"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger(\"hidden.bs.modal\")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(n){var r=this,i=this.$element.hasClass(\"fade\")?\"fade\":\"\";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e(document.createElement(\"div\")).addClass(\"modal-backdrop \"+i).appendTo(this.$body),this.$element.on(\"click.dismiss.bs.modal\",e.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&(\"static\"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass(\"in\"),!n)return;o?this.$backdrop.one(\"bsTransitionEnd\",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass(\"in\");var a=function(){r.removeBackdrop(),n&&n()};e.support.transition&&this.$element.hasClass(\"fade\")?this.$backdrop.one(\"bsTransitionEnd\",a).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):a()}else n&&n()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:\"\",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:\"\"})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:\"\",paddingRight:\"\"})},t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css(\"padding-right\")||0,10);this.originalBodyPad=document.body.style.paddingRight||\"\",this.bodyIsOverflowing&&this.$body.css(\"padding-right\",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css(\"padding-right\",this.originalBodyPad)},t.prototype.measureScrollbar=function(){var e=document.createElement(\"div\");e.className=\"modal-scrollbar-measure\",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=n,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on(\"click.bs.modal.data-api\",'[data-toggle=\"modal\"]',function(t){var r=e(this),i=r.attr(\"href\"),o=e(r.attr(\"data-target\")||i&&i.replace(/.*(?=#[^\\s]+$)/,\"\")),a=o.data(\"bs.modal\")?\"toggle\":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is(\"a\")&&t.preventDefault(),o.one(\"show.bs.modal\",function(e){e.isDefaultPrevented()||o.one(\"hidden.bs.modal\",function(){r.is(\":visible\")&&r.trigger(\"focus\")})}),n.call(o,a,this)})}(jQuery)},function(e,t){!function(e){\"use strict\";var t=\".dropdown-backdrop\",n='[data-toggle=\"dropdown\"]',r=function(t){e(t).on(\"click.bs.dropdown\",this.toggle)};function i(t){var n=t.attr(\"data-target\");n||(n=(n=t.attr(\"href\"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\\s]*$)/,\"\"));var r=n&&e(n);return r&&r.length?r:t.parent()}function o(r){r&&3===r.which||(e(t).remove(),e(n).each(function(){var t=e(this),n=i(t),o={relatedTarget:this};n.hasClass(\"open\")&&(r&&\"click\"==r.type&&/input|textarea/i.test(r.target.tagName)&&e.contains(n[0],r.target)||(n.trigger(r=e.Event(\"hide.bs.dropdown\",o)),r.isDefaultPrevented()||(t.attr(\"aria-expanded\",\"false\"),n.removeClass(\"open\").trigger(e.Event(\"hidden.bs.dropdown\",o)))))}))}r.VERSION=\"3.3.7\",r.prototype.toggle=function(t){var n=e(this);if(!n.is(\".disabled, :disabled\")){var r=i(n),a=r.hasClass(\"open\");if(o(),!a){\"ontouchstart\"in document.documentElement&&!r.closest(\".navbar-nav\").length&&e(document.createElement(\"div\")).addClass(\"dropdown-backdrop\").insertAfter(e(this)).on(\"click\",o);var s={relatedTarget:this};if(r.trigger(t=e.Event(\"show.bs.dropdown\",s)),t.isDefaultPrevented())return;n.trigger(\"focus\").attr(\"aria-expanded\",\"true\"),r.toggleClass(\"open\").trigger(e.Event(\"shown.bs.dropdown\",s))}return!1}},r.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(\".disabled, :disabled\")){var o=i(r),a=o.hasClass(\"open\");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&o.find(n).trigger(\"focus\"),r.trigger(\"click\");var s=o.find(\".dropdown-menu li:not(.disabled):visible a\");if(s.length){var u=s.index(t.target);38==t.which&&u>0&&u--,40==t.which&&u<s.length-1&&u++,~u||(u=0),s.eq(u).trigger(\"focus\")}}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data(\"bs.dropdown\");i||n.data(\"bs.dropdown\",i=new r(this)),\"string\"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on(\"click.bs.dropdown.data-api\",o).on(\"click.bs.dropdown.data-api\",\".dropdown form\",function(e){e.stopPropagation()}).on(\"click.bs.dropdown.data-api\",n,r.prototype.toggle).on(\"keydown.bs.dropdown.data-api\",n,r.prototype.keydown).on(\"keydown.bs.dropdown.data-api\",\".dropdown-menu\",r.prototype.keydown)}(jQuery)},function(e,t){!function(e){\"use strict\";var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.$trigger=e('[data-toggle=\"collapse\"][href=\"#'+n.id+'\"],[data-toggle=\"collapse\"][data-target=\"#'+n.id+'\"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(t){var n,r=t.attr(\"data-target\")||(n=t.attr(\"href\"))&&n.replace(/.*(?=#[^\\s]+$)/,\"\");return e(r)}function r(n){return this.each(function(){var r=e(this),i=r.data(\"bs.collapse\"),o=e.extend({},t.DEFAULTS,r.data(),\"object\"==typeof n&&n);!i&&o.toggle&&/show|hide/.test(n)&&(o.toggle=!1),i||r.data(\"bs.collapse\",i=new t(this,o)),\"string\"==typeof n&&i[n]()})}t.VERSION=\"3.3.7\",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){return this.$element.hasClass(\"width\")?\"width\":\"height\"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass(\"in\")){var n,i=this.$parent&&this.$parent.children(\".panel\").children(\".in, .collapsing\");if(!(i&&i.length&&(n=i.data(\"bs.collapse\"))&&n.transitioning)){var o=e.Event(\"show.bs.collapse\");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(r.call(i,\"hide\"),n||i.data(\"bs.collapse\",null));var a=this.dimension();this.$element.removeClass(\"collapse\").addClass(\"collapsing\")[a](0).attr(\"aria-expanded\",!0),this.$trigger.removeClass(\"collapsed\").attr(\"aria-expanded\",!0),this.transitioning=1;var s=function(){this.$element.removeClass(\"collapsing\").addClass(\"collapse in\")[a](\"\"),this.transitioning=0,this.$element.trigger(\"shown.bs.collapse\")};if(!e.support.transition)return s.call(this);var u=e.camelCase([\"scroll\",a].join(\"-\"));this.$element.one(\"bsTransitionEnd\",e.proxy(s,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[a](this.$element[0][u])}}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass(\"in\")){var n=e.Event(\"hide.bs.collapse\");if(this.$element.trigger(n),!n.isDefaultPrevented()){var r=this.dimension();this.$element[r](this.$element[r]())[0].offsetHeight,this.$element.addClass(\"collapsing\").removeClass(\"collapse in\").attr(\"aria-expanded\",!1),this.$trigger.addClass(\"collapsed\").attr(\"aria-expanded\",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass(\"collapsing\").addClass(\"collapse\").trigger(\"hidden.bs.collapse\")};if(!e.support.transition)return i.call(this);this.$element[r](0).one(\"bsTransitionEnd\",e.proxy(i,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}}},t.prototype.toggle=function(){this[this.$element.hasClass(\"in\")?\"hide\":\"show\"]()},t.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle=\"collapse\"][data-parent=\"'+this.options.parent+'\"]').each(e.proxy(function(t,r){var i=e(r);this.addAriaAndCollapsedClass(n(i),i)},this)).end()},t.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass(\"in\");e.attr(\"aria-expanded\",n),t.toggleClass(\"collapsed\",!n).attr(\"aria-expanded\",n)};var i=e.fn.collapse;e.fn.collapse=r,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on(\"click.bs.collapse.data-api\",'[data-toggle=\"collapse\"]',function(t){var i=e(this);i.attr(\"data-target\")||t.preventDefault();var o=n(i),a=o.data(\"bs.collapse\")?\"toggle\":i.data();r.call(o,a)})}(jQuery)},function(e,t){!function(e){\"use strict\";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(\".carousel-indicators\"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on(\"keydown.bs.carousel\",e.proxy(this.keydown,this)),\"hover\"==this.options.pause&&!(\"ontouchstart\"in document.documentElement)&&this.$element.on(\"mouseenter.bs.carousel\",e.proxy(this.pause,this)).on(\"mouseleave.bs.carousel\",e.proxy(this.cycle,this))};function n(n){return this.each(function(){var r=e(this),i=r.data(\"bs.carousel\"),o=e.extend({},t.DEFAULTS,r.data(),\"object\"==typeof n&&n),a=\"string\"==typeof n?n:o.slide;i||r.data(\"bs.carousel\",i=new t(this,o)),\"number\"==typeof n?i.to(n):a?i[a]():o.interval&&i.pause().cycle()})}t.VERSION=\"3.3.7\",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:\"hover\",wrap:!0,keyboard:!0},t.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(e){return this.$items=e.parent().children(\".item\"),this.$items.index(e||this.$active)},t.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if((\"prev\"==e&&0===n||\"next\"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var r=(n+(\"prev\"==e?-1:1))%this.$items.length;return this.$items.eq(r)},t.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(\".item.active\"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one(\"slid.bs.carousel\",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?\"next\":\"prev\",this.$items.eq(e))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(\".next, .prev\").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide(\"next\")},t.prototype.prev=function(){if(!this.sliding)return this.slide(\"prev\")},t.prototype.slide=function(n,r){var i=this.$element.find(\".item.active\"),o=r||this.getItemForDirection(n,i),a=this.interval,s=\"next\"==n?\"left\":\"right\",u=this;if(o.hasClass(\"active\"))return this.sliding=!1;var c=o[0],l=e.Event(\"slide.bs.carousel\",{relatedTarget:c,direction:s});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(\".active\").removeClass(\"active\");var f=e(this.$indicators.children()[this.getItemIndex(o)]);f&&f.addClass(\"active\")}var d=e.Event(\"slid.bs.carousel\",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass(\"slide\")?(o.addClass(n),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one(\"bsTransitionEnd\",function(){o.removeClass([n,s].join(\" \")).addClass(\"active\"),i.removeClass([\"active\",s].join(\" \")),u.sliding=!1,setTimeout(function(){u.$element.trigger(d)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(i.removeClass(\"active\"),o.addClass(\"active\"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=n,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(t){var r,i=e(this),o=e(i.attr(\"data-target\")||(r=i.attr(\"href\"))&&r.replace(/.*(?=#[^\\s]+$)/,\"\"));if(o.hasClass(\"carousel\")){var a=e.extend({},o.data(),i.data()),s=i.attr(\"data-slide-to\");s&&(a.interval=!1),n.call(o,a),s&&o.data(\"bs.carousel\").to(s),t.preventDefault()}};e(document).on(\"click.bs.carousel.data-api\",\"[data-slide]\",i).on(\"click.bs.carousel.data-api\",\"[data-slide-to]\",i),e(window).on(\"load\",function(){e('[data-ride=\"carousel\"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery)},function(e,t){!function(e){\"use strict\";var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.isLoading=!1};function n(n){return this.each(function(){var r=e(this),i=r.data(\"bs.button\"),o=\"object\"==typeof n&&n;i||r.data(\"bs.button\",i=new t(this,o)),\"toggle\"==n?i.toggle():n&&i.setState(n)})}t.VERSION=\"3.3.7\",t.DEFAULTS={loadingText:\"loading...\"},t.prototype.setState=function(t){var n=\"disabled\",r=this.$element,i=r.is(\"input\")?\"val\":\"html\",o=r.data();t+=\"Text\",null==o.resetText&&r.data(\"resetText\",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),\"loadingText\"==t?(this.isLoading=!0,r.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle=\"buttons\"]');if(t.length){var n=this.$element.find(\"input\");\"radio\"==n.prop(\"type\")?(n.prop(\"checked\")&&(e=!1),t.find(\".active\").removeClass(\"active\"),this.$element.addClass(\"active\")):\"checkbox\"==n.prop(\"type\")&&(n.prop(\"checked\")!==this.$element.hasClass(\"active\")&&(e=!1),this.$element.toggleClass(\"active\")),n.prop(\"checked\",this.$element.hasClass(\"active\")),e&&n.trigger(\"change\")}else this.$element.attr(\"aria-pressed\",!this.$element.hasClass(\"active\")),this.$element.toggleClass(\"active\")};var r=e.fn.button;e.fn.button=n,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on(\"click.bs.button.data-api\",'[data-toggle^=\"button\"]',function(t){var r=e(t.target).closest(\".btn\");n.call(r,\"toggle\"),e(t.target).is('input[type=\"radio\"], input[type=\"checkbox\"]')||(t.preventDefault(),r.is(\"input,button\")?r.trigger(\"focus\"):r.find(\"input:visible,button:visible\").first().trigger(\"focus\"))}).on(\"focus.bs.button.data-api blur.bs.button.data-api\",'[data-toggle^=\"button\"]',function(t){e(t.target).closest(\".btn\").toggleClass(\"focus\",/^focus(in)?$/.test(t.type))})}(jQuery)},function(e,t){!function(e){\"use strict\";var t='[data-dismiss=\"alert\"]',n=function(n){e(n).on(\"click\",t,this.close)};n.VERSION=\"3.3.7\",n.TRANSITION_DURATION=150,n.prototype.close=function(t){var r=e(this),i=r.attr(\"data-target\");i||(i=(i=r.attr(\"href\"))&&i.replace(/.*(?=#[^\\s]*$)/,\"\"));var o=e(\"#\"===i?[]:i);function a(){o.detach().trigger(\"closed.bs.alert\").remove()}t&&t.preventDefault(),o.length||(o=r.closest(\".alert\")),o.trigger(t=e.Event(\"close.bs.alert\")),t.isDefaultPrevented()||(o.removeClass(\"in\"),e.support.transition&&o.hasClass(\"fade\")?o.one(\"bsTransitionEnd\",a).emulateTransitionEnd(n.TRANSITION_DURATION):a())};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data(\"bs.alert\");i||r.data(\"bs.alert\",i=new n(this)),\"string\"==typeof t&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on(\"click.bs.alert.data-api\",t,n.prototype.close)}(jQuery)},function(e,t){!function(e){\"use strict\";e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one(\"bsTransitionEnd\",function(){n=!0});return setTimeout(function(){n||e(r).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement(\"bootstrap\"),t={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery)},function(e,t,n){n(235),n(234),n(233),n(232),n(231),n(230),n(229),n(228),n(227),n(226),n(225),n(224)},function(e,t,n){var r=n(19),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}}]);","extractedComments":[]}