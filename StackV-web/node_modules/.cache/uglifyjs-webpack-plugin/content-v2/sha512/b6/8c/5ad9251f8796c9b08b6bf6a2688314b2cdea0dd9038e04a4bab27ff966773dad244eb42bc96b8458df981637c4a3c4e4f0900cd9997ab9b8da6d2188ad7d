{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{449:function(r,e,t){\"use strict\";var n=t(173);Object.defineProperty(e,\"__esModule\",{value:!0}),e.EXPAND_KEYS=e.HULL_OFFSET=e.HULL_CURVE=e.DEFAULT_COLLISION_RADIUS=e.D3_GRAPHIC_KEYS=e.RECURSION_BLACK_LIST_KEY_NAME_LIST=void 0;var a=n(t(439));e.RECURSION_BLACK_LIST_KEY_NAME_LIST=[\"id\",\"type\",\"value\",\"labeltype\",\"encoding\",\"belongsTo\",\"providedByService\",\"aggregateChildren\",\"parentList\",\"directParentList\",\"isPortOf\"];e.D3_GRAPHIC_KEYS=[\"x\",\"y\",\"dx\",\"dy\",\"vx\",\"vy\",\"fx\",\"fy\",\"index\"];e.DEFAULT_COLLISION_RADIUS=30;var i=a.line().curve(a.curveCatmullRomClosed);e.HULL_CURVE=i;e.HULL_OFFSET=35;e.EXPAND_KEYS=[\"hasNode\",\"hasTopology\"]},450:function(r,e,t){var n=t(494),a=t(493),i=t(482);r.exports=function(r){return n(r)||a(r)||i()}},451:function(r,e,t){\"use strict\";var n=t(173),a=t(18);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=a(t(450)),o=a(t(123)),u=a(t(174)),d=a(t(437)),s=a(t(436)),f=a(t(438)),c=a(t(441)),h=n(t(481)),l=a(t(452)),p=a(t(476)),v=n(t(449)),_=function(){function r(e){(0,d.default)(this,r),(0,f.default)(this,\"data\",{}),(0,f.default)(this,\"nodes\",[]),(0,f.default)(this,\"links\",[]),(0,f.default)(this,\"hulls\",[]),(0,f.default)(this,\"expandInfo\",{}),(0,f.default)(this,\"versionControl\",new p.default),this.nodeFetcher=this.nodeFetcher.bind(this),this.update(e,!0)}return(0,s.default)(r,[{key:\"update\",value:function(r){var e=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=l.default.parse(r),a=!0,i=[];if(!t){var o=this.versionControl.diff(n);a=o.changed,i=o.remove}var d=[];if(a){this.versionControl.updateVersion(n);var s=(0,u.default)(this.expandInfo).filter(function(r){return-1===i.indexOf(r)});for(var f in n.serverData){var p=n.serverData[f];this.data.hasOwnProperty(f)?c.default.assign(this.data[f].metadata,p.metadata):(this.data[f]=p,d.push(f))}for(var v in i.length>0&&i.forEach(function(r){delete e.data[r],delete n.topLevel[r]}),this.nodes=h.prepareData(this.data,n.topLevel,this.nodeFetcher),this.expandInfo)if(this.expandInfo.hasOwnProperty(v)){var _=this.nodeFetcher(v);if(_){var y=this.expandInfo[v].nodes.map(function(r){return r.id}),O=[];this.canExpand(_)&&(O=this.childrenElementIdList(_));var g=c.default.difference(O,y),L=c.default.difference(y,O);(g.length>0||L.length>0)&&O.forEach(function(r){h.cleanForceLayoutData(e.nodeFetcher(r,!0))})}}this.expandInfo={},this.calculateGraphicData(),s.forEach(function(r){return e.expandNode(e.nodeFetcher(r,!0))})}return i}},{key:\"childrenElementIdList\",value:function(r){var e=[];return v.EXPAND_KEYS.forEach(function(t){r.hasOwnProperty(t)&&Array.isArray(r[t])&&r[t].forEach(function(r){return e.push(r)})}),e}},{key:\"canExpand\",value:function(r){var e=!1;return v.EXPAND_KEYS.forEach(function(t){r.hasOwnProperty(t)&&(e=!0)}),e}},{key:\"calculateGraphicData\",value:function(){this.links=[],this.hulls=[],h.generateCentroidLinks(this.nodes,this.links,this.nodeFetcher),h.calculateVisibleLinks(this.nodes,this.links,this.hulls,this.expandInfo,this.nodeFetcher),h.updateHullCoordinate(this.hulls,this.nodeFetcher)}},{key:\"updateHullCoordinate\",value:function(){return h.updateHullCoordinate(this.hulls,this.nodeFetcher),this.hulls}},{key:\"nodeFetcher\",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=this.data[r];return null==t?null:e?t:t.metadata}},{key:\"isNodeExpanded\",value:function(r){var e;return e=\"object\"===(0,o.default)(r)?r.metadata.id:r,this.expandInfo.hasOwnProperty(e)}},{key:\"expandNode\",value:function(r){if(r){var e=r.metadata.id;if(!this.isNodeExpanded(e)){var t=this.nodeFetcher(e);return t&&(h.expandNode(t,this.nodes,this.expandInfo,this.nodeFetcher),this.calculateGraphicData()),!0}return!1}}},{key:\"shrinkNode\",value:function(r){var e=r.metadata.id;if(this.isNodeExpanded(e)){var t=this.nodeFetcher(e);return t&&(h.shrinkNode(t,this.nodes,this.expandInfo,this.nodeFetcher),this.calculateGraphicData()),!0}return!1}},{key:\"prepareSpace\",value:function(r){r&&h.startSpacePrepare(r,this.nodes)}},{key:\"prepareSpaceDone\",value:function(){h.endSpacePrepare(this.nodes)}},{key:\"parse\",value:function(){var r=this,e={nodes:[],links:(0,i.default)(this.links),hulls:(0,i.default)(this.hulls)};return this.nodes.forEach(function(t){return e.nodes.push(r.nodeFetcher(t.id,!0))}),e}}]),r}();e.default=_},476:function(r,e,t){\"use strict\";var n=t(18);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var a=n(t(174)),i=n(t(437)),o=n(t(436)),u=n(t(438)),d=n(t(441)),s=function(){function r(){(0,i.default)(this,r),(0,u.default)(this,\"versionRecord\",{}),(0,u.default)(this,\"currentNodeStructure\",{})}return(0,o.default)(r,[{key:\"diff\",value:function(r){var e=this,t=!1,n=[];return(0,a.default)(r.topLevel).forEach(function(a){var i=r.versionRecord[a],o=e.versionRecord[a];if(!o||i.time>o.time&&i.uuid!==o.uuid){t=!0;var u=r.topLevel[a],s=e.currentNodeStructure[a];d.default.difference(s,u).forEach(function(r){return n.push(r)})}-1===i.time&&e.currentNodeStructure[a].forEach(function(r){return n.push(r)})}),{changed:t,remove:n}}},{key:\"updateVersion\",value:function(r){d.default.assign(this.currentNodeStructure,r.topLevel),d.default.assign(this.versionRecord,r.versionRecord)}}]),r}();e.default=s},477:function(r,e){r.exports=function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}},478:function(r,e,t){var n=t(127);r.exports=function(r,e){var t=[],a=!0,i=!1,o=void 0;try{for(var u,d=n(r);!(a=(u=d.next()).done)&&(t.push(u.value),!e||t.length!==e);a=!0);}catch(r){i=!0,o=r}finally{try{a||null==d.return||d.return()}finally{if(i)throw o}}return t}},479:function(r,e){r.exports=function(r){if(Array.isArray(r))return r}},480:function(r,e,t){var n=t(479),a=t(478),i=t(477);r.exports=function(r,e){return n(r)||a(r,e)||i()}},481:function(r,e,t){\"use strict\";var n=t(173),a=t(18);Object.defineProperty(e,\"__esModule\",{value:!0}),e.prepareData=function(r,e,t){var n=(0,d.default)(e);for(var a in function r(e,t){if(null!==e&&\"object\"===(0,u.default)(e)){if(e.hasOwnProperty(\"metadata\")&&(e=e.metadata),e.hasOwnProperty(\"id\")){var n=[];for(var a in e)e.hasOwnProperty(a)&&Array.isArray(e[a])&&-1===s.RECURSION_BLACK_LIST_KEY_NAME_LIST.indexOf(a)&&(h(n,e[a]),h(n,r(e[a],t)));for(var i=0;i<n.length;i++){var o=t(n[i]);o&&(o.hasOwnProperty(\"parentList\")&&Array.isArray(o.parentList)||(o.parentList=[]),-1===o.parentList.indexOf(e.id)&&o.parentList.push(e.id))}return e.aggregateChildren=n,n}var d=[];for(var f in e)if(e.hasOwnProperty(f)){var c=e[f];\"string\"==typeof c&&(c=t(c)),h(d,r(c,t))}return d}}(r,function(r){return t(r)}),r)r.hasOwnProperty(a)&&function(){var e=r[a].metadata;for(var i in e)if(e.hasOwnProperty(i)&&Array.isArray(e[i])&&-1===s.RECURSION_BLACK_LIST_KEY_NAME_LIST.indexOf(i))for(var o=e[i],u=0;u<o.length;u++){var d=t(o[u]);d&&(d.hasOwnProperty(\"directParentList\")&&Array.isArray(d.directParentList)||(d.directParentList=[]),-1===d.directParentList.indexOf(e.id)&&d.directParentList.push(e.id),\"hasBidirectionalPort\"===i&&(d.hasOwnProperty(\"isPortOf\")&&Array.isArray(d.isPortOf)||(d.isPortOf=[]),-1===d.isPortOf.indexOf(e.id)&&d.isPortOf.push(e.id)))}e.hasOwnProperty(\"hasBidirectionalPort\")&&e.hasOwnProperty(\"aggregateChildren\")&&(e.aggregateChildren=e.aggregateChildren.filter(function(r){return-1===e.hasBidirectionalPort.indexOf(r)})),c(e,\"collisionRadius\",s.DEFAULT_COLLISION_RADIUS),-1!==n.indexOf(e.id)?c(e,\"top\",!0):delete e.aggregateChildren}();for(var i in r)if(r.hasOwnProperty(i)){var o=r[i].metadata;o.__orig__=_.cloneDeep(o)}return n.map(function(r){return t(r)})},e.generateCentroidLinks=function(r,e,t){r.forEach(function(n){n.hasOwnProperty(\"directParentList\")&&n.directParentList.forEach(function(a){var i=t(a);i&&-1!==r.indexOf(i)&&e.push({source:t(n.id,!0),target:t(i.id,!0),metadata:{sourceNode:n,targetNode:i,centroid:!0,required:!1,length:15,strength:1}})})})},e.updateHullCoordinate=function(r,e){function t(r){return r}r.forEach(function(r){for(var n=[],a=0;a<r.hullNodes.length;a++){var i=e(r.hullNodes[a].id,!0);n.push(t([i.x-s.HULL_OFFSET,i.y-s.HULL_OFFSET])),n.push(t([i.x-s.HULL_OFFSET,i.y+s.HULL_OFFSET])),n.push(t([i.x+s.HULL_OFFSET,i.y-s.HULL_OFFSET])),n.push(t([i.x+s.HULL_OFFSET,i.y+s.HULL_OFFSET]))}if(r.hasOwnProperty(\"children\"))for(var o=0;o<r.children.length;o++){var u=e(r.children[o].id,!0);n.push(t([u.x-2*s.HULL_OFFSET,u.y-2*s.HULL_OFFSET])),n.push(t([u.x-2*s.HULL_OFFSET,u.y+2*s.HULL_OFFSET])),n.push(t([u.x+2*s.HULL_OFFSET,u.y-2*s.HULL_OFFSET])),n.push(t([u.x+2*s.HULL_OFFSET,u.y+2*s.HULL_OFFSET]))}var d=f.polygonHull(n);r.__path_raw__=d,r.path=s.HULL_CURVE(d)})},e.calculateVisibleLinks=function(r,e,t,n,a){for(var i in r.forEach(function(t){if(t.hasOwnProperty(\"aggregateChildren\"))for(var i=0;i<t.aggregateChildren.length;i++)p(t,a(t.aggregateChildren[i]),r,e,a,n);if(t.hasOwnProperty(\"hasBidirectionalPort\"))for(var o=0;o<t.hasBidirectionalPort.length;o++){var u=a(t.hasBidirectionalPort[o]);p(t,u,r,e,a,n,u)}p(t,t,r,e,a,n)}),n)if(n.hasOwnProperty(i)){var u=n[i],d={id:i,hullNodes:(0,o.default)(u.nodes),physicalNodes:l(i,a,n)};if(u.hasOwnProperty(\"children\")){d.children=[];for(var s=0;s<u.children.length;s++){var f=u.children[s];d.children=(0,o.default)(d.children).concat((0,o.default)(n[f].nodes),[a(f)])}}t.push(d)}},e.expandNode=function(r,e,t,n){c(r,\"expand\",!1),r.hasOwnProperty(\"__original_point_backup__\")||(r.__original_point_backup__={x:r.fx,y:r.fy});!function(r,e,t,n){var a=[];if(s.EXPAND_KEYS.forEach(function(t){r.hasOwnProperty(t)&&r[t].forEach(function(r){var t=n(r);t&&(a.push(t),-1===e.indexOf(t)&&e.push(t))})}),t[r.id]={id:r.id,nodes:a},r.hasOwnProperty(\"parentList\"))for(var i=0;i<r.parentList.length;i++){var o=r.parentList[i];t.hasOwnProperty(o)&&(t[o].hasOwnProperty(\"children\")||(t[o].children=[]),-1===t[o].children.indexOf(r.id)&&t[o].children.push(r.id))}}(r,e,t,n)},e.shrinkNode=function(r,e,t,n){var a=n(r.id,!0);a.hasOwnProperty(\"__original_point_backup__\")&&(a.fx=a.__original_point_backup__.x,a.fy=a.__original_point_backup__.y,a.x=a.__original_point_backup__.x,a.y=a.__original_point_backup__.y,a.vx=0,a.vy=0,delete a.__original_point_backup__);c(r,\"expand\",!1),function(r,e,t,n){var a=[];for(var i in function r(e,t,n){var a=t[e];a.hasOwnProperty(\"children\")&&a.children.forEach(function(e){r(e,t,n)}),t[e].nodes.forEach(function(r){n.push(r)}),delete t[e]}(r.id,n,a),n)n.hasOwnProperty(i)&&n[i].hasOwnProperty(\"children\")&&(n[i].children=n[i].children.filter(function(e){return e!==r.id}));delete n[r.id],a.forEach(function(r){return v(r)});for(var o=e.length-1;o>=0;o-=1){var u=e[o];-1!==a.indexOf(u)&&e.splice(o,1)}}(r,e,0,t)},e.cleanForceLayoutData=v,e.endSpacePrepare=function(r){for(var e in r)if(r.hasOwnProperty(e)){var t=r[e];c(t,\"collisionRadius\",s.DEFAULT_COLLISION_RADIUS)}},e.startSpacePrepare=function(r,e){r.hasOwnProperty(\"__original_point_backup__\")||(r.__original_point_backup__={x:r.x,y:r.y});for(var t in r.fx=null,r.fy=null,e)if(e.hasOwnProperty(t)){var n=e[t];c(n,\"collisionRadius\",y(O(n)))}};var i=a(t(480)),o=a(t(450)),u=a(t(123)),d=a(t(174)),s=n(t(449)),f=n(t(439));function c(r,e,t){r.hasOwnProperty(\"renderConfig\")||(r.renderConfig={}),r.renderConfig[e]=t}function h(r,e){if(e)for(var t=0;t<e.length;t++){var n=e[t];\"string\"==typeof n&&-1===r.indexOf(n)&&r.push(n)}}function l(r,e,t){var n=[e(r)];return function r(e,t,n,a){var i=n[e];i&&i.nodes&&i.nodes.forEach(function(e){a.push(e),r(e.id,t,n,a)})}(r,e,t,n),n}function p(r,e,t,n,a,o){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(e&&e.hasOwnProperty(\"isAlias\")){var d=a(e.isAlias);if(d){var s=function(r,e){var t=e.map(function(r){return r.id}),n=null,a=!0;-1!==t.indexOf(r.id)&&(n=r.id,a=!1);if(a)for(var i=0;i<t.length;i++){var o=t[i];r.hasOwnProperty(\"parentList\")&&-1!==r.parentList.indexOf(o)&&(n=o,a=!0)}r.hasOwnProperty(\"isPortOf\")&&Array.isArray(r.isPortOf)&&-1!==r.isPortOf.indexOf(n)&&(a=!1);return[n,a]}(d,t),f=(0,i.default)(s,2),c=f[0],h=f[1];if(c){var l=r.id,p=c;if(l!==p){var v=a(l),_=a(p);if(!function(r,e,t){for(var n=0;n<r.length;n++){var a=r[n];if(a.source.metadata===e&&a.target.metadata===t)return!0;if(a.source.metadata===t&&a.target.metadata===e)return!0}return!1}(n,v,_)){var y=o.hasOwnProperty(v.id),O=o.hasOwnProperty(_.id),g=!u&&r!==e,L=h;u||(e=a(l));var P=(!y||!g)&&(!O||!L),x={source:a(v.id,!0),target:a(_.id,!0),metadata:{sourceNode:v,targetNode:_,sourceProxy:g,targetProxy:L,required:P,length:100,strength:.1}};g&&(x.metadata.realSourceNode=e),u&&(x.metadata.realSourceNode=u),L&&(x.metadata.realTargetNode=d),n.push(x)}}}}}}function v(r){for(var e in r)r.hasOwnProperty(e)&&-1!==s.D3_GRAPHIC_KEYS.indexOf(e)&&delete r[e]}function y(r){!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r<=1?50:length=.7*(5.00259*r+75.1663+10)}function O(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=1;if(e){if(e[r.id]&&(t+=e[r.id].nodes.length,e[r.id].hasOwnProperty(\"children\")))for(var n=0;n<e[r.id].children.length;n++)t+=e[e[r.id].children[n]].nodes.length}else s.EXPAND_KEYS.forEach(function(e){r.hasOwnProperty(e)&&(t+=r[e].length)});return t}},482:function(r,e){r.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}},483:function(r,e,t){var n=t(181),a=t(33)(\"iterator\"),i=t(66);r.exports=t(19).isIterable=function(r){var e=Object(r);return void 0!==e[a]||\"@@iterator\"in e||i.hasOwnProperty(n(e))}},484:function(r,e,t){t(130),t(125),r.exports=t(483)},485:function(r,e,t){r.exports=t(484)},486:function(r,e,t){var n=t(33)(\"iterator\"),a=!1;try{var i=[7][n]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(r){}r.exports=function(r,e){if(!e&&!a)return!1;var t=!1;try{var i=[7],o=i[n]();o.next=function(){return{done:t=!0}},i[n]=function(){return o},r(i)}catch(r){}return t}},487:function(r,e,t){\"use strict\";var n=t(39),a=t(67);r.exports=function(r,e,t){e in r?n.f(r,e,a(0,t)):r[e]=t}},488:function(r,e,t){var n=t(66),a=t(33)(\"iterator\"),i=Array.prototype;r.exports=function(r){return void 0!==r&&(n.Array===r||i[a]===r)}},489:function(r,e,t){var n=t(57);r.exports=function(r,e,t,a){try{return a?e(n(t)[0],t[1]):e(t)}catch(e){var i=r.return;throw void 0!==i&&n(i.call(r)),e}}},490:function(r,e,t){\"use strict\";var n=t(178),a=t(65),i=t(126),o=t(489),u=t(488),d=t(183),s=t(487),f=t(182);a(a.S+a.F*!t(486)(function(r){Array.from(r)}),\"Array\",{from:function(r){var e,t,a,c,h=i(r),l=\"function\"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,_=void 0!==v,y=0,O=f(h);if(_&&(v=n(v,p>2?arguments[2]:void 0,2)),void 0==O||l==Array&&u(O))for(t=new l(e=d(h.length));e>y;y++)s(t,y,_?v(h[y],y):h[y]);else for(c=O.call(h),t=new l;!(a=c.next()).done;y++)s(t,y,_?o(c,v,[a.value,y],!0):a.value);return t.length=y,t}})},491:function(r,e,t){t(125),t(490),r.exports=t(19).Array.from},492:function(r,e,t){r.exports=t(491)},493:function(r,e,t){var n=t(492),a=t(485);r.exports=function(r){if(a(Object(r))||\"[object Arguments]\"===Object.prototype.toString.call(r))return n(r)}},494:function(r,e){r.exports=function(r){if(Array.isArray(r)){for(var e=0,t=new Array(r.length);e<r.length;e++)t[e]=r[e];return t}}}}]);","extractedComments":[]}